var _A=Object.defineProperty;var wA=(t,e,n)=>e in t?_A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>(wA(t,typeof e!="symbol"?e+"":e,n),n);function EA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function GT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XT={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),TA=Symbol.for("react.portal"),SA=Symbol.for("react.fragment"),kA=Symbol.for("react.strict_mode"),DA=Symbol.for("react.profiler"),IA=Symbol.for("react.provider"),CA=Symbol.for("react.context"),PA=Symbol.for("react.forward_ref"),AA=Symbol.for("react.suspense"),xA=Symbol.for("react.memo"),bA=Symbol.for("react.lazy"),P0=Symbol.iterator;function RA(t){return t===null||typeof t!="object"?null:(t=P0&&t[P0]||t["@@iterator"],typeof t=="function"?t:null)}var JT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZT=Object.assign,eS={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=eS,this.updater=n||JT}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tS(){}tS.prototype=Wo.prototype;function ng(t,e,n){this.props=t,this.context=e,this.refs=eS,this.updater=n||JT}var rg=ng.prototype=new tS;rg.constructor=ng;ZT(rg,Wo.prototype);rg.isPureReactComponent=!0;var A0=Array.isArray,nS=Object.prototype.hasOwnProperty,ig={current:null},rS={key:!0,ref:!0,__self:!0,__source:!0};function iS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nS.call(e,r)&&!rS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nl,type:t,key:s,ref:o,props:i,_owner:ig.current}}function MA(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function NA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x0=/\/+/g;function hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NA(""+t.key):e.toString(36)}function nc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case TA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hf(o,0):r,A0(i)?(n="",t!=null&&(n=t.replace(x0,"$&/")+"/"),nc(i,e,n,"",function(c){return c})):i!=null&&(sg(i)&&(i=MA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(x0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",A0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+hf(s,a);o+=nc(s,e,n,l,i)}else if(l=RA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+hf(s,a++),o+=nc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tu(t,e,n){if(t==null)return t;var r=[],i=0;return nc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},rc={transition:null},VA={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:rc,ReactCurrentOwner:ig};function sS(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Tu,forEach:function(t,e,n){Tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tu(t,function(){e++}),e},toArray:function(t){return Tu(t,function(e){return e})||[]},only:function(t){if(!sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Wo;ue.Fragment=SA;ue.Profiler=DA;ue.PureComponent=ng;ue.StrictMode=kA;ue.Suspense=AA;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA;ue.act=sS;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ig.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nS.call(e,l)&&!rS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:CA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IA,_context:t},t.Consumer=t};ue.createElement=iS;ue.createFactory=function(t){var e=iS.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:PA,render:t}};ue.isValidElement=sg;ue.lazy=function(t){return{$$typeof:bA,_payload:{_status:-1,_result:t},_init:OA}};ue.memo=function(t,e){return{$$typeof:xA,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=rc.transition;rc.transition={};try{t()}finally{rc.transition=e}};ue.unstable_act=sS;ue.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ue.useContext=function(t){return Ft.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ue.useId=function(){return Ft.current.useId()};ue.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ue.useRef=function(t){return Ft.current.useRef(t)};ue.useState=function(t){return Ft.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Ft.current.useTransition()};ue.version="18.3.1";XT.exports=ue;var O=XT.exports;const P=GT(O),LA=EA({__proto__:null,default:P},[O]);var gp={},oS={exports:{}},sn={},aS={exports:{}},lS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var ee=F.length;F.push(H);e:for(;0<ee;){var J=ee-1>>>1,pe=F[J];if(0<i(pe,H))F[J]=H,F[ee]=pe,ee=J;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],ee=F.pop();if(ee!==H){F[0]=ee;e:for(var J=0,pe=F.length,Re=pe>>>1;J<Re;){var an=2*(J+1)-1,ln=F[an],Ct=an+1,Qt=F[Ct];if(0>i(ln,ee))Ct<pe&&0>i(Qt,ln)?(F[J]=Qt,F[Ct]=ee,J=Ct):(F[J]=ln,F[an]=ee,J=an);else if(Ct<pe&&0>i(Qt,ee))F[J]=Qt,F[Ct]=ee,J=Ct;else break e}}return H}function i(F,H){var ee=F.sortIndex-H.sortIndex;return ee!==0?ee:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,v=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function x(F){if(w=!1,T(F),!v)if(n(l)!==null)v=!0,$(N);else{var H=n(c);H!==null&&Z(x,H.startTime-F)}}function N(F,H){v=!1,w&&(w=!1,E(y),y=-1),m=!0;var ee=f;try{for(T(H),h=n(l);h!==null&&(!(h.expirationTime>H)||F&&!b());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var pe=J(h.expirationTime<=H);H=t.unstable_now(),typeof pe=="function"?h.callback=pe:h===n(l)&&r(l),T(H)}else r(l);h=n(l)}if(h!==null)var Re=!0;else{var an=n(c);an!==null&&Z(x,an.startTime-H),Re=!1}return Re}finally{h=null,f=ee,m=!1}}var V=!1,D=null,y=-1,k=5,C=-1;function b(){return!(t.unstable_now()-C<k)}function R(){if(D!==null){var F=t.unstable_now();C=F;var H=!0;try{H=D(!0,F)}finally{H?A():(V=!1,D=null)}}else V=!1}var A;if(typeof _=="function")A=function(){_(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ae=X.port2;X.port1.onmessage=R,A=function(){ae.postMessage(null)}}else A=function(){I(R,0)};function $(F){D=F,V||(V=!0,A())}function Z(F,H){y=I(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,$(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var ee=f;f=H;try{return F()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=f;f=F;try{return H()}finally{f=ee}},t.unstable_scheduleCallback=function(F,H,ee){var J=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?J+ee:J):ee=J,F){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ee+pe,F={id:d++,callback:H,priorityLevel:F,startTime:ee,expirationTime:pe,sortIndex:-1},ee>J?(F.sortIndex=ee,e(c,F),n(l)===null&&F===n(c)&&(w?(E(y),y=-1):w=!0,Z(x,ee-J))):(F.sortIndex=pe,e(l,F),v||m||(v=!0,$(N))),F},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(F){var H=f;return function(){var ee=f;f=H;try{return F.apply(this,arguments)}finally{f=ee}}}})(lS);aS.exports=lS;var FA=aS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=O,nn=FA;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uS=new Set,rl={};function Es(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(rl[t]=e,t=0;t<e.length;t++)uS.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,BA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b0={},R0={};function jA(t){return yp.call(R0,t)?!0:yp.call(b0,t)?!1:BA.test(t)?R0[t]=!0:(b0[t]=!0,!1)}function WA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zA(t,e,n,r){if(e===null||typeof e>"u"||WA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var og=/[\-:]([a-z])/g;function ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(og,ag);ft[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(og,ag);ft[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(og,ag);ft[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function lg(t,e,n,r){var i=ft.hasOwnProperty(e)?ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zA(e,n,i,r)&&(n=null),r||i===null?jA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),vp=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),dS=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),_p=Symbol.for("react.suspense"),wp=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),hS=Symbol.for("react.offscreen"),M0=Symbol.iterator;function fa(t){return t===null||typeof t!="object"?null:(t=M0&&t[M0]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,ff;function Pa(t){if(ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ff=e&&e[1]||""}return`
`+ff+t}var pf=!1;function mf(t,e){if(!t||pf)return"";pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pa(t):""}function HA(t){switch(t.tag){case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return t=mf(t.type,!1),t;case 11:return t=mf(t.type.render,!1),t;case 1:return t=mf(t.type,!0),t;default:return""}}function Ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case js:return"Portal";case vp:return"Profiler";case ug:return"StrictMode";case _p:return"Suspense";case wp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dS:return(t.displayName||"Context")+".Consumer";case cS:return(t._context.displayName||"Context")+".Provider";case cg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dg:return e=t.displayName||null,e!==null?e:Ep(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return Ep(t(e))}catch{}}return null}function $A(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ep(e);case 8:return e===ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YA(t){var e=fS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){t._valueTracker||(t._valueTracker=YA(t))}function pS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tp(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function N0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mS(t,e){e=e.checked,e!=null&&lg(t,"checked",e,!1)}function Sp(t,e){mS(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kp(t,e.type,n):e.hasOwnProperty("defaultValue")&&kp(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kp(t,e,n){(e!=="number"||Rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Aa(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function gS(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Du,vS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Du=Du||document.createElement("div"),Du.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Du.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qA=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){qA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ua[e]=Ua[t]})});function _S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+e).trim():e+"px"}function wS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_S(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KA=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(t,e){if(e){if(KA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ap=null;function hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xp=null,so=null,oo=null;function F0(t){if(t=Ll(t)){if(typeof xp!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Yd(e),xp(t.stateNode,t.type,e))}}function ES(t){so?oo?oo.push(t):oo=[t]:so=t}function TS(){if(so){var t=so,e=oo;if(oo=so=null,F0(t),e)for(t=0;t<e.length;t++)F0(e[t])}}function SS(t,e){return t(e)}function kS(){}var gf=!1;function DS(t,e,n){if(gf)return t(e,n);gf=!0;try{return SS(t,e,n)}finally{gf=!1,(so!==null||oo!==null)&&(kS(),TS())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=Yd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var bp=!1;if(Tr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){bp=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{bp=!1}function QA(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ba=!1,Mc=null,Nc=!1,Rp=null,GA={onError:function(t){Ba=!0,Mc=t}};function XA(t,e,n,r,i,s,o,a,l){Ba=!1,Mc=null,QA.apply(GA,arguments)}function JA(t,e,n,r,i,s,o,a,l){if(XA.apply(this,arguments),Ba){if(Ba){var c=Mc;Ba=!1,Mc=null}else throw Error(j(198));Nc||(Nc=!0,Rp=c)}}function Ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U0(t){if(Ts(t)!==t)throw Error(j(188))}function ZA(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U0(i),t;if(s===r)return U0(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function CS(t){return t=ZA(t),t!==null?PS(t):null}function PS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PS(t);if(e!==null)return e;t=t.sibling}return null}var AS=nn.unstable_scheduleCallback,B0=nn.unstable_cancelCallback,ex=nn.unstable_shouldYield,tx=nn.unstable_requestPaint,Ye=nn.unstable_now,nx=nn.unstable_getCurrentPriorityLevel,fg=nn.unstable_ImmediatePriority,xS=nn.unstable_UserBlockingPriority,Oc=nn.unstable_NormalPriority,rx=nn.unstable_LowPriority,bS=nn.unstable_IdlePriority,Wd=null,$n=null;function ix(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Wd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:ax,sx=Math.log,ox=Math.LN2;function ax(t){return t>>>=0,t===0?32:31-(sx(t)/ox|0)|0}var Iu=64,Cu=4194304;function xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=xa(a):(s&=o,s!==0&&(r=xa(s)))}else o=n&~i,o!==0?r=xa(o):s!==0&&(r=xa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function lx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ux(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Mp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RS(){var t=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),t}function yf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function cx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function MS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NS,mg,OS,VS,LS,Np=!1,Pu=[],ni=null,ri=null,ii=null,ol=new Map,al=new Map,Yr=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j0(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ll(e),e!==null&&mg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hx(t,e,n,r,i){switch(e){case"focusin":return ni=ma(ni,t,e,n,r,i),!0;case"dragenter":return ri=ma(ri,t,e,n,r,i),!0;case"mouseover":return ii=ma(ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ol.set(s,ma(ol.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,al.set(s,ma(al.get(s)||null,t,e,n,r,i)),!0}return!1}function FS(t){var e=Qi(t.target);if(e!==null){var n=Ts(e);if(n!==null){if(e=n.tag,e===13){if(e=IS(n),e!==null){t.blockedOn=e,LS(t.priority,function(){OS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ap=r,n.target.dispatchEvent(r),Ap=null}else return e=Ll(n),e!==null&&mg(e),t.blockedOn=n,!1;e.shift()}return!0}function W0(t,e,n){ic(t)&&n.delete(e)}function fx(){Np=!1,ni!==null&&ic(ni)&&(ni=null),ri!==null&&ic(ri)&&(ri=null),ii!==null&&ic(ii)&&(ii=null),ol.forEach(W0),al.forEach(W0)}function ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Np||(Np=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,fx)))}function ll(t){function e(i){return ga(i,t)}if(0<Pu.length){ga(Pu[0],t);for(var n=1;n<Pu.length;n++){var r=Pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&ga(ni,t),ri!==null&&ga(ri,t),ii!==null&&ga(ii,t),ol.forEach(e),al.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)FS(n),n.blockedOn===null&&Yr.shift()}var ao=Mr.ReactCurrentBatchConfig,Lc=!0;function px(t,e,n,r){var i=Se,s=ao.transition;ao.transition=null;try{Se=1,gg(t,e,n,r)}finally{Se=i,ao.transition=s}}function mx(t,e,n,r){var i=Se,s=ao.transition;ao.transition=null;try{Se=4,gg(t,e,n,r)}finally{Se=i,ao.transition=s}}function gg(t,e,n,r){if(Lc){var i=Op(t,e,n,r);if(i===null)Cf(t,e,r,Fc,n),j0(t,r);else if(hx(i,t,e,n,r))r.stopPropagation();else if(j0(t,r),e&4&&-1<dx.indexOf(t)){for(;i!==null;){var s=Ll(i);if(s!==null&&NS(s),s=Op(t,e,n,r),s===null&&Cf(t,e,r,Fc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cf(t,e,r,null,n)}}var Fc=null;function Op(t,e,n,r){if(Fc=null,t=hg(r),t=Qi(t),t!==null)if(e=Ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fc=t,null}function US(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nx()){case fg:return 1;case xS:return 4;case Oc:case rx:return 16;case bS:return 536870912;default:return 16}default:return 16}}var Jr=null,yg=null,sc=null;function BS(){if(sc)return sc;var t,e=yg,n=e.length,r,i="value"in Jr?Jr.value:Jr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sc=i.slice(t,1<r?1-r:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Au(){return!0}function z0(){return!1}function on(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Au:z0,this.isPropagationStopped=z0,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vg=on(zo),Vl=Ue({},zo,{view:0,detail:0}),gx=on(Vl),vf,_f,ya,zd=Ue({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ya&&(ya&&t.type==="mousemove"?(vf=t.screenX-ya.screenX,_f=t.screenY-ya.screenY):_f=vf=0,ya=t),vf)},movementY:function(t){return"movementY"in t?t.movementY:_f}}),H0=on(zd),yx=Ue({},zd,{dataTransfer:0}),vx=on(yx),_x=Ue({},Vl,{relatedTarget:0}),wf=on(_x),wx=Ue({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=on(wx),Tx=Ue({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sx=on(Tx),kx=Ue({},zo,{data:0}),$0=on(kx),Dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Px(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Cx[t])?!!e[t]:!1}function _g(){return Px}var Ax=Ue({},Vl,{key:function(t){if(t.key){var e=Dx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xx=on(Ax),bx=Ue({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=on(bx),Rx=Ue({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),Mx=on(Rx),Nx=Ue({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ox=on(Nx),Vx=Ue({},zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=on(Vx),Fx=[9,13,27,32],wg=Tr&&"CompositionEvent"in window,ja=null;Tr&&"documentMode"in document&&(ja=document.documentMode);var Ux=Tr&&"TextEvent"in window&&!ja,jS=Tr&&(!wg||ja&&8<ja&&11>=ja),q0=String.fromCharCode(32),K0=!1;function WS(t,e){switch(t){case"keyup":return Fx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function Bx(t,e){switch(t){case"compositionend":return zS(e);case"keypress":return e.which!==32?null:(K0=!0,q0);case"textInput":return t=e.data,t===q0&&K0?null:t;default:return null}}function jx(t,e){if(zs)return t==="compositionend"||!wg&&WS(t,e)?(t=BS(),sc=yg=Jr=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jS&&e.locale!=="ko"?null:e.data;default:return null}}var Wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wx[t.type]:e==="textarea"}function HS(t,e,n,r){ES(r),e=Uc(e,"onChange"),0<e.length&&(n=new vg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wa=null,ul=null;function zx(t){t1(t,0)}function Hd(t){var e=Ys(t);if(pS(e))return t}function Hx(t,e){if(t==="change")return e}var $S=!1;if(Tr){var Ef;if(Tr){var Tf="oninput"in document;if(!Tf){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Tf=typeof G0.oninput=="function"}Ef=Tf}else Ef=!1;$S=Ef&&(!document.documentMode||9<document.documentMode)}function X0(){Wa&&(Wa.detachEvent("onpropertychange",YS),ul=Wa=null)}function YS(t){if(t.propertyName==="value"&&Hd(ul)){var e=[];HS(e,ul,t,hg(t)),DS(zx,e)}}function $x(t,e,n){t==="focusin"?(X0(),Wa=e,ul=n,Wa.attachEvent("onpropertychange",YS)):t==="focusout"&&X0()}function Yx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hd(ul)}function qx(t,e){if(t==="click")return Hd(e)}function Kx(t,e){if(t==="input"||t==="change")return Hd(e)}function Qx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:Qx;function cl(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yp.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function J0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z0(t,e){var n=J0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J0(n)}}function qS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KS(){for(var t=window,e=Rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rc(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gx(t){var e=KS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qS(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Z0(n,s);var o=Z0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xx=Tr&&"documentMode"in document&&11>=document.documentMode,Hs=null,Vp=null,za=null,Lp=!1;function e_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lp||Hs==null||Hs!==Rc(r)||(r=Hs,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&cl(za,r)||(za=r,r=Uc(Vp,"onSelect"),0<r.length&&(e=new vg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Sf={},QS={};Tr&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function $d(t){if(Sf[t])return Sf[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QS)return Sf[t]=e[n];return t}var GS=$d("animationend"),XS=$d("animationiteration"),JS=$d("animationstart"),ZS=$d("transitionend"),e1=new Map,t_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){e1.set(t,e),Es(e,[t])}for(var kf=0;kf<t_.length;kf++){var Df=t_[kf],Jx=Df.toLowerCase(),Zx=Df[0].toUpperCase()+Df.slice(1);Ri(Jx,"on"+Zx)}Ri(GS,"onAnimationEnd");Ri(XS,"onAnimationIteration");Ri(JS,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(ZS,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function n_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JA(r,e,void 0,t),t.currentTarget=null}function t1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;n_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;n_(i,a,c),s=l}}}if(Nc)throw t=Rp,Nc=!1,Rp=null,t}function Pe(t,e){var n=e[Wp];n===void 0&&(n=e[Wp]=new Set);var r=t+"__bubble";n.has(r)||(n1(e,t,2,!1),n.add(r))}function If(t,e,n){var r=0;e&&(r|=4),n1(n,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function dl(t){if(!t[bu]){t[bu]=!0,uS.forEach(function(n){n!=="selectionchange"&&(eb.has(n)||If(n,!1,t),If(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,If("selectionchange",!1,e))}}function n1(t,e,n,r){switch(US(e)){case 1:var i=px;break;case 4:i=mx;break;default:i=gg}n=i.bind(null,e,n,t),i=void 0,!bp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}DS(function(){var c=s,d=hg(n),h=[];e:{var f=e1.get(t);if(f!==void 0){var m=vg,v=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":m=xx;break;case"focusin":v="focus",m=wf;break;case"focusout":v="blur",m=wf;break;case"beforeblur":case"afterblur":m=wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mx;break;case GS:case XS:case JS:m=Ex;break;case ZS:m=Ox;break;case"scroll":m=gx;break;case"wheel":m=Lx;break;case"copy":case"cut":case"paste":m=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Y0}var w=(e&4)!==0,I=!w&&t==="scroll",E=w?f!==null?f+"Capture":null:f;w=[];for(var _=c,T;_!==null;){T=_;var x=T.stateNode;if(T.tag===5&&x!==null&&(T=x,E!==null&&(x=sl(_,E),x!=null&&w.push(hl(_,x,T)))),I)break;_=_.return}0<w.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Ap&&(v=n.relatedTarget||n.fromElement)&&(Qi(v)||v[Sr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Qi(v):null,v!==null&&(I=Ts(v),v!==I||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=H0,x="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=Y0,x="onPointerLeave",E="onPointerEnter",_="pointer"),I=m==null?f:Ys(m),T=v==null?f:Ys(v),f=new w(x,_+"leave",m,n,d),f.target=I,f.relatedTarget=T,x=null,Qi(d)===c&&(w=new w(E,_+"enter",v,n,d),w.target=T,w.relatedTarget=I,x=w),I=x,m&&v)t:{for(w=m,E=v,_=0,T=w;T;T=Ns(T))_++;for(T=0,x=E;x;x=Ns(x))T++;for(;0<_-T;)w=Ns(w),_--;for(;0<T-_;)E=Ns(E),T--;for(;_--;){if(w===E||E!==null&&w===E.alternate)break t;w=Ns(w),E=Ns(E)}w=null}else w=null;m!==null&&r_(h,f,m,w,!1),v!==null&&I!==null&&r_(h,I,v,w,!0)}}e:{if(f=c?Ys(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=Hx;else if(Q0(f))if($S)N=Kx;else{N=Yx;var V=$x}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=qx);if(N&&(N=N(t,c))){HS(h,N,n,d);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&kp(f,"number",f.value)}switch(V=c?Ys(c):window,t){case"focusin":(Q0(V)||V.contentEditable==="true")&&(Hs=V,Vp=c,za=null);break;case"focusout":za=Vp=Hs=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,e_(h,n,d);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":e_(h,n,d)}var D;if(wg)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zs?WS(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(jS&&n.locale!=="ko"&&(zs||y!=="onCompositionStart"?y==="onCompositionEnd"&&zs&&(D=BS()):(Jr=d,yg="value"in Jr?Jr.value:Jr.textContent,zs=!0)),V=Uc(c,y),0<V.length&&(y=new $0(y,t,null,n,d),h.push({event:y,listeners:V}),D?y.data=D:(D=zS(n),D!==null&&(y.data=D)))),(D=Ux?Bx(t,n):jx(t,n))&&(c=Uc(c,"onBeforeInput"),0<c.length&&(d=new $0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=D))}t1(h,e)})}function hl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sl(t,n),s!=null&&r.unshift(hl(t,s,i)),s=sl(t,e),s!=null&&r.push(hl(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=sl(n,s),l!=null&&o.unshift(hl(n,l,a))):i||(l=sl(n,s),l!=null&&o.push(hl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(nb,"")}function Ru(t,e,n){if(e=i_(e),i_(t)!==e&&n)throw Error(j(425))}function Bc(){}var Fp=null,Up=null;function Bp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,rb=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(t){return s_.resolve(null).then(t).catch(sb)}:jp;function sb(t){setTimeout(function(){throw t})}function Pf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ll(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ho,fl="__reactProps$"+Ho,Sr="__reactContainer$"+Ho,Wp="__reactEvents$"+Ho,ob="__reactListeners$"+Ho,ab="__reactHandles$"+Ho;function Qi(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o_(t);t!==null;){if(n=t[Bn])return n;t=o_(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[Bn]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Yd(t){return t[fl]||null}var zp=[],qs=-1;function Mi(t){return{current:t}}function xe(t){0>qs||(t.current=zp[qs],zp[qs]=null,qs--)}function Ie(t,e){qs++,zp[qs]=t.current,t.current=e}var wi={},Dt=Mi(wi),Ht=Mi(!1),as=wi;function vo(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function jc(){xe(Ht),xe(Dt)}function a_(t,e,n){if(Dt.current!==wi)throw Error(j(168));Ie(Dt,e),Ie(Ht,n)}function r1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,$A(t)||"Unknown",i));return Ue({},n,r)}function Wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,as=Dt.current,Ie(Dt,t),Ie(Ht,Ht.current),!0}function l_(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=r1(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,xe(Ht),xe(Dt),Ie(Dt,t)):xe(Ht),Ie(Ht,n)}var or=null,qd=!1,Af=!1;function i1(t){or===null?or=[t]:or.push(t)}function lb(t){qd=!0,i1(t)}function Ni(){if(!Af&&or!==null){Af=!0;var t=0,e=Se;try{var n=or;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,qd=!1}catch(i){throw or!==null&&(or=or.slice(t+1)),AS(fg,Ni),i}finally{Se=e,Af=!1}}return null}var Ks=[],Qs=0,zc=null,Hc=0,pn=[],mn=0,ls=null,ar=1,lr="";function zi(t,e){Ks[Qs++]=Hc,Ks[Qs++]=zc,zc=t,Hc=e}function s1(t,e,n){pn[mn++]=ar,pn[mn++]=lr,pn[mn++]=ls,ls=t;var r=ar;t=lr;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ar=1<<32-Pn(e)+i|n<<i|r,lr=s+t}else ar=1<<s|n<<i|r,lr=t}function Tg(t){t.return!==null&&(zi(t,1),s1(t,1,0))}function Sg(t){for(;t===zc;)zc=Ks[--Qs],Ks[Qs]=null,Hc=Ks[--Qs],Ks[Qs]=null;for(;t===ls;)ls=pn[--mn],pn[mn]=null,lr=pn[--mn],pn[mn]=null,ar=pn[--mn],pn[mn]=null}var en=null,Jt=null,Me=!1,Cn=null;function o1(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function u_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function Hp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $p(t){if(Me){var e=Jt;if(e){var n=e;if(!u_(t,e)){if(Hp(t))throw Error(j(418));e=si(n.nextSibling);var r=en;e&&u_(t,e)?o1(r,n):(t.flags=t.flags&-4097|2,Me=!1,en=t)}}else{if(Hp(t))throw Error(j(418));t.flags=t.flags&-4097|2,Me=!1,en=t}}}function c_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Mu(t){if(t!==en)return!1;if(!Me)return c_(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bp(t.type,t.memoizedProps)),e&&(e=Jt)){if(Hp(t))throw a1(),Error(j(418));for(;e;)o1(t,e),e=si(e.nextSibling)}if(c_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?si(t.stateNode.nextSibling):null;return!0}function a1(){for(var t=Jt;t;)t=si(t.nextSibling)}function _o(){Jt=en=null,Me=!1}function kg(t){Cn===null?Cn=[t]:Cn.push(t)}var ub=Mr.ReactCurrentBatchConfig;function va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Nu(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d_(t){var e=t._init;return e(t._payload)}function l1(t){function e(E,_){if(t){var T=E.deletions;T===null?(E.deletions=[_],E.flags|=16):T.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=ui(E,_),E.index=0,E.sibling=null,E}function s(E,_,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<_?(E.flags|=2,_):T):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,T,x){return _===null||_.tag!==6?(_=Vf(T,E.mode,x),_.return=E,_):(_=i(_,T),_.return=E,_)}function l(E,_,T,x){var N=T.type;return N===Ws?d(E,_,T.props.children,x,T.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&d_(N)===_.type)?(x=i(_,T.props),x.ref=va(E,_,T),x.return=E,x):(x=fc(T.type,T.key,T.props,null,E.mode,x),x.ref=va(E,_,T),x.return=E,x)}function c(E,_,T,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Lf(T,E.mode,x),_.return=E,_):(_=i(_,T.children||[]),_.return=E,_)}function d(E,_,T,x,N){return _===null||_.tag!==7?(_=ns(T,E.mode,x,N),_.return=E,_):(_=i(_,T),_.return=E,_)}function h(E,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vf(""+_,E.mode,T),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Su:return T=fc(_.type,_.key,_.props,null,E.mode,T),T.ref=va(E,null,_),T.return=E,T;case js:return _=Lf(_,E.mode,T),_.return=E,_;case zr:var x=_._init;return h(E,x(_._payload),T)}if(Aa(_)||fa(_))return _=ns(_,E.mode,T,null),_.return=E,_;Nu(E,_)}return null}function f(E,_,T,x){var N=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:a(E,_,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Su:return T.key===N?l(E,_,T,x):null;case js:return T.key===N?c(E,_,T,x):null;case zr:return N=T._init,f(E,_,N(T._payload),x)}if(Aa(T)||fa(T))return N!==null?null:d(E,_,T,x,null);Nu(E,T)}return null}function m(E,_,T,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return E=E.get(T)||null,a(_,E,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Su:return E=E.get(x.key===null?T:x.key)||null,l(_,E,x,N);case js:return E=E.get(x.key===null?T:x.key)||null,c(_,E,x,N);case zr:var V=x._init;return m(E,_,T,V(x._payload),N)}if(Aa(x)||fa(x))return E=E.get(T)||null,d(_,E,x,N,null);Nu(_,x)}return null}function v(E,_,T,x){for(var N=null,V=null,D=_,y=_=0,k=null;D!==null&&y<T.length;y++){D.index>y?(k=D,D=null):k=D.sibling;var C=f(E,D,T[y],x);if(C===null){D===null&&(D=k);break}t&&D&&C.alternate===null&&e(E,D),_=s(C,_,y),V===null?N=C:V.sibling=C,V=C,D=k}if(y===T.length)return n(E,D),Me&&zi(E,y),N;if(D===null){for(;y<T.length;y++)D=h(E,T[y],x),D!==null&&(_=s(D,_,y),V===null?N=D:V.sibling=D,V=D);return Me&&zi(E,y),N}for(D=r(E,D);y<T.length;y++)k=m(D,E,y,T[y],x),k!==null&&(t&&k.alternate!==null&&D.delete(k.key===null?y:k.key),_=s(k,_,y),V===null?N=k:V.sibling=k,V=k);return t&&D.forEach(function(b){return e(E,b)}),Me&&zi(E,y),N}function w(E,_,T,x){var N=fa(T);if(typeof N!="function")throw Error(j(150));if(T=N.call(T),T==null)throw Error(j(151));for(var V=N=null,D=_,y=_=0,k=null,C=T.next();D!==null&&!C.done;y++,C=T.next()){D.index>y?(k=D,D=null):k=D.sibling;var b=f(E,D,C.value,x);if(b===null){D===null&&(D=k);break}t&&D&&b.alternate===null&&e(E,D),_=s(b,_,y),V===null?N=b:V.sibling=b,V=b,D=k}if(C.done)return n(E,D),Me&&zi(E,y),N;if(D===null){for(;!C.done;y++,C=T.next())C=h(E,C.value,x),C!==null&&(_=s(C,_,y),V===null?N=C:V.sibling=C,V=C);return Me&&zi(E,y),N}for(D=r(E,D);!C.done;y++,C=T.next())C=m(D,E,y,C.value,x),C!==null&&(t&&C.alternate!==null&&D.delete(C.key===null?y:C.key),_=s(C,_,y),V===null?N=C:V.sibling=C,V=C);return t&&D.forEach(function(R){return e(E,R)}),Me&&zi(E,y),N}function I(E,_,T,x){if(typeof T=="object"&&T!==null&&T.type===Ws&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Su:e:{for(var N=T.key,V=_;V!==null;){if(V.key===N){if(N=T.type,N===Ws){if(V.tag===7){n(E,V.sibling),_=i(V,T.props.children),_.return=E,E=_;break e}}else if(V.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&d_(N)===V.type){n(E,V.sibling),_=i(V,T.props),_.ref=va(E,V,T),_.return=E,E=_;break e}n(E,V);break}else e(E,V);V=V.sibling}T.type===Ws?(_=ns(T.props.children,E.mode,x,T.key),_.return=E,E=_):(x=fc(T.type,T.key,T.props,null,E.mode,x),x.ref=va(E,_,T),x.return=E,E=x)}return o(E);case js:e:{for(V=T.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(E,_.sibling),_=i(_,T.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Lf(T,E.mode,x),_.return=E,E=_}return o(E);case zr:return V=T._init,I(E,_,V(T._payload),x)}if(Aa(T))return v(E,_,T,x);if(fa(T))return w(E,_,T,x);Nu(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,T),_.return=E,E=_):(n(E,_),_=Vf(T,E.mode,x),_.return=E,E=_),o(E)):n(E,_)}return I}var wo=l1(!0),u1=l1(!1),$c=Mi(null),Yc=null,Gs=null,Dg=null;function Ig(){Dg=Gs=Yc=null}function Cg(t){var e=$c.current;xe($c),t._currentValue=e}function Yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){Yc=t,Dg=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Dg!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(Yc===null)throw Error(j(308));Gs=t,Yc.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var Gi=null;function Pg(t){Gi===null?Gi=[t]:Gi.push(t)}function c1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pg(e)):(n.next=i.next,i.next=n),e.interleaved=n,kr(t,r)}function kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function Ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kr(t,n)}return i=r.interleaved,i===null?(e.next=e,Pg(r)):(e.next=i.next,i.next=e),r.interleaved=e,kr(t,n)}function ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}function h_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qc(t,e,n,r){var i=t.updateQueue;Hr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ue({},h,f);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cs|=o,t.lanes=o,t.memoizedState=h}}function f_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Fl={},Yn=Mi(Fl),pl=Mi(Fl),ml=Mi(Fl);function Xi(t){if(t===Fl)throw Error(j(174));return t}function xg(t,e){switch(Ie(ml,e),Ie(pl,t),Ie(Yn,Fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ip(e,t)}xe(Yn),Ie(Yn,e)}function Eo(){xe(Yn),xe(pl),xe(ml)}function h1(t){Xi(ml.current);var e=Xi(Yn.current),n=Ip(e,t.type);e!==n&&(Ie(pl,t),Ie(Yn,n))}function bg(t){pl.current===t&&(xe(Yn),xe(pl))}var Oe=Mi(0);function Kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function Rg(){for(var t=0;t<xf.length;t++)xf[t]._workInProgressVersionPrimary=null;xf.length=0}var lc=Mr.ReactCurrentDispatcher,bf=Mr.ReactCurrentBatchConfig,us=0,Fe=null,Ze=null,it=null,Qc=!1,Ha=!1,gl=0,cb=0;function vt(){throw Error(j(321))}function Mg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Ng(t,e,n,r,i,s){if(us=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lc.current=t===null||t.memoizedState===null?pb:mb,t=n(r,i),Ha){s=0;do{if(Ha=!1,gl=0,25<=s)throw Error(j(301));s+=1,it=Ze=null,e.updateQueue=null,lc.current=gb,t=n(r,i)}while(Ha)}if(lc.current=Gc,e=Ze!==null&&Ze.next!==null,us=0,it=Ze=Fe=null,Qc=!1,e)throw Error(j(300));return t}function Og(){var t=gl!==0;return gl=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=t:it=it.next=t,it}function En(){if(Ze===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=it===null?Fe.memoizedState:it.next;if(e!==null)it=e,Ze=t;else{if(t===null)throw Error(j(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?Fe.memoizedState=it=t:it=it.next=t}return it}function yl(t,e){return typeof e=="function"?e(t):e}function Rf(t){var e=En(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((us&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=d,cs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,bn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mf(t){var e=En(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function f1(){}function p1(t,e){var n=Fe,r=En(),i=e(),s=!bn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,Vg(y1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,vl(9,g1.bind(null,n,r,i,e),void 0,null),st===null)throw Error(j(349));us&30||m1(n,e,i)}return i}function m1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function g1(t,e,n,r){e.value=n,e.getSnapshot=r,v1(e)&&_1(t)}function y1(t,e,n){return n(function(){v1(e)&&_1(t)})}function v1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function _1(t){var e=kr(t,1);e!==null&&An(e,t,1,-1)}function p_(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},e.queue=t,t=t.dispatch=fb.bind(null,Fe,t),[e.memoizedState,t]}function vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w1(){return En().memoizedState}function uc(t,e,n,r){var i=Vn();Fe.flags|=t,i.memoizedState=vl(1|e,n,void 0,r===void 0?null:r)}function Kd(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&Mg(r,o.deps)){i.memoizedState=vl(e,n,s,r);return}}Fe.flags|=t,i.memoizedState=vl(1|e,n,s,r)}function m_(t,e){return uc(8390656,8,t,e)}function Vg(t,e){return Kd(2048,8,t,e)}function E1(t,e){return Kd(4,2,t,e)}function T1(t,e){return Kd(4,4,t,e)}function S1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k1(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4,4,S1.bind(null,e,t),n)}function Lg(){}function D1(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I1(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C1(t,e,n){return us&21?(bn(n,e)||(n=RS(),Fe.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function db(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=bf.transition;bf.transition={};try{t(!1),e()}finally{Se=n,bf.transition=r}}function P1(){return En().memoizedState}function hb(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A1(t))x1(e,n);else if(n=c1(t,e,n,r),n!==null){var i=Ot();An(n,t,r,i),b1(n,e,r)}}function fb(t,e,n){var r=li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A1(t))x1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,o)){var l=e.interleaved;l===null?(i.next=i,Pg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=c1(t,e,i,r),n!==null&&(i=Ot(),An(n,t,r,i),b1(n,e,r))}}function A1(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function x1(t,e){Ha=Qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}var Gc={readContext:wn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},pb={readContext:wn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:m_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uc(4194308,4,S1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return uc(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hb.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:p_,useDebugValue:Lg,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=p_(!1),e=t[0];return t=db.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=Vn();if(Me){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),st===null)throw Error(j(349));us&30||m1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,m_(y1.bind(null,r,s,t),[t]),r.flags|=2048,vl(9,g1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=st.identifierPrefix;if(Me){var n=lr,r=ar;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mb={readContext:wn,useCallback:D1,useContext:wn,useEffect:Vg,useImperativeHandle:k1,useInsertionEffect:E1,useLayoutEffect:T1,useMemo:I1,useReducer:Rf,useRef:w1,useState:function(){return Rf(yl)},useDebugValue:Lg,useDeferredValue:function(t){var e=En();return C1(e,Ze.memoizedState,t)},useTransition:function(){var t=Rf(yl)[0],e=En().memoizedState;return[t,e]},useMutableSource:f1,useSyncExternalStore:p1,useId:P1,unstable_isNewReconciler:!1},gb={readContext:wn,useCallback:D1,useContext:wn,useEffect:Vg,useImperativeHandle:k1,useInsertionEffect:E1,useLayoutEffect:T1,useMemo:I1,useReducer:Mf,useRef:w1,useState:function(){return Mf(yl)},useDebugValue:Lg,useDeferredValue:function(t){var e=En();return Ze===null?e.memoizedState=t:C1(e,Ze.memoizedState,t)},useTransition:function(){var t=Mf(yl)[0],e=En().memoizedState;return[t,e]},useMutableSource:f1,useSyncExternalStore:p1,useId:P1,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qd={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=li(t),s=fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(An(e,t,i,r),ac(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=li(t),s=fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(An(e,t,i,r),ac(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=li(t),i=fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,r),e!==null&&(An(e,t,r,n),ac(e,t,r))}};function g_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cl(n,r)||!cl(i,s):!0}function R1(t,e,n){var r=!1,i=wi,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=$t(e)?as:Dt.current,r=e.contextTypes,s=(r=r!=null)?vo(t,i):wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qd.enqueueReplaceState(e,e.state,null)}function Kp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ag(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=$t(e)?as:Dt.current,i.context=vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qd.enqueueReplaceState(i,i.state,null),qc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e){try{var n="",r=e;do n+=HA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yb=typeof WeakMap=="function"?WeakMap:Map;function M1(t,e,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jc||(Jc=!0,sm=r),Qp(t,e)},n}function N1(t,e,n){n=fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qp(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function v_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bb.bind(null,t,e,n),e.then(t,t))}function __(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fr(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var vb=Mr.ReactCurrentOwner,zt=!1;function bt(t,e,n,r){e.child=t===null?u1(e,null,n,r):wo(e,t.child,n,r)}function E_(t,e,n,r,i){n=n.render;var s=e.ref;return lo(e,i),r=Ng(t,e,n,r,s,i),n=Og(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Me&&n&&Tg(e),e.flags|=1,bt(t,e,r,i),e.child)}function T_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$g(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,O1(t,e,s,r,i)):(t=fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(o,r)&&t.ref===e.ref)return Dr(t,e,i)}return e.flags|=1,t=ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function O1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cl(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Dr(t,e,i)}return Gp(t,e,n,r,i)}function V1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Js,Xt),Xt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Js,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(Js,Xt),Xt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(Js,Xt),Xt|=r;return bt(t,e,i,n),e.child}function L1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gp(t,e,n,r,i){var s=$t(n)?as:Dt.current;return s=vo(e,s),lo(e,i),n=Ng(t,e,n,r,s,i),r=Og(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Me&&r&&Tg(e),e.flags|=1,bt(t,e,n,i),e.child)}function S_(t,e,n,r,i){if($t(n)){var s=!0;Wc(e)}else s=!1;if(lo(e,i),e.stateNode===null)cc(t,e),R1(e,n,r),Kp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=$t(n)?as:Dt.current,c=vo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&y_(e,o,r,c),Hr=!1;var f=e.memoizedState;o.state=f,qc(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ht.current||Hr?(typeof d=="function"&&(qp(e,n,d,r),l=e.memoizedState),(a=Hr||g_(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,d1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Dn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=$t(n)?as:Dt.current,l=vo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&y_(e,o,r,l),Hr=!1,f=e.memoizedState,o.state=f,qc(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Ht.current||Hr?(typeof m=="function"&&(qp(e,n,m,r),v=e.memoizedState),(c=Hr||g_(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Xp(t,e,n,r,s,i)}function Xp(t,e,n,r,i,s){L1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&l_(e,n,!1),Dr(t,e,s);r=e.stateNode,vb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,s),e.child=wo(e,null,a,s)):bt(t,e,a,s),e.memoizedState=r.state,i&&l_(e,n,!0),e.child}function F1(t){var e=t.stateNode;e.pendingContext?a_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a_(t,e.context,!1),xg(t,e.containerInfo)}function k_(t,e,n,r,i){return _o(),kg(i),e.flags|=256,bt(t,e,n,r),e.child}var Jp={dehydrated:null,treeContext:null,retryLane:0};function Zp(t){return{baseLanes:t,cachePool:null,transitions:null}}function U1(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Oe,i&1),t===null)return $p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jd(o,r,0,null),t=ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zp(n),e.memoizedState=Jp,t):Fg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _b(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ui(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jp,r}return s=t.child,t=s.sibling,r=ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fg(t,e){return e=Jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ou(t,e,n,r){return r!==null&&kg(r),wo(e,t.child,null,n),t=Fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _b(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nf(Error(j(422))),Ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jd({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=Zp(o),e.memoizedState=Jp,s);if(!(e.mode&1))return Ou(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Nf(s,r,void 0),Ou(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kr(t,i),An(r,t,i,-1))}return Hg(),r=Nf(Error(j(421))),Ou(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Rb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=si(i.nextSibling),en=e,Me=!0,Cn=null,t!==null&&(pn[mn++]=ar,pn[mn++]=lr,pn[mn++]=ls,ar=t.id,lr=t.overflow,ls=e),e=Fg(e,r.children),e.flags|=4096,e)}function D_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yp(t.return,e,n)}function Of(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function B1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D_(t,n,e);else if(t.tag===19)D_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Of(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Of(e,!0,n,null,s);break;case"together":Of(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wb(t,e,n){switch(e.tag){case 3:F1(e),_o();break;case 5:h1(e);break;case 1:$t(e.type)&&Wc(e);break;case 4:xg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie($c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?U1(t,e,n):(Ie(Oe,Oe.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);Ie(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return B1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,V1(t,e,n)}return Dr(t,e,n)}var j1,em,W1,z1;j1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};em=function(){};W1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(Yn.current);var s=null;switch(n){case"input":i=Tp(t,i),r=Tp(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=Dp(t,i),r=Dp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bc)}Cp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};z1=function(t,e,n,r){n!==r&&(e.flags|=4)};function _a(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Eb(t,e,n){var r=e.pendingProps;switch(Sg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return $t(e.type)&&jc(),_t(e),null;case 3:return r=e.stateNode,Eo(),xe(Ht),xe(Dt),Rg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cn!==null&&(lm(Cn),Cn=null))),em(t,e),_t(e),null;case 5:bg(e);var i=Xi(ml.current);if(n=e.type,t!==null&&e.stateNode!=null)W1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return _t(e),null}if(t=Xi(Yn.current),Mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Bn]=e,r[fl]=s,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<ba.length;i++)Pe(ba[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":N0(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":V0(r,s),Pe("invalid",r)}Cp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",""+a]):rl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":ku(r),O0(r,s,!0);break;case"textarea":ku(r),L0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bn]=e,t[fl]=r,j1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pp(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),i=r;break;case"iframe":case"object":case"embed":Pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ba.length;i++)Pe(ba[i],t);i=r;break;case"source":Pe("error",t),i=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=r;break;case"details":Pe("toggle",t),i=r;break;case"input":N0(t,r),i=Tp(t,r),Pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":V0(t,r),i=Dp(t,r),Pe("invalid",t);break;default:i=r}Cp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&il(t,l):typeof l=="number"&&il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pe("scroll",t):l!=null&&lg(t,s,l,o))}switch(n){case"input":ku(t),O0(t,r,!1);break;case"textarea":ku(t),L0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?io(t,!!r.multiple,s,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)z1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Xi(ml.current),Xi(Yn.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bn]=e,(s=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=e,e.stateNode=r}return _t(e),null;case 13:if(xe(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Jt!==null&&e.mode&1&&!(e.flags&128))a1(),_o(),e.flags|=98560,s=!1;else if(s=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Bn]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),s=!1}else Cn!==null&&(lm(Cn),Cn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?et===0&&(et=3):Hg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Eo(),em(t,e),t===null&&dl(e.stateNode.containerInfo),_t(e),null;case 10:return Cg(e.type._context),_t(e),null;case 17:return $t(e.type)&&jc(),_t(e),null;case 19:if(xe(Oe),s=e.memoizedState,s===null)return _t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_a(s,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kc(t),o!==null){for(e.flags|=128,_a(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>So&&(e.flags|=128,r=!0,_a(s,!1),e.lanes=4194304)}else{if(!r)if(t=Kc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return _t(e),null}else 2*Ye()-s.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,_a(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Oe.current,Ie(Oe,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return zg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Tb(t,e){switch(Sg(e),e.tag){case 1:return $t(e.type)&&jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eo(),xe(Ht),xe(Dt),Rg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bg(e),null;case 13:if(xe(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Oe),null;case 4:return Eo(),null;case 10:return Cg(e.type._context),null;case 22:case 23:return zg(),null;case 24:return null;default:return null}}var Vu=!1,St=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,K=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function tm(t,e,n){try{n()}catch(r){We(t,e,r)}}var I_=!1;function kb(t,e){if(Fp=Lc,t=KS(),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Up={focusedElem:t,selectionRange:n},Lc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,I=v.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:Dn(e.type,w),I);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){We(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return v=I_,I_=!1,v}function $a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tm(e,n,s)}i=i.next}while(i!==r)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function H1(t){var e=t.alternate;e!==null&&(t.alternate=null,H1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[fl],delete e[Wp],delete e[ob],delete e[ab])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $1(t){return t.tag===5||t.tag===3||t.tag===4}function C_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bc));else if(r!==4&&(t=t.child,t!==null))for(rm(t,e,n),t=t.sibling;t!==null;)rm(t,e,n),t=t.sibling}function im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}var lt=null,In=!1;function Ur(t,e,n){for(n=n.child;n!==null;)Y1(t,e,n),n=n.sibling}function Y1(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Wd,n)}catch{}switch(n.tag){case 5:St||Xs(n,e);case 6:var r=lt,i=In;lt=null,Ur(t,e,n),lt=r,In=i,lt!==null&&(In?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(In?(t=lt,n=n.stateNode,t.nodeType===8?Pf(t.parentNode,n):t.nodeType===1&&Pf(t,n),ll(t)):Pf(lt,n.stateNode));break;case 4:r=lt,i=In,lt=n.stateNode.containerInfo,In=!0,Ur(t,e,n),lt=r,In=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tm(n,e,o),i=i.next}while(i!==r)}Ur(t,e,n);break;case 1:if(!St&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Ur(t,e,n),St=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function P_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sb),e.forEach(function(r){var i=Mb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,In=!1;break e;case 3:lt=a.stateNode.containerInfo,In=!0;break e;case 4:lt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(lt===null)throw Error(j(160));Y1(s,o,i),lt=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q1(e,t),e=e.sibling}function q1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),On(t),r&4){try{$a(3,t,t.return),Gd(3,t)}catch(w){We(t,t.return,w)}try{$a(5,t,t.return)}catch(w){We(t,t.return,w)}}break;case 1:kn(e,t),On(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(kn(e,t),On(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var i=t.stateNode;try{il(i,"")}catch(w){We(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mS(i,s),Pp(a,o);var c=Pp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?wS(i,h):d==="dangerouslySetInnerHTML"?vS(i,h):d==="children"?il(i,h):lg(i,d,h,c)}switch(a){case"input":Sp(i,s);break;case"textarea":gS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?io(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?io(i,!!s.multiple,s.defaultValue,!0):io(i,!!s.multiple,s.multiple?[]:"",!1))}i[fl]=s}catch(w){We(t,t.return,w)}}break;case 6:if(kn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){We(t,t.return,w)}}break;case 3:if(kn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(w){We(t,t.return,w)}break;case 4:kn(e,t),On(t);break;case 13:kn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jg=Ye())),r&4&&P_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(St=(c=St)||d,kn(e,t),St=c):kn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(h=K=d;K!==null;){switch(f=K,m=f.child,f.tag){case 0:case 11:case 14:case 15:$a(4,f,f.return);break;case 1:Xs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){We(r,n,w)}}break;case 5:Xs(f,f.return);break;case 22:if(f.memoizedState!==null){x_(h);continue}}m!==null?(m.return=f,K=m):x_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_S("display",o))}catch(w){We(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){We(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kn(e,t),On(t),r&4&&P_(t);break;case 21:break;default:kn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($1(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(il(i,""),r.flags&=-33);var s=C_(t);im(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=C_(t);rm(t,a,o);break;default:throw Error(j(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Db(t,e,n){K=t,K1(t)}function K1(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=Vu;var c=St;if(Vu=o,(St=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?b_(i):l!==null?(l.return=o,K=l):b_(i);for(;s!==null;)K=s,K1(s),s=s.sibling;K=i,Vu=a,St=c}A_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):A_(t)}}function A_(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&f_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}St||e.flags&512&&nm(e)}catch(f){We(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function x_(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function b_(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{nm(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{nm(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var Ib=Math.ceil,Xc=Mr.ReactCurrentDispatcher,Ug=Mr.ReactCurrentOwner,vn=Mr.ReactCurrentBatchConfig,ye=0,st=null,Xe=null,ht=0,Xt=0,Js=Mi(0),et=0,_l=null,cs=0,Xd=0,Bg=0,Ya=null,jt=null,jg=0,So=1/0,sr=null,Jc=!1,sm=null,ai=null,Lu=!1,Zr=null,Zc=0,qa=0,om=null,dc=-1,hc=0;function Ot(){return ye&6?Ye():dc!==-1?dc:dc=Ye()}function li(t){return t.mode&1?ye&2&&ht!==0?ht&-ht:ub.transition!==null?(hc===0&&(hc=RS()),hc):(t=Se,t!==0||(t=window.event,t=t===void 0?16:US(t.type)),t):1}function An(t,e,n,r){if(50<qa)throw qa=0,om=null,Error(j(185));Ol(t,n,r),(!(ye&2)||t!==st)&&(t===st&&(!(ye&2)&&(Xd|=n),et===4&&qr(t,ht)),Yt(t,r),n===1&&ye===0&&!(e.mode&1)&&(So=Ye()+500,qd&&Ni()))}function Yt(t,e){var n=t.callbackNode;ux(t,e);var r=Vc(t,t===st?ht:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?lb(R_.bind(null,t)):i1(R_.bind(null,t)),ib(function(){!(ye&6)&&Ni()}),n=null;else{switch(MS(r)){case 1:n=fg;break;case 4:n=xS;break;case 16:n=Oc;break;case 536870912:n=bS;break;default:n=Oc}n=nk(n,Q1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Q1(t,e){if(dc=-1,hc=0,ye&6)throw Error(j(327));var n=t.callbackNode;if(uo()&&t.callbackNode!==n)return null;var r=Vc(t,t===st?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ed(t,r);else{e=r;var i=ye;ye|=2;var s=X1();(st!==t||ht!==e)&&(sr=null,So=Ye()+500,ts(t,e));do try{Ab();break}catch(a){G1(t,a)}while(1);Ig(),Xc.current=s,ye=i,Xe!==null?e=0:(st=null,ht=0,e=et)}if(e!==0){if(e===2&&(i=Mp(t),i!==0&&(r=i,e=am(t,i))),e===1)throw n=_l,ts(t,0),qr(t,r),Yt(t,Ye()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Cb(i)&&(e=ed(t,r),e===2&&(s=Mp(t),s!==0&&(r=s,e=am(t,s))),e===1))throw n=_l,ts(t,0),qr(t,r),Yt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Hi(t,jt,sr);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=jg+500-Ye(),10<e)){if(Vc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jp(Hi.bind(null,t,jt,sr),e);break}Hi(t,jt,sr);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ib(r/1960))-r,10<r){t.timeoutHandle=jp(Hi.bind(null,t,jt,sr),r);break}Hi(t,jt,sr);break;case 5:Hi(t,jt,sr);break;default:throw Error(j(329))}}}return Yt(t,Ye()),t.callbackNode===n?Q1.bind(null,t):null}function am(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=ed(t,e),t!==2&&(e=jt,jt=n,e!==null&&lm(e)),t}function lm(t){jt===null?jt=t:jt.push.apply(jt,t)}function Cb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~Bg,e&=~Xd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function R_(t){if(ye&6)throw Error(j(327));uo();var e=Vc(t,0);if(!(e&1))return Yt(t,Ye()),null;var n=ed(t,e);if(t.tag!==0&&n===2){var r=Mp(t);r!==0&&(e=r,n=am(t,r))}if(n===1)throw n=_l,ts(t,0),qr(t,e),Yt(t,Ye()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,jt,sr),Yt(t,Ye()),null}function Wg(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(So=Ye()+500,qd&&Ni())}}function ds(t){Zr!==null&&Zr.tag===0&&!(ye&6)&&uo();var e=ye;ye|=1;var n=vn.transition,r=Se;try{if(vn.transition=null,Se=1,t)return t()}finally{Se=r,vn.transition=n,ye=e,!(ye&6)&&Ni()}}function zg(){Xt=Js.current,xe(Js)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rb(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Sg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jc();break;case 3:Eo(),xe(Ht),xe(Dt),Rg();break;case 5:bg(r);break;case 4:Eo();break;case 13:xe(Oe);break;case 19:xe(Oe);break;case 10:Cg(r.type._context);break;case 22:case 23:zg()}n=n.return}if(st=t,Xe=t=ui(t.current,null),ht=Xt=e,et=0,_l=null,Bg=Xd=cs=0,jt=Ya=null,Gi!==null){for(e=0;e<Gi.length;e++)if(n=Gi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Gi=null}return t}function G1(t,e){do{var n=Xe;try{if(Ig(),lc.current=Gc,Qc){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qc=!1}if(us=0,it=Ze=Fe=null,Ha=!1,gl=0,Ug.current=null,n===null||n.return===null){et=1,_l=e,Xe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=__(o);if(m!==null){m.flags&=-257,w_(m,o,a,s,e),m.mode&1&&v_(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){v_(s,c,e),Hg();break e}l=Error(j(426))}}else if(Me&&a.mode&1){var I=__(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),w_(I,o,a,s,e),kg(To(l,a));break e}}s=l=To(l,a),et!==4&&(et=2),Ya===null?Ya=[s]:Ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=M1(s,l,e);h_(s,E);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ai===null||!ai.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=N1(s,a,e);h_(s,x);break e}}s=s.return}while(s!==null)}Z1(n)}catch(N){e=N,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(1)}function X1(){var t=Xc.current;return Xc.current=Gc,t===null?Gc:t}function Hg(){(et===0||et===3||et===2)&&(et=4),st===null||!(cs&268435455)&&!(Xd&268435455)||qr(st,ht)}function ed(t,e){var n=ye;ye|=2;var r=X1();(st!==t||ht!==e)&&(sr=null,ts(t,e));do try{Pb();break}catch(i){G1(t,i)}while(1);if(Ig(),ye=n,Xc.current=r,Xe!==null)throw Error(j(261));return st=null,ht=0,et}function Pb(){for(;Xe!==null;)J1(Xe)}function Ab(){for(;Xe!==null&&!ex();)J1(Xe)}function J1(t){var e=tk(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?Z1(t):Xe=e,Ug.current=null}function Z1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tb(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Xe=null;return}}else if(n=Eb(n,e,Xt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);et===0&&(et=5)}function Hi(t,e,n){var r=Se,i=vn.transition;try{vn.transition=null,Se=1,xb(t,e,n,r)}finally{vn.transition=i,Se=r}return null}function xb(t,e,n,r){do uo();while(Zr!==null);if(ye&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cx(t,s),t===st&&(Xe=st=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,nk(Oc,function(){return uo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=Se;Se=1;var a=ye;ye|=4,Ug.current=null,kb(t,n),q1(n,t),Gx(Up),Lc=!!Fp,Up=Fp=null,t.current=n,Db(n),tx(),ye=a,Se=o,vn.transition=s}else t.current=n;if(Lu&&(Lu=!1,Zr=t,Zc=i),s=t.pendingLanes,s===0&&(ai=null),ix(n.stateNode),Yt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jc)throw Jc=!1,t=sm,sm=null,t;return Zc&1&&t.tag!==0&&uo(),s=t.pendingLanes,s&1?t===om?qa++:(qa=0,om=t):qa=0,Ni(),null}function uo(){if(Zr!==null){var t=MS(Zc),e=vn.transition,n=Se;try{if(vn.transition=null,Se=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,Zc=0,ye&6)throw Error(j(331));var i=ye;for(ye|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:$a(8,d,s)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var f=d.sibling,m=d.return;if(H1(d),d===c){K=null;break}if(f!==null){f.return=m,K=f;break}K=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$a(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break e}K=s.return}}var _=t.current;for(K=_;K!==null;){o=K;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,K=T;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gd(9,a)}}catch(N){We(a,a.return,N)}if(a===o){K=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}if(ye=i,Ni(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Wd,t)}catch{}r=!0}return r}finally{Se=n,vn.transition=e}}return!1}function M_(t,e,n){e=To(n,e),e=M1(t,e,1),t=oi(t,e,1),e=Ot(),t!==null&&(Ol(t,1,e),Yt(t,e))}function We(t,e,n){if(t.tag===3)M_(t,t,n);else for(;e!==null;){if(e.tag===3){M_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=To(n,t),t=N1(e,t,1),e=oi(e,t,1),t=Ot(),e!==null&&(Ol(e,1,t),Yt(e,t));break}}e=e.return}}function bb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ht&n)===n&&(et===4||et===3&&(ht&130023424)===ht&&500>Ye()-jg?ts(t,0):Bg|=n),Yt(t,e)}function ek(t,e){e===0&&(t.mode&1?(e=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):e=1);var n=Ot();t=kr(t,e),t!==null&&(Ol(t,e,n),Yt(t,n))}function Rb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ek(t,n)}function Mb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),ek(t,n)}var tk;tk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,wb(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Me&&e.flags&1048576&&s1(e,Hc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cc(t,e),t=e.pendingProps;var i=vo(e,Dt.current);lo(e,n),i=Ng(null,e,r,t,i,n);var s=Og();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(s=!0,Wc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ag(e),i.updater=Qd,e.stateNode=i,i._reactInternals=e,Kp(e,r,t,n),e=Xp(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&Tg(e),bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ob(r),t=Dn(r,t),i){case 0:e=Gp(null,e,r,t,n);break e;case 1:e=S_(null,e,r,t,n);break e;case 11:e=E_(null,e,r,t,n);break e;case 14:e=T_(null,e,r,Dn(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),Gp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),S_(t,e,r,i,n);case 3:e:{if(F1(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,d1(t,e),qc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=To(Error(j(423)),e),e=k_(t,e,r,n,i);break e}else if(r!==i){i=To(Error(j(424)),e),e=k_(t,e,r,n,i);break e}else for(Jt=si(e.stateNode.containerInfo.firstChild),en=e,Me=!0,Cn=null,n=u1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),r===i){e=Dr(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return h1(e),t===null&&$p(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bp(r,i)?o=null:s!==null&&Bp(r,s)&&(e.flags|=32),L1(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&$p(e),null;case 13:return U1(t,e,n);case 4:return xg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wo(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),E_(t,e,r,i,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie($c,r._currentValue),r._currentValue=o,s!==null)if(bn(s.value,o)){if(s.children===i.children&&!Ht.current){e=Dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=fr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lo(e,n),i=wn(i),r=r(i),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,i=Dn(r,e.pendingProps),i=Dn(r.type,i),T_(t,e,r,i,n);case 15:return O1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),cc(t,e),e.tag=1,$t(r)?(t=!0,Wc(e)):t=!1,lo(e,n),R1(e,r,i),Kp(e,r,i,n),Xp(null,e,r,!0,t,n);case 19:return B1(t,e,n);case 22:return V1(t,e,n)}throw Error(j(156,e.tag))};function nk(t,e){return AS(t,e)}function Nb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new Nb(t,e,n,r)}function $g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ob(t){if(typeof t=="function")return $g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cg)return 11;if(t===dg)return 14}return 2}function ui(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$g(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ws:return ns(n.children,i,s,e);case ug:o=8,i|=8;break;case vp:return t=yn(12,n,e,i|2),t.elementType=vp,t.lanes=s,t;case _p:return t=yn(13,n,e,i),t.elementType=_p,t.lanes=s,t;case wp:return t=yn(19,n,e,i),t.elementType=wp,t.lanes=s,t;case hS:return Jd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cS:o=10;break e;case dS:o=9;break e;case cg:o=11;break e;case dg:o=14;break e;case zr:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ns(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function Jd(t,e,n,r){return t=yn(22,t,r,e),t.elementType=hS,t.lanes=n,t.stateNode={isHidden:!1},t}function Vf(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Lf(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yg(t,e,n,r,i,s,o,a,l){return t=new Vb(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ag(s),t}function Lb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rk(t){if(!t)return wi;t=t._reactInternals;e:{if(Ts(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if($t(n))return r1(t,n,e)}return e}function ik(t,e,n,r,i,s,o,a,l){return t=Yg(n,r,!0,t,i,s,o,a,l),t.context=rk(null),n=t.current,r=Ot(),i=li(n),s=fr(r,i),s.callback=e??null,oi(n,s,i),t.current.lanes=i,Ol(t,i,r),Yt(t,r),t}function Zd(t,e,n,r){var i=e.current,s=Ot(),o=li(i);return n=rk(n),e.context===null?e.context=n:e.pendingContext=n,e=fr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(i,e,o),t!==null&&(An(t,i,o,s),ac(t,i,o)),o}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qg(t,e){N_(t,e),(t=t.alternate)&&N_(t,e)}function Fb(){return null}var sk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kg(t){this._internalRoot=t}eh.prototype.render=Kg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Zd(t,e,null,null)};eh.prototype.unmount=Kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){Zd(null,t,null,null)}),e[Sr]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=VS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&FS(t)}};function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O_(){}function Ub(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=td(o);s.call(c)}}var o=ik(e,r,t,0,null,!1,!1,"",O_);return t._reactRootContainer=o,t[Sr]=o.current,dl(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=td(l);a.call(c)}}var l=Yg(t,0,!1,null,null,!1,!1,"",O_);return t._reactRootContainer=l,t[Sr]=l.current,dl(t.nodeType===8?t.parentNode:t),ds(function(){Zd(e,l,n,r)}),l}function nh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=td(o);a.call(l)}}Zd(e,o,t,i)}else o=Ub(n,e,t,i,r);return td(o)}NS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xa(e.pendingLanes);n!==0&&(pg(e,n|1),Yt(e,Ye()),!(ye&6)&&(So=Ye()+500,Ni()))}break;case 13:ds(function(){var r=kr(t,1);if(r!==null){var i=Ot();An(r,t,1,i)}}),qg(t,1)}};mg=function(t){if(t.tag===13){var e=kr(t,134217728);if(e!==null){var n=Ot();An(e,t,134217728,n)}qg(t,134217728)}};OS=function(t){if(t.tag===13){var e=li(t),n=kr(t,e);if(n!==null){var r=Ot();An(n,t,e,r)}qg(t,e)}};VS=function(){return Se};LS=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};xp=function(t,e,n){switch(e){case"input":if(Sp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yd(r);if(!i)throw Error(j(90));pS(r),Sp(r,i)}}}break;case"textarea":gS(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};SS=Wg;kS=ds;var Bb={usingClientEntryPoint:!1,Events:[Ll,Ys,Yd,ES,TS,Wg]},wa={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jb={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CS(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||Fb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Wd=Fu.inject(jb),$n=Fu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bb;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qg(e))throw Error(j(200));return Lb(t,e,null,n)};sn.createRoot=function(t,e){if(!Qg(t))throw Error(j(299));var n=!1,r="",i=sk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yg(t,1,!1,null,null,n,!1,r,i),t[Sr]=e.current,dl(t.nodeType===8?t.parentNode:t),new Kg(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=CS(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return ds(t)};sn.hydrate=function(t,e,n){if(!th(e))throw Error(j(200));return nh(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!Qg(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ik(e,null,t,1,n??null,i,!1,s,o),t[Sr]=e.current,dl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eh(e)};sn.render=function(t,e,n){if(!th(e))throw Error(j(200));return nh(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!th(t))throw Error(j(40));return t._reactRootContainer?(ds(function(){nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};sn.unstable_batchedUpdates=Wg;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!th(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return nh(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function ok(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ok)}catch(t){console.error(t)}}ok(),oS.exports=sn;var Gg=oS.exports;const Wb=GT(Gg);var V_=Gg;gp.createRoot=V_.createRoot,gp.hydrateRoot=V_.hydrateRoot;const ak="/assets/logo-4d482178.png",zb=()=>P.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-text transition-all duration-500"},P.createElement("img",{src:ak,alt:"Milan Pilates Logo",className:"w-52 mb-6 animate-pulse"}),P.createElement("p",{className:"text-muted text-sm"},"  ...")),lk=({title:t})=>P.createElement("header",{className:"bg-blue-600 text-white p-4 shadow-md"},P.createElement("h1",{className:"text-xl font-bold text-center"},t)),Hb=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$b=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$b(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Yb;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(t){const e=uk(t);return ck.encodeByteArray(e,!0)},nd=function(t){return qb(t).replace(/\./g,"")},dk=function(t){try{return ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=()=>Kb().__FIREBASE_DEFAULTS__,Gb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dk(t[1]);return e&&JSON.parse(e)},rh=()=>{try{return Hb()||Qb()||Gb()||Xb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hk=t=>{var e,n;return(n=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jb=t=>{const e=hk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fk=()=>{var t;return(t=rh())===null||t===void 0?void 0:t.config},pk=t=>{var e;return(e=rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[nd(JSON.stringify(n)),nd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function nR(){var t;const e=(t=rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cR,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?dR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nr(i,a,r)}}function dR(t,e){return t.replace(hR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hR=/\{\$([^}]+)}/g;function fR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(L_(s)&&L_(o)){if(!hs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pR(t,e){const n=new mR(t,e);return n.subscribe.bind(n)}class mR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ff),i.error===void 0&&(i.error=Ff),i.complete===void 0&&(i.complete=Ff);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ff(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(t){return t===$i?void 0:t}function _R(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const ER={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},TR=ce.INFO,SR={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},kR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=kR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const DR=(t,e)=>e.some(n=>t instanceof n);let F_,U_;function IR(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mk=new WeakMap,um=new WeakMap,gk=new WeakMap,Uf=new WeakMap,Jg=new WeakMap;function PR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mk.set(n,t)}).catch(()=>{}),Jg.set(e,t),e}function AR(t){if(um.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});um.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xR(t){cm=t(cm)}function bR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bf(this),e,...n);return gk.set(r,e.sort?e.sort():[e]),ci(r)}:CR().includes(t)?function(...e){return t.apply(Bf(this),e),ci(mk.get(this))}:function(...e){return ci(t.apply(Bf(this),e))}}function RR(t){return typeof t=="function"?bR(t):(t instanceof IDBTransaction&&AR(t),DR(t,IR())?new Proxy(t,cm):t)}function ci(t){if(t instanceof IDBRequest)return PR(t);if(Uf.has(t))return Uf.get(t);const e=RR(t);return e!==t&&(Uf.set(t,e),Jg.set(e,t)),e}const Bf=t=>Jg.get(t);function MR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ci(o.result),l.oldVersion,l.newVersion,ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],jf=new Map;function B_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return jf.set(e,s),s}xR(t=>({...t,get:(e,n,r)=>B_(e,n)||t.get(e,n,r),has:(e,n)=>!!B_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dm="@firebase/app",j_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Xg("@firebase/app"),FR="@firebase/app-compat",UR="@firebase/analytics-compat",BR="@firebase/analytics",jR="@firebase/app-check-compat",WR="@firebase/app-check",zR="@firebase/auth",HR="@firebase/auth-compat",$R="@firebase/database",YR="@firebase/data-connect",qR="@firebase/database-compat",KR="@firebase/functions",QR="@firebase/functions-compat",GR="@firebase/installations",XR="@firebase/installations-compat",JR="@firebase/messaging",ZR="@firebase/messaging-compat",eM="@firebase/performance",tM="@firebase/performance-compat",nM="@firebase/remote-config",rM="@firebase/remote-config-compat",iM="@firebase/storage",sM="@firebase/storage-compat",oM="@firebase/firestore",aM="@firebase/vertexai",lM="@firebase/firestore-compat",uM="firebase",cM="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",dM={[dm]:"fire-core",[FR]:"fire-core-compat",[BR]:"fire-analytics",[UR]:"fire-analytics-compat",[WR]:"fire-app-check",[jR]:"fire-app-check-compat",[zR]:"fire-auth",[HR]:"fire-auth-compat",[$R]:"fire-rtdb",[YR]:"fire-data-connect",[qR]:"fire-rtdb-compat",[KR]:"fire-fn",[QR]:"fire-fn-compat",[GR]:"fire-iid",[XR]:"fire-iid-compat",[JR]:"fire-fcm",[ZR]:"fire-fcm-compat",[eM]:"fire-perf",[tM]:"fire-perf-compat",[nM]:"fire-rc",[rM]:"fire-rc-compat",[iM]:"fire-gcs",[sM]:"fire-gcs-compat",[oM]:"fire-fst",[lM]:"fire-fst-compat",[aM]:"fire-vertex","fire-js":"fire-js",[uM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,hM=new Map,fm=new Map;function W_(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(fm.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,t);for(const n of rd.values())W_(n,t);for(const n of hM.values())W_(n,t);return!0}function Zg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new Ul("app","Firebase",fM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=cM;function yk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=fk()),!n)throw di.create("no-options");const s=rd.get(i);if(s){if(hs(n,s.options)&&hs(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new wR(i);for(const l of fm.values())o.addComponent(l);const a=new pM(n,r,o);return rd.set(i,a),a}function vk(t=hm){const e=rd.get(t);if(!e&&t===hm&&fk())return yk();if(!e)throw di.create("no-app",{appName:t});return e}function hi(t,e,n){var r;let i=(r=dM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(a.join(" "));return}ko(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firebase-heartbeat-database",gM=1,wl="firebase-heartbeat-store";let Wf=null;function _k(){return Wf||(Wf=MR(mM,gM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),Wf}async function yM(t){try{const n=(await _k()).transaction(wl),r=await n.objectStore(wl).get(wk(t));return await n.done,r}catch(e){if(e instanceof Nr)Ir.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function z_(t,e){try{const r=(await _k()).transaction(wl,"readwrite");await r.objectStore(wl).put(e,wk(t)),await r.done}catch(n){if(n instanceof Nr)Ir.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function wk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1024,_M=30;class wM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_M){const o=SM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H_(),{heartbeatsToSend:r,unsentEntries:i}=EM(this._heartbeatsCache.heartbeats),s=nd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ir.warn(n),""}}}function H_(){return new Date().toISOString().substring(0,10)}function EM(t,e=vM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $_(t){return nd(JSON.stringify({version:2,heartbeats:t})).length}function SM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){ko(new fs("platform-logger",e=>new VR(e),"PRIVATE")),ko(new fs("heartbeat",e=>new wM(e),"PRIVATE")),hi(dm,j_,t),hi(dm,j_,"esm2017"),hi("fire-js","")}kM("");var DM="firebase",IM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(DM,IM,"app");function ey(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ek(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CM=Ek,Tk=new Ul("auth","Firebase",Ek());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Xg("@firebase/auth");function PM(t,...e){id.logLevel<=ce.WARN&&id.warn(`Auth (${$o}): ${t}`,...e)}function pc(t,...e){id.logLevel<=ce.ERROR&&id.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,...e){throw ty(t,...e)}function qn(t,...e){return ty(t,...e)}function Sk(t,e,n){const r=Object.assign(Object.assign({},CM()),{[e]:n});return new Ul("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return Sk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ty(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Tk.create(t,...e)}function ie(t,e,...n){if(!t)throw ty(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pc(e),new Error(e)}function Pr(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AM(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AM()||iR()||"connection"in navigator)?navigator.onLine:!0}function bM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=tR()||sR()}get(){return xM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new jl(3e4,6e4);function ry(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yo(t,e,n,r,i={}){return Dk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Bl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return rR()||(c.referrerPolicy="no-referrer"),kk.fetch()(Ik(t,t.config.apiHost,n,a),c)})}async function Dk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},RM),e);try{const i=new OM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Sk(t,d,c);Cr(t,d)}}catch(i){if(i instanceof Nr)throw i;Cr(t,"network-request-failed",{message:String(i)})}}async function NM(t,e,n,r,i={}){const s=await Yo(t,e,n,r,i);return"mfaPendingCredential"in s&&Cr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ik(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ny(t.config,i):`${t.config.apiScheme}://${i}`}class OM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qn(this.auth,"network-request-failed")),MM.get())})}}function Uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e){return Yo(t,"POST","/v1/accounts:delete",e)}async function Ck(t,e){return Yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LM(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=iy(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ka(zf(i.auth_time)),issuedAtTime:Ka(zf(i.iat)),expirationTime:Ka(zf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zf(t){return Number(t)*1e3}function iy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const i=dk(n);return i?JSON.parse(i):(pc("Failed to decode base64 JWT payload"),null)}catch(i){return pc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function q_(t){const e=iy(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&FM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await El(t,Ck(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Pk(s.providerUserInfo):[],a=jM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function BM(t){const e=Lt(t);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Pk(t){return t.map(e=>{var{providerId:n}=e,r=ey(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){const n=await Dk(t,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ik(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zM(t,e){return Yo(t,"POST","/v2/accounts:revokeToken",ry(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=q_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await WM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new co;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ey(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await El(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LM(this,e)}reload(){return BM(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await El(this,VM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:x,isAnonymous:N,providerData:V,stsTokenManager:D}=n;ie(T&&D,e,"internal-error");const y=co.fromJSON(this.name,D);ie(typeof T=="string",e,"internal-error"),Br(h,e.name),Br(f,e.name),ie(typeof x=="boolean",e,"internal-error"),ie(typeof N=="boolean",e,"internal-error"),Br(m,e.name),Br(v,e.name),Br(w,e.name),Br(I,e.name),Br(E,e.name),Br(_,e.name);const k=new cr({uid:T,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:N,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:y,createdAt:E,lastLoginAt:_});return V&&Array.isArray(V)&&(k.providerData=V.map(C=>Object.assign({},C))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new co;i.updateFromServerResponse(n);const s=new cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Pk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new co;a.updateFromIdToken(r);const l=new cr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function dr(t){Pr(t instanceof Function,"Expected a class definition");let e=K_.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ak.type="NONE";const Q_=Ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){return`firebase:${t}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mc(this.userKey,i.apiKey,s),this.fullPersistenceKey=mc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(dr(Q_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||dr(Q_);const o=mc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=cr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ho(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ho(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ok(e))return"Blackberry";if(Vk(e))return"Webos";if(bk(e))return"Safari";if((e.includes("chrome/")||Rk(e))&&!e.includes("edge/"))return"Chrome";if(Nk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xk(t=It()){return/firefox\//i.test(t)}function bk(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rk(t=It()){return/crios\//i.test(t)}function Mk(t=It()){return/iemobile/i.test(t)}function Nk(t=It()){return/android/i.test(t)}function Ok(t=It()){return/blackberry/i.test(t)}function Vk(t=It()){return/webos/i.test(t)}function sy(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HM(t=It()){var e;return sy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $M(){return oR()&&document.documentMode===10}function Lk(t=It()){return sy(t)||Nk(t)||Vk(t)||Ok(t)||/windows phone/i.test(t)||Mk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e=[]){let n;switch(t){case"Browser":n=G_(It());break;case"Worker":n=`${G_(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e={}){return Yo(t,"GET","/v2/passwordPolicy",ry(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=6;class QM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:KM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new YM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ck(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(rs(this));const n=e?Lt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qM(this),n=new QM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oy(t){return Lt(t)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pR(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XM(t){ay=t}function JM(t){return ay.loadJS(t)}function ZM(){return ay.gapiScript}function eN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e){const n=Zg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hs(s,e??{}))return i;Cr(i,"already-initialized")}return n.initialize({options:e})}function nN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rN(t,e,n){const r=oy(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Uk(e),{host:o,port:a}=iN(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(hs(c,r.config.emulator)&&hs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,i||sN()}function Uk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iN(t){const e=Uk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:J_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:J_(o)}}}function J_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e){return NM(t,"POST","/v1/accounts:signInWithIdp",ry(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="http://localhost";class ps extends Bk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ey(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:oN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends jk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Wl{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Wl{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Wl{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await cr._fromIdTokenResponse(e,r,i),o=Z_(r);return new Do({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Z_(r);return new Do({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new od(e,n,r,i)}}function Wk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,s,e,r):s})}async function aN(t,e,n=!1){const r=await El(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(rs(r));const i="reauthenticate";try{const s=await El(t,Wk(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=iy(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Do._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e,n=!1){if(jn(t.app))return Promise.reject(rs(t));const r="signIn",i=await Wk(t,r,e),s=await Do._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function cN(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function dN(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1e3,fN=10;class Hk extends zk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);$M()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hk.type="LOCAL";const pN=Hk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k extends zk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$k.type="SESSION";const Yk=$k;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await mN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ly("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function yN(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function vN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _N(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wN(){return qk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="firebaseLocalStorageDb",EN=1,ld="firebaseLocalStorage",Qk="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function TN(){const t=indexedDB.deleteDatabase(Kk);return new zl(t).toPromise()}function gm(){const t=indexedDB.open(Kk,EN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ld,{keyPath:Qk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await TN(),e(await gm()))})})}async function ew(t,e,n){const r=sh(t,!0).put({[Qk]:e,value:n});return new zl(r).toPromise()}async function SN(t,e){const n=sh(t,!1).get(e),r=await new zl(n).toPromise();return r===void 0?null:r.value}function tw(t,e){const n=sh(t,!0).delete(e);return new zl(n).toPromise()}const kN=800,DN=3;class Gk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(wN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vN(),!this.activeServiceWorker)return;this.sender=new gN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gm();return await ew(e,ad,"1"),await tw(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ew(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sh(i,!1).getAll();return new zl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gk.type="LOCAL";const IN=Gk;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){return e?dr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends Bk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PN(t){return uN(t.auth,new uy(t),t.bypassAuthState)}function AN(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),lN(n,new uy(t),t.bypassAuthState)}async function xN(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),aN(n,new uy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return AN;default:Cr(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new jl(2e3,1e4);class Zs extends Xk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bN.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="pendingRedirect",gc=new Map;class MN extends Xk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gc.get(this.auth._key());if(!e){try{const r=await NN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gc.set(this.auth._key(),e)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NN(t,e){const n=LN(e),r=VN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ON(t,e){gc.set(t._key(),e)}function VN(t){return dr(t._redirectPersistence)}function LN(t){return mc(RN,t.config.apiKey,t.name)}async function FN(t,e,n=!1){if(jn(t.app))return Promise.reject(rs(t));const r=oy(t),i=CN(r,e),o=await new MN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=10*60*1e3;class BN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UN&&this.cachedEventUids.clear(),this.cachedEventUids.has(nw(e))}saveEventToCache(e){this.cachedEventUids.add(nw(e)),this.lastProcessedEventTime=Date.now()}}function nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e={}){return Yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HN=/^https?/;async function $N(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WN(t);for(const n of e)try{if(YN(n))return}catch{}Cr(t,"unauthorized-domain")}function YN(t){const e=pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HN.test(n))return!1;if(zN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new jl(3e4,6e4);function rw(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KN(t){return new Promise((e,n)=>{var r,i,s;function o(){rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rw(),n(qn(t,"network-request-failed"))},timeout:qN.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kn().gapi)===null||s===void 0)&&s.load)o();else{const a=eN("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(qn(t,"network-request-failed"))},JM(`${ZM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yc=null,e})}let yc=null;function QN(t){return yc=yc||KN(t),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new jl(5e3,15e3),XN="__/auth/iframe",JN="emulator/auth/iframe",ZN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tO(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ny(e,JN):`https://${t.config.authDomain}/${XN}`,r={apiKey:e.apiKey,appName:t.name,v:$o},i=eO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bl(r).slice(1)}`}async function nO(t){const e=await QN(t),n=Kn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:tO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=qn(t,"network-request-failed"),a=Kn().setTimeout(()=>{s(o)},GN.get());function l(){Kn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iO=500,sO=600,oO="_blank",aO="http://localhost";class iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lO(t,e,n,r=iO,i=sO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rO),{width:r.toString(),height:i.toString(),top:s,left:o}),c=It().toLowerCase();n&&(a=Rk(c)?oO:n),xk(c)&&(e=e||aO,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(HM(c)&&a!=="_self")return uO(e||"",a),new iw(null);const h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new iw(h)}function uO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="__/auth/handler",dO="emulator/auth/handler",hO=encodeURIComponent("fac");async function sw(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(e instanceof jk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Wl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${hO}=${encodeURIComponent(l)}`:"";return`${fO(t)}?${Bl(a).slice(1)}${c}`}function fO({config:t}){return t.emulator?ny(t,dO):`https://${t.authDomain}/${cO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="webStorageSupport";class pO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yk,this._completeRedirectFn=FN,this._overrideRedirectResult=ON}async _openPopup(e,n,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await sw(e,n,r,pm(),i);return lO(e,o,ly())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await sw(e,n,r,pm(),i);return yN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nO(e),r=new BN(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hf,{type:Hf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hf];o!==void 0&&n(!!o),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$N(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lk()||bk()||sy()}}const mO=pO;var ow="@firebase/auth",aw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vO(t){ko(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fk(t)},c=new GM(r,i,s,l);return nN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new fs("auth-internal",e=>{const n=oy(e.getProvider("auth").getImmediate());return(r=>new gO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(ow,aw,yO(t)),hi(ow,aw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=5*60,wO=pk("authIdTokenMaxAge")||_O;let lw=null;const EO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wO)return;const i=n==null?void 0:n.token;lw!==i&&(lw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TO(t=vk()){const e=Zg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tN(t,{popupRedirectResolver:mO,persistence:[IN,pN,Yk]}),r=pk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=EO(s.toString());dN(n,o,()=>o(n.currentUser)),cN(n,a=>o(a))}}const i=hk("auth");return i&&rN(n,`http://${i}`),n}function SO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",SO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vO("Browser");var uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,Zk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,y){function k(){}k.prototype=y.prototype,D.D=y.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(C,b,R){for(var A=Array(arguments.length-2),X=2;X<arguments.length;X++)A[X-2]=arguments[X];return y.prototype[b].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,k){k||(k=0);var C=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)C[b]=y.charCodeAt(k++)|y.charCodeAt(k++)<<8|y.charCodeAt(k++)<<16|y.charCodeAt(k++)<<24;else for(b=0;16>b;++b)C[b]=y[k++]|y[k++]<<8|y[k++]<<16|y[k++]<<24;y=D.g[0],k=D.g[1],b=D.g[2];var R=D.g[3],A=y+(R^k&(b^R))+C[0]+3614090360&4294967295;y=k+(A<<7&4294967295|A>>>25),A=R+(b^y&(k^b))+C[1]+3905402710&4294967295,R=y+(A<<12&4294967295|A>>>20),A=b+(k^R&(y^k))+C[2]+606105819&4294967295,b=R+(A<<17&4294967295|A>>>15),A=k+(y^b&(R^y))+C[3]+3250441966&4294967295,k=b+(A<<22&4294967295|A>>>10),A=y+(R^k&(b^R))+C[4]+4118548399&4294967295,y=k+(A<<7&4294967295|A>>>25),A=R+(b^y&(k^b))+C[5]+1200080426&4294967295,R=y+(A<<12&4294967295|A>>>20),A=b+(k^R&(y^k))+C[6]+2821735955&4294967295,b=R+(A<<17&4294967295|A>>>15),A=k+(y^b&(R^y))+C[7]+4249261313&4294967295,k=b+(A<<22&4294967295|A>>>10),A=y+(R^k&(b^R))+C[8]+1770035416&4294967295,y=k+(A<<7&4294967295|A>>>25),A=R+(b^y&(k^b))+C[9]+2336552879&4294967295,R=y+(A<<12&4294967295|A>>>20),A=b+(k^R&(y^k))+C[10]+4294925233&4294967295,b=R+(A<<17&4294967295|A>>>15),A=k+(y^b&(R^y))+C[11]+2304563134&4294967295,k=b+(A<<22&4294967295|A>>>10),A=y+(R^k&(b^R))+C[12]+1804603682&4294967295,y=k+(A<<7&4294967295|A>>>25),A=R+(b^y&(k^b))+C[13]+4254626195&4294967295,R=y+(A<<12&4294967295|A>>>20),A=b+(k^R&(y^k))+C[14]+2792965006&4294967295,b=R+(A<<17&4294967295|A>>>15),A=k+(y^b&(R^y))+C[15]+1236535329&4294967295,k=b+(A<<22&4294967295|A>>>10),A=y+(b^R&(k^b))+C[1]+4129170786&4294967295,y=k+(A<<5&4294967295|A>>>27),A=R+(k^b&(y^k))+C[6]+3225465664&4294967295,R=y+(A<<9&4294967295|A>>>23),A=b+(y^k&(R^y))+C[11]+643717713&4294967295,b=R+(A<<14&4294967295|A>>>18),A=k+(R^y&(b^R))+C[0]+3921069994&4294967295,k=b+(A<<20&4294967295|A>>>12),A=y+(b^R&(k^b))+C[5]+3593408605&4294967295,y=k+(A<<5&4294967295|A>>>27),A=R+(k^b&(y^k))+C[10]+38016083&4294967295,R=y+(A<<9&4294967295|A>>>23),A=b+(y^k&(R^y))+C[15]+3634488961&4294967295,b=R+(A<<14&4294967295|A>>>18),A=k+(R^y&(b^R))+C[4]+3889429448&4294967295,k=b+(A<<20&4294967295|A>>>12),A=y+(b^R&(k^b))+C[9]+568446438&4294967295,y=k+(A<<5&4294967295|A>>>27),A=R+(k^b&(y^k))+C[14]+3275163606&4294967295,R=y+(A<<9&4294967295|A>>>23),A=b+(y^k&(R^y))+C[3]+4107603335&4294967295,b=R+(A<<14&4294967295|A>>>18),A=k+(R^y&(b^R))+C[8]+1163531501&4294967295,k=b+(A<<20&4294967295|A>>>12),A=y+(b^R&(k^b))+C[13]+2850285829&4294967295,y=k+(A<<5&4294967295|A>>>27),A=R+(k^b&(y^k))+C[2]+4243563512&4294967295,R=y+(A<<9&4294967295|A>>>23),A=b+(y^k&(R^y))+C[7]+1735328473&4294967295,b=R+(A<<14&4294967295|A>>>18),A=k+(R^y&(b^R))+C[12]+2368359562&4294967295,k=b+(A<<20&4294967295|A>>>12),A=y+(k^b^R)+C[5]+4294588738&4294967295,y=k+(A<<4&4294967295|A>>>28),A=R+(y^k^b)+C[8]+2272392833&4294967295,R=y+(A<<11&4294967295|A>>>21),A=b+(R^y^k)+C[11]+1839030562&4294967295,b=R+(A<<16&4294967295|A>>>16),A=k+(b^R^y)+C[14]+4259657740&4294967295,k=b+(A<<23&4294967295|A>>>9),A=y+(k^b^R)+C[1]+2763975236&4294967295,y=k+(A<<4&4294967295|A>>>28),A=R+(y^k^b)+C[4]+1272893353&4294967295,R=y+(A<<11&4294967295|A>>>21),A=b+(R^y^k)+C[7]+4139469664&4294967295,b=R+(A<<16&4294967295|A>>>16),A=k+(b^R^y)+C[10]+3200236656&4294967295,k=b+(A<<23&4294967295|A>>>9),A=y+(k^b^R)+C[13]+681279174&4294967295,y=k+(A<<4&4294967295|A>>>28),A=R+(y^k^b)+C[0]+3936430074&4294967295,R=y+(A<<11&4294967295|A>>>21),A=b+(R^y^k)+C[3]+3572445317&4294967295,b=R+(A<<16&4294967295|A>>>16),A=k+(b^R^y)+C[6]+76029189&4294967295,k=b+(A<<23&4294967295|A>>>9),A=y+(k^b^R)+C[9]+3654602809&4294967295,y=k+(A<<4&4294967295|A>>>28),A=R+(y^k^b)+C[12]+3873151461&4294967295,R=y+(A<<11&4294967295|A>>>21),A=b+(R^y^k)+C[15]+530742520&4294967295,b=R+(A<<16&4294967295|A>>>16),A=k+(b^R^y)+C[2]+3299628645&4294967295,k=b+(A<<23&4294967295|A>>>9),A=y+(b^(k|~R))+C[0]+4096336452&4294967295,y=k+(A<<6&4294967295|A>>>26),A=R+(k^(y|~b))+C[7]+1126891415&4294967295,R=y+(A<<10&4294967295|A>>>22),A=b+(y^(R|~k))+C[14]+2878612391&4294967295,b=R+(A<<15&4294967295|A>>>17),A=k+(R^(b|~y))+C[5]+4237533241&4294967295,k=b+(A<<21&4294967295|A>>>11),A=y+(b^(k|~R))+C[12]+1700485571&4294967295,y=k+(A<<6&4294967295|A>>>26),A=R+(k^(y|~b))+C[3]+2399980690&4294967295,R=y+(A<<10&4294967295|A>>>22),A=b+(y^(R|~k))+C[10]+4293915773&4294967295,b=R+(A<<15&4294967295|A>>>17),A=k+(R^(b|~y))+C[1]+2240044497&4294967295,k=b+(A<<21&4294967295|A>>>11),A=y+(b^(k|~R))+C[8]+1873313359&4294967295,y=k+(A<<6&4294967295|A>>>26),A=R+(k^(y|~b))+C[15]+4264355552&4294967295,R=y+(A<<10&4294967295|A>>>22),A=b+(y^(R|~k))+C[6]+2734768916&4294967295,b=R+(A<<15&4294967295|A>>>17),A=k+(R^(b|~y))+C[13]+1309151649&4294967295,k=b+(A<<21&4294967295|A>>>11),A=y+(b^(k|~R))+C[4]+4149444226&4294967295,y=k+(A<<6&4294967295|A>>>26),A=R+(k^(y|~b))+C[11]+3174756917&4294967295,R=y+(A<<10&4294967295|A>>>22),A=b+(y^(R|~k))+C[2]+718787259&4294967295,b=R+(A<<15&4294967295|A>>>17),A=k+(R^(b|~y))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var k=y-this.blockSize,C=this.B,b=this.h,R=0;R<y;){if(b==0)for(;R<=k;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<y;)if(C[b++]=D.charCodeAt(R++),b==this.blockSize){i(this,C),b=0;break}}else for(;R<y;)if(C[b++]=D[R++],b==this.blockSize){i(this,C),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var k=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=k&255,k/=256;for(this.u(D),D=Array(16),y=k=0;4>y;++y)for(var C=0;32>C;C+=8)D[k++]=this.g[y]>>>C&255;return D};function s(D,y){var k=a;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=y(D)}function o(D,y){this.h=y;for(var k=[],C=!0,b=D.length-1;0<=b;b--){var R=D[b]|0;C&&R==y||(k[b]=R,C=!1)}this.g=k}var a={};function l(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return I(c(-D));for(var y=[],k=1,C=0;D>=k;C++)y[C]=D/k|0,k*=4294967296;return new o(y,0)}function d(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return I(d(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(y,8)),C=h,b=0;b<D.length;b+=8){var R=Math.min(8,D.length-b),A=parseInt(D.substring(b,b+R),y);8>R?(R=c(Math.pow(y,R)),C=C.j(R).add(c(A))):(C=C.j(k),C=C.add(c(A)))}return C}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-I(this).m();for(var D=0,y=1,k=0;k<this.g.length;k++){var C=this.i(k);D+=(0<=C?C:4294967296+C)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(w(this))return"-"+I(this).toString(D);for(var y=c(Math.pow(D,6)),k=this,C="";;){var b=x(k,y).g;k=E(k,b.j(y));var R=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=b,v(k))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=E(this,D),w(D)?-1:v(D)?0:1};function I(D){for(var y=D.g.length,k=[],C=0;C<y;C++)k[C]=~D.g[C];return new o(k,~D.h).add(f)}t.abs=function(){return w(this)?I(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),k=[],C=0,b=0;b<=y;b++){var R=C+(this.i(b)&65535)+(D.i(b)&65535),A=(R>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);C=A>>>16,R&=65535,A&=65535,k[b]=A<<16|R}return new o(k,k[k.length-1]&-2147483648?-1:0)};function E(D,y){return D.add(I(y))}t.j=function(D){if(v(this)||v(D))return h;if(w(this))return w(D)?I(this).j(I(D)):I(I(this).j(D));if(w(D))return I(this.j(I(D)));if(0>this.l(m)&&0>D.l(m))return c(this.m()*D.m());for(var y=this.g.length+D.g.length,k=[],C=0;C<2*y;C++)k[C]=0;for(C=0;C<this.g.length;C++)for(var b=0;b<D.g.length;b++){var R=this.i(C)>>>16,A=this.i(C)&65535,X=D.i(b)>>>16,ae=D.i(b)&65535;k[2*C+2*b]+=A*ae,_(k,2*C+2*b),k[2*C+2*b+1]+=R*ae,_(k,2*C+2*b+1),k[2*C+2*b+1]+=A*X,_(k,2*C+2*b+1),k[2*C+2*b+2]+=R*X,_(k,2*C+2*b+2)}for(C=0;C<y;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=y;C<2*y;C++)k[C]=0;return new o(k,0)};function _(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function T(D,y){this.g=D,this.h=y}function x(D,y){if(v(y))throw Error("division by zero");if(v(D))return new T(h,h);if(w(D))return y=x(I(D),y),new T(I(y.g),I(y.h));if(w(y))return y=x(D,I(y)),new T(I(y.g),y.h);if(30<D.g.length){if(w(D)||w(y))throw Error("slowDivide_ only works with positive integers.");for(var k=f,C=y;0>=C.l(D);)k=N(k),C=N(C);var b=V(k,1),R=V(C,1);for(C=V(C,2),k=V(k,2);!v(C);){var A=R.add(C);0>=A.l(D)&&(b=b.add(k),R=A),C=V(C,1),k=V(k,1)}return y=E(D,b.j(y)),new T(b,y)}for(b=h;0<=D.l(y);){for(k=Math.max(1,Math.floor(D.m()/y.m())),C=Math.ceil(Math.log(k)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=c(k),A=R.j(y);w(A)||0<A.l(D);)k-=C,R=c(k),A=R.j(y);v(R)&&(R=f),b=b.add(R),D=E(D,A)}return new T(b,D)}t.A=function(D){return x(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),k=[],C=0;C<y;C++)k[C]=this.i(C)&D.i(C);return new o(k,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),k=[],C=0;C<y;C++)k[C]=this.i(C)|D.i(C);return new o(k,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),k=[],C=0;C<y;C++)k[C]=this.i(C)^D.i(C);return new o(k,this.h^D.h)};function N(D){for(var y=D.g.length+1,k=[],C=0;C<y;C++)k[C]=D.i(C)<<1|D.i(C-1)>>>31;return new o(k,D.h)}function V(D,y){var k=y>>5;y%=32;for(var C=D.g.length-k,b=[],R=0;R<C;R++)b[R]=0<y?D.i(R+k)>>>y|D.i(R+k+1)<<32-y:D.i(R+k);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Zk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,fi=o}).apply(typeof uw<"u"?uw:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eD,Ra,tD,vc,ym,nD,rD,iD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var M=u[S];if(!(M in g))break e;g=g[M]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,S=!1,M={next:function(){if(!S&&g<u.length){var L=g++;return{value:p(L,u[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,g){return u.call.apply(u.bind,arguments)}function h(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function v(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,M,L){for(var W=Array(arguments.length-2),De=2;De<arguments.length;De++)W[De-2]=arguments[De];return p.prototype[M].apply(S,W)}}function w(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function I(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const M=u.length||0,L=S.length||0;u.length=M+L;for(let W=0;W<L;W++)u[M+W]=S[W]}else u.push(S)}}class E{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function x(u){return x[" "](u),u}x[" "]=function(){};var N=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function D(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function y(u){const p={};for(const g in u)p[g]=u[g];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let g,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(g in S)u[g]=S[g];for(let L=0;L<k.length;L++)g=k[L],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function b(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function R(u){a.setTimeout(()=>{throw u},0)}function A(){var u=H;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,g){const S=ae.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new E(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,F=!1,H=new X,ee=()=>{const u=a.Promise.resolve(void 0);Z=()=>{u.then(J)}};var J=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){R(g)}var p=ae;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}F=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Re(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Re.prototype.h=function(){this.defaultPrevented=!0};var an=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function ln(u,p){if(Re.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(N){e:{try{x(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ct[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ln.aa.h.call(this)}}v(ln,Re);var Ct={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),jh=0;function Zo(u,p,g,S,M){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=M,this.key=++jh,this.da=this.fa=!1}function nr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function un(u){this.src=u,this.g={},this.h=0}un.prototype.add=function(u,p,g,S,M){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var W=Wh(u,p,S,M);return-1<W?(p=u[W],g||(p.fa=!1)):(p=new Zo(p,this.src,L,!!S,M),p.fa=g,u.push(p)),p};function su(u,p){var g=p.type;if(g in u.g){var S=u.g[g],M=Array.prototype.indexOf.call(S,p,void 0),L;(L=0<=M)&&Array.prototype.splice.call(S,M,1),L&&(nr(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Wh(u,p,g,S){for(var M=0;M<u.length;++M){var L=u[M];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==S)return M}return-1}var zh="closure_lm_"+(1e6*Math.random()|0),Hh={};function Pv(u,p,g,S,M){if(S&&S.once)return xv(u,p,g,S,M);if(Array.isArray(p)){for(var L=0;L<p.length;L++)Pv(u,p[L],g,S,M);return null}return g=Kh(g),u&&u[Qt]?u.K(p,g,c(S)?!!S.capture:!!S,M):Av(u,p,g,!1,S,M)}function Av(u,p,g,S,M,L){if(!p)throw Error("Invalid event type");var W=c(M)?!!M.capture:!!M,De=Yh(u);if(De||(u[zh]=De=new un(u)),g=De.add(p,g,S,W,L),g.proxy)return g;if(S=$P(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)an||(M=W),M===void 0&&(M=!1),u.addEventListener(p.toString(),S,M);else if(u.attachEvent)u.attachEvent(Rv(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function $P(){function u(g){return p.call(u.src,u.listener,g)}const p=YP;return u}function xv(u,p,g,S,M){if(Array.isArray(p)){for(var L=0;L<p.length;L++)xv(u,p[L],g,S,M);return null}return g=Kh(g),u&&u[Qt]?u.L(p,g,c(S)?!!S.capture:!!S,M):Av(u,p,g,!0,S,M)}function bv(u,p,g,S,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)bv(u,p[L],g,S,M);else S=c(S)?!!S.capture:!!S,g=Kh(g),u&&u[Qt]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],g=Wh(L,g,S,M),-1<g&&(nr(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=Yh(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Wh(p,g,S,M)),(g=-1<u?p[u]:null)&&$h(g))}function $h(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Qt])su(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(Rv(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Yh(p))?(su(g,u),g.h==0&&(g.src=null,p[zh]=null)):nr(u)}}}function Rv(u){return u in Hh?Hh[u]:Hh[u]="on"+u}function YP(u,p){if(u.da)u=!0;else{p=new ln(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&$h(u),u=g.call(S,p)}return u}function Yh(u){return u=u[zh],u instanceof un?u:null}var qh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kh(u){return typeof u=="function"?u:(u[qh]||(u[qh]=function(p){return u.handleEvent(p)}),u[qh])}function mt(){pe.call(this),this.i=new un(this),this.M=this,this.F=null}v(mt,pe),mt.prototype[Qt]=!0,mt.prototype.removeEventListener=function(u,p,g,S){bv(this,u,p,g,S)};function Pt(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new Re(p,u);else if(p instanceof Re)p.target=p.target||u;else{var M=p;p=new Re(S,u),C(p,M)}if(M=!0,g)for(var L=g.length-1;0<=L;L--){var W=p.g=g[L];M=ou(W,S,!0,p)&&M}if(W=p.g=u,M=ou(W,S,!0,p)&&M,M=ou(W,S,!1,p)&&M,g)for(L=0;L<g.length;L++)W=p.g=g[L],M=ou(W,S,!1,p)&&M}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)nr(g[S]);delete u.g[p],u.h--}}this.F=null},mt.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},mt.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function ou(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,L=0;L<p.length;++L){var W=p[L];if(W&&!W.da&&W.capture==g){var De=W.listener,at=W.ha||W.src;W.fa&&su(u.i,W),M=De.call(at,S)!==!1&&M}}return M&&!S.defaultPrevented}function Mv(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Nv(u){u.g=Mv(()=>{u.g=null,u.i&&(u.i=!1,Nv(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class qP extends pe{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Nv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(u){pe.call(this),this.h=u,this.g={}}v(ea,pe);var Ov=[];function Vv(u){V(u.g,function(p,g){this.g.hasOwnProperty(g)&&$h(p)},u),u.g={}}ea.prototype.N=function(){ea.aa.N.call(this),Vv(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qh=a.JSON.stringify,KP=a.JSON.parse,QP=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Gh(){}Gh.prototype.h=null;function Lv(u){return u.h||(u.h=u.i())}function Fv(){}var ta={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xh(){Re.call(this,"d")}v(Xh,Re);function Jh(){Re.call(this,"c")}v(Jh,Re);var Fi={},Uv=null;function au(){return Uv=Uv||new mt}Fi.La="serverreachability";function Bv(u){Re.call(this,Fi.La,u)}v(Bv,Re);function na(u){const p=au();Pt(p,new Bv(p))}Fi.STAT_EVENT="statevent";function jv(u,p){Re.call(this,Fi.STAT_EVENT,u),this.stat=p}v(jv,Re);function At(u){const p=au();Pt(p,new jv(p,u))}Fi.Ma="timingevent";function Wv(u,p){Re.call(this,Fi.Ma,u),this.size=p}v(Wv,Re);function ra(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function GP(u,p,g,S,M,L){u.info(function(){if(u.g)if(L)for(var W="",De=L.split("&"),at=0;at<De.length;at++){var ve=De[at].split("=");if(1<ve.length){var gt=ve[0];ve=ve[1];var yt=gt.split("_");W=2<=yt.length&&yt[1]=="type"?W+(gt+"="+ve+"&"):W+(gt+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+p+`
`+g+`
`+W})}function XP(u,p,g,S,M,L,W){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+p+`
`+g+`
`+L+" "+W})}function xs(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ZP(u,g)+(S?" "+S:"")})}function JP(u,p){u.info(function(){return"TIMEOUT: "+p})}ia.prototype.info=function(){};function ZP(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return Qh(g)}catch{return p}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zh;function uu(){}v(uu,Gh),uu.prototype.g=function(){return new XMLHttpRequest},uu.prototype.i=function(){return{}},Zh=new uu;function Vr(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hv}function Hv(){this.i=null,this.g="",this.h=!1}var $v={},ef={};function tf(u,p,g){u.L=1,u.v=fu(rr(p)),u.m=g,u.P=!0,Yv(u,null)}function Yv(u,p){u.F=Date.now(),cu(u),u.A=rr(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),o0(g.i,"t",S),u.C=0,g=u.j.J,u.h=new Hv,u.g=k0(u.j,g?p:null,!u.m),0<u.O&&(u.M=new qP(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ov[0]=M.toString()),M=Ov);for(var L=0;L<M.length;L++){var W=Pv(g,M[L],S||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),na(),GP(u.i,u.u,u.A,u.l,u.R,u.m)}Vr.prototype.ca=function(u){u=u.target;const p=this.M;p&&ir(u)==3?p.j():this.Y(u)},Vr.prototype.Y=function(u){try{if(u==this.g)e:{const yt=ir(this.g);var p=this.g.Ba();const Ms=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||f0(this.g)))){this.J||yt!=4||p==7||(p==8||0>=Ms?na(3):na(2)),nf(this);var g=this.g.Z();this.X=g;t:if(qv(this)){var S=f0(this.g);u="";var M=S.length,L=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),sa(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(L&&p==M-1)});S.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,XP(this.i,this.u,this.A,this.l,this.R,yt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var De,at=this.g;if((De=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(De)){var ve=De;break t}}ve=null}if(g=ve)xs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rf(this,g);else{this.o=!1,this.s=3,At(12),Ui(this),sa(this);break e}}if(this.P){g=!0;let Sn;for(;!this.J&&this.C<W.length;)if(Sn=eA(this,W),Sn==ef){yt==4&&(this.s=4,At(14),g=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==$v){this.s=4,At(15),xs(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else xs(this.i,this.l,Sn,null),rf(this,Sn);if(qv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||W.length!=0||this.h.h||(this.s=1,At(16),g=!1),this.o=this.o&&g,!g)xs(this.i,this.l,W,"[Invalid Chunked Response]"),Ui(this),sa(this);else if(0<W.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),cf(gt),gt.M=!0,At(11))}}else xs(this.i,this.l,W,null),rf(this,W);yt==4&&Ui(this),this.o&&!this.J&&(yt==4?w0(this.j,this):(this.o=!1,cu(this)))}else yA(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Ui(this),sa(this)}}}catch{}finally{}};function qv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function eA(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?ef:(g=Number(p.substring(g,S)),isNaN(g)?$v:(S+=1,S+g>p.length?ef:(p=p.slice(S,S+g),u.C=S+g,p)))}Vr.prototype.cancel=function(){this.J=!0,Ui(this)};function cu(u){u.S=Date.now()+u.I,Kv(u,u.I)}function Kv(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ra(f(u.ba,u),p)}function nf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Vr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(JP(this.i,this.A),this.L!=2&&(na(),At(17)),Ui(this),this.s=2,sa(this)):Kv(this,this.S-u)};function sa(u){u.j.G==0||u.J||w0(u.j,u)}function Ui(u){nf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Vv(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function rf(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||sf(g.h,u))){if(!u.K&&sf(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)_u(g),yu(g);else break e;uf(g),At(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=ra(f(g.Za,g),6e3));if(1>=Xv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ji(g,11)}else if((u.K||g.g==u)&&_u(g),!_(p))for(M=g.Da.g.parse(p),p=0;p<M.length;p++){let ve=M[p];if(g.T=ve[0],ve=ve[1],g.G==2)if(ve[0]=="c"){g.K=ve[1],g.ia=ve[2];const gt=ve[3];gt!=null&&(g.la=gt,g.j.info("VER="+g.la));const yt=ve[4];yt!=null&&(g.Aa=yt,g.j.info("SVER="+g.Aa));const Ms=ve[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(S=1.5*Ms,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Sn=u.g;if(Sn){const Eu=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var L=S.h;L.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(of(L,L.h),L.h=null))}if(S.D){const df=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;df&&(S.ya=df,Ce(S.I,S.D,df))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var W=u;if(S.qa=S0(S,S.J?S.ia:null,S.W),W.K){Jv(S.h,W);var De=W,at=S.L;at&&(De.I=at),De.B&&(nf(De),cu(De)),S.g=W}else v0(S);0<g.i.length&&vu(g)}else ve[0]!="stop"&&ve[0]!="close"||ji(g,7);else g.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ji(g,7):lf(g):ve[0]!="noop"&&g.l&&g.l.ta(ve),g.v=0)}}na(4)}catch{}}var tA=class{constructor(u,p){this.g=u,this.map=p}};function Qv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Xv(u){return u.h?1:u.g?u.g.size:0}function sf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function of(u,p){u.g?u.g.add(p):u.h=p}function Jv(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Qv.prototype.cancel=function(){if(this.i=Zv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return w(u.i)}function nA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function rA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function e0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=rA(u),S=nA(u),M=S.length,L=0;L<M;L++)p.call(void 0,S[L],g&&g[L],u)}var t0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iA(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),M=null;if(0<=S){var L=u[g].substring(0,S);M=u[g].substring(S+1)}else L=u[g];p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Bi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Bi){this.h=u.h,du(this,u.j),this.o=u.o,this.g=u.g,hu(this,u.s),this.l=u.l;var p=u.i,g=new la;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),n0(this,g),this.m=u.m}else u&&(p=String(u).match(t0))?(this.h=!1,du(this,p[1]||"",!0),this.o=oa(p[2]||""),this.g=oa(p[3]||"",!0),hu(this,p[4]),this.l=oa(p[5]||"",!0),n0(this,p[6]||"",!0),this.m=oa(p[7]||"")):(this.h=!1,this.i=new la(null,this.h))}Bi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(aa(p,r0,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(aa(p,r0,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(aa(g,g.charAt(0)=="/"?aA:oA,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",aa(g,uA)),u.join("")};function rr(u){return new Bi(u)}function du(u,p,g){u.j=g?oa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function hu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function n0(u,p,g){p instanceof la?(u.i=p,cA(u.i,u.h)):(g||(p=aa(p,lA)),u.i=new la(p,u.h))}function Ce(u,p,g){u.i.set(p,g)}function fu(u){return Ce(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function oa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,sA),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var r0=/[#\/\?@]/g,oA=/[#\?:]/g,aA=/[#\?]/g,lA=/[#\?@]/g,uA=/#/g;function la(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&iA(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=la.prototype,t.add=function(u,p){Lr(this),this.i=null,u=bs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function i0(u,p){Lr(u),p=bs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function s0(u,p){return Lr(u),p=bs(u,p),u.g.has(p)}t.forEach=function(u,p){Lr(this),this.g.forEach(function(g,S){g.forEach(function(M){u.call(p,M,S,this)},this)},this)},t.na=function(){Lr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const M=u[S];for(let L=0;L<M.length;L++)g.push(p[S])}return g},t.V=function(u){Lr(this);let p=[];if(typeof u=="string")s0(this,u)&&(p=p.concat(this.g.get(bs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return Lr(this),this.i=null,u=bs(this,u),s0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function o0(u,p,g){i0(u,p),0<g.length&&(u.i=null,u.g.set(bs(u,p),w(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const L=encodeURIComponent(String(S)),W=this.V(S);for(S=0;S<W.length;S++){var M=L;W[S]!==""&&(M+="="+encodeURIComponent(String(W[S]))),u.push(M)}}return this.i=u.join("&")};function bs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function cA(u,p){p&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(g,S){var M=S.toLowerCase();S!=M&&(i0(this,S),o0(this,M,g))},u)),u.j=p}function dA(u,p){const g=new ia;if(a.Image){const S=new Image;S.onload=m(Fr,g,"TestLoadImage: loaded",!0,p,S),S.onerror=m(Fr,g,"TestLoadImage: error",!1,p,S),S.onabort=m(Fr,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(Fr,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function hA(u,p){const g=new ia,S=new AbortController,M=setTimeout(()=>{S.abort(),Fr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(L=>{clearTimeout(M),L.ok?Fr(g,"TestPingServer: ok",!0,p):Fr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Fr(g,"TestPingServer: error",!1,p)})}function Fr(u,p,g,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(g)}catch{}}function fA(){this.g=new QP}function pA(u,p,g){const S=g||"";try{e0(u,function(M,L){let W=M;c(M)&&(W=Qh(M)),p.push(S+L+"="+encodeURIComponent(W))})}catch(M){throw p.push(S+"type="+encodeURIComponent("_badmap")),M}}function pu(u){this.l=u.Ub||null,this.j=u.eb||!1}v(pu,Gh),pu.prototype.g=function(){return new mu(this.l,this.j)},pu.prototype.i=function(u){return function(){return u}}({});function mu(u,p){mt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(mu,mt),t=mu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ca(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function a0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ua(this):ca(this),this.readyState==3&&a0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ua(this))},t.Qa=function(u){this.g&&(this.response=u,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ca(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function ca(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function l0(u){let p="";return V(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function af(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=l0(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ce(u,p,g))}function je(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(je,mt);var mA=/^https?$/i,gA=["POST","PUT"];t=je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zh.g(),this.v=this.o?Lv(this.o):Lv(Zh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){u0(this,L);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)g.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())g.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gA,p,void 0))||S||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of g)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){u0(this,L)}};function u0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,c0(u),gu(u)}function c0(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pt(this,"complete"),Pt(this,"abort"),gu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d0(this):this.bb())},t.bb=function(){d0(this)};function d0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ir(u)!=4||u.Z()!=2)){if(u.u&&ir(u)==4)Mv(u.Ea,0,u);else if(Pt(u,"readystatechange"),ir(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=W===0){var M=String(u.D).match(t0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),S=!mA.test(M?M.toLowerCase():"")}g=S}if(g)Pt(u,"complete"),Pt(u,"success");else{u.m=6;try{var L=2<ir(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",c0(u)}}finally{gu(u)}}}}function gu(u,p){if(u.g){h0(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Pt(u,"ready");try{g.onreadystatechange=S}catch{}}}function h0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),KP(p)}};function f0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yA(u){const p={};u=(u.g&&2<=ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(_(u[S]))continue;var g=b(u[S]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[M]||[];p[M]=L,L.push(g)}D(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function p0(u){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,u),this.cb=da("retryDelaySeedMs",1e4,u),this.Wa=da("forwardChannelMaxRetries",2,u),this.wa=da("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qv(u&&u.concurrentRequestLimit),this.Da=new fA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p0.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){At(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=S0(this,null,this.W),vu(this)};function lf(u){if(m0(u),u.G==3){var p=u.U++,g=rr(u.I);if(Ce(g,"SID",u.K),Ce(g,"RID",p),Ce(g,"TYPE","terminate"),ha(u,g),p=new Vr(u,u.j,p),p.L=2,p.v=fu(rr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=k0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),cu(p)}T0(u)}function yu(u){u.g&&(cf(u),u.g.cancel(),u.g=null)}function m0(u){yu(u),u.u&&(a.clearTimeout(u.u),u.u=null),_u(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function vu(u){if(!Gv(u.h)&&!u.s){u.s=!0;var p=u.Ga;Z||ee(),F||(Z(),F=!0),H.add(p,u),u.B=0}}function vA(u,p){return Xv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ra(f(u.Ga,u,p),E0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Vr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=y(L),C(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=y0(this,M,p),g=rr(this.I),Ce(g,"RID",u),Ce(g,"CVER",22),this.D&&Ce(g,"X-HTTP-Session-Id",this.D),ha(this,g),L&&(this.O?p="headers="+encodeURIComponent(String(l0(L)))+"&"+p:this.m&&af(g,this.m,L)),of(this.h,M),this.Ua&&Ce(g,"TYPE","init"),this.P?(Ce(g,"$req",p),Ce(g,"SID","null"),M.T=!0,tf(M,g,null)):tf(M,g,p),this.G=2}}else this.G==3&&(u?g0(this,u):this.i.length==0||Gv(this.h)||g0(this))};function g0(u,p){var g;p?g=p.l:g=u.U++;const S=rr(u.I);Ce(S,"SID",u.K),Ce(S,"RID",g),Ce(S,"AID",u.T),ha(u,S),u.m&&u.o&&af(S,u.m,u.o),g=new Vr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=y0(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),of(u.h,g),tf(g,S,p)}function ha(u,p){u.H&&V(u.H,function(g,S){Ce(p,S,g)}),u.l&&e0({},function(g,S){Ce(p,S,g)})}function y0(u,p,g){g=Math.min(u.i.length,g);var S=u.l?f(u.l.Na,u.l,u):null;e:{var M=u.i;let L=-1;for(;;){const W=["count="+g];L==-1?0<g?(L=M[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let De=!0;for(let at=0;at<g;at++){let ve=M[at].g;const gt=M[at].map;if(ve-=L,0>ve)L=Math.max(0,M[at].g-100),De=!1;else try{pA(gt,W,"req"+ve+"_")}catch{S&&S(gt)}}if(De){S=W.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function v0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Z||ee(),F||(Z(),F=!0),H.add(p,u),u.v=0}}function uf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ra(f(u.Fa,u),E0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,_0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ra(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),yu(this),_0(this))};function cf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function _0(u){u.g=new Vr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=rr(u.qa);Ce(p,"RID","rpc"),Ce(p,"SID",u.K),Ce(p,"AID",u.T),Ce(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ce(p,"TO",u.ja),Ce(p,"TYPE","xmlhttp"),ha(u,p),u.m&&u.o&&af(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=fu(rr(p)),g.m=null,g.P=!0,Yv(g,u)}t.Za=function(){this.C!=null&&(this.C=null,yu(this),uf(this),At(19))};function _u(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function w0(u,p){var g=null;if(u.g==p){_u(u),cf(u),u.g=null;var S=2}else if(sf(u.h,p))g=p.D,Jv(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;S=au(),Pt(S,new Wv(S,g)),vu(u)}else v0(u);else if(M=p.s,M==3||M==0&&0<p.X||!(S==1&&vA(u,p)||S==2&&uf(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),M){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function E0(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function ji(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),S=u.Xa;const M=!S;S=new Bi(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(S,"https"),fu(S),M?dA(S.toString(),g):hA(S.toString(),g)}else At(2);u.G=0,u.l&&u.l.sa(p),T0(u),m0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function T0(u){if(u.G=0,u.ka=[],u.l){const p=Zv(u.h);(p.length!=0||u.i.length!=0)&&(I(u.ka,p),I(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function S0(u,p,g){var S=g instanceof Bi?rr(g):new Bi(g);if(S.g!="")p&&(S.g=p+"."+S.g),hu(S,S.s);else{var M=a.location;S=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var L=new Bi(null);S&&du(L,S),p&&(L.g=p),M&&hu(L,M),g&&(L.l=g),S=L}return g=u.D,p=u.ya,g&&p&&Ce(S,g,p),Ce(S,"VER",u.la),ha(u,S),S}function k0(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new je(new pu({eb:g})):new je(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function D0(){}t=D0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(u,p){return new Gt(u,p)};function Gt(u,p){mt.call(this),this.g=new p0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!_(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Rs(this)}v(Gt,mt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){lf(this.g)},Gt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Qh(u),u=g);p.i.push(new tA(p.Ya++,u)),p.G==3&&vu(p)},Gt.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,Gt.aa.N.call(this)};function I0(u){Xh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(I0,Xh);function C0(){Jh.call(this),this.status=1}v(C0,Jh);function Rs(u){this.g=u}v(Rs,D0),Rs.prototype.ua=function(){Pt(this.g,"a")},Rs.prototype.ta=function(u){Pt(this.g,new I0(u))},Rs.prototype.sa=function(u){Pt(this.g,new C0)},Rs.prototype.ra=function(){Pt(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,iD=function(){return new wu},rD=function(){return au()},nD=Fi,ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,vc=lu,zv.COMPLETE="complete",tD=zv,Fv.EventType=ta,ta.OPEN="a",ta.CLOSE="b",ta.ERROR="c",ta.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ra=Fv,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,eD=je}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const cw="@firebase/firestore",dw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Xg("@firebase/firestore");function Vs(){return ms.logLevel}function q(t,...e){if(ms.logLevel<=ce.DEBUG){const n=e.map(cy);ms.debug(`Firestore (${qo}): ${t}`,...n)}}function Ar(t,...e){if(ms.logLevel<=ce.ERROR){const n=e.map(cy);ms.error(`Firestore (${qo}): ${t}`,...n)}}function Io(t,...e){if(ms.logLevel<=ce.WARN){const n=e.map(cy);ms.warn(`Firestore (${qo}): ${t}`,...n)}}function cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+t;throw Ar(e),new Error(e)}function Ee(t,e){t||re()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class DO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IO{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new sD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new Tt(e)}}class CO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class PO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AO{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new hw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new hw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=xO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Co(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=-62135596800,pw=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pw);return new tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fw)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pw}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new tt(0,0))}static max(){return new se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="__name__";class Ln{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ln.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ln?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ln.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Ln.isNumericId(e),i=Ln.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ln.extractNumericId(e).compare(Ln.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}}class Ae extends Ln{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const bO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Ln{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return bO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mw}static keyField(){return new ct([mw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ae.fromString(e))}static fromName(e){return new te(Ae.fromString(e).popFirst(5))}static empty(){return new te(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=-1;function RO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Ei(i,te.empty(),e)}function MO(t){return new Ei(t.readTime,t.key,Tl)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(se.min(),te.empty(),Tl)}static max(){return new Ei(se.max(),te.empty(),Tl)}}function NO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==OO)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function LO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}oh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=-1;function ah(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function FO(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="";function UO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gw(e)),e=BO(t.get(n),e);return gw(e)}function BO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case aD:n+="";break;default:n+=s}}return n}function gw(t){return t+aD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ut.RED,this.left=i??ut.EMPTY,this.right=s??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vw(this.data.getIterator())}getIteratorFrom(e){return new vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new nt(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uD("Invalid base64 string: "+s):s}}(e);return new pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const jO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=jO.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="server_timestamp",dD="__type__",hD="__previous_value__",fD="__local_write_time__";function hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dD])===null||n===void 0?void 0:n.stringValue)===cD}function lh(t){const e=t.mapValue.fields[hD];return hy(e)?lh(e):e}function Sl(t){const e=Ti(t.mapValue.fields[fD].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const cd="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||cd}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="__type__",mD="__max__",Wu={mapValue:{fields:{__type__:{stringValue:mD}}}},gD="__vector__",dd="value";function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hy(t)?4:HO(t)?9007199254740991:zO(t)?10:11:re()}function Zn(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ti(i.timestampValue),a=Ti(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Si(i.bytesValue).isEqual(Si(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$e(i.doubleValue),a=$e(s.doubleValue);return o===a?ud(o)===ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(yw(o)!==yw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zn(o[l],a[l])))return!1;return!0}(t,e);default:return re()}}function Dl(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=ki(t),r=ki(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=$e(s.integerValue||s.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _w(t.timestampValue,e.timestampValue);case 4:return _w(Sl(t),Sl(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Si(s),l=Si(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=he(a[c],l[c]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he($e(s.latitude),$e(o.latitude));return a!==0?a:he($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ww(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},m=(a=h[dd])===null||a===void 0?void 0:a.arrayValue,v=(l=f[dd])===null||l===void 0?void 0:l.arrayValue,w=he(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:ww(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Wu.mapValue&&o===Wu.mapValue)return 0;if(s===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=he(l[h],d[h]);if(f!==0)return f;const m=Po(a[l[h]],c[d[h]]);if(m!==0)return m}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re()}}function _w(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Ti(t),r=Ti(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function ww(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Po(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function Ao(t){return vm(t)}function vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vm(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function _c(t){switch(ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(t);return e?16+_c(e):16;case 5:return 2*t.stringValue.length;case 6:return Si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+_c(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Oi(r.fields,(s,o)=>{i+=s.length+_c(o)}),i}(t.mapValue);default:throw re()}}function Ew(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _m(t){return!!t&&"integerValue"in t}function fy(t){return!!t&&"arrayValue"in t}function Tw(t){return!!t&&"nullValue"in t}function Sw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wc(t){return!!t&&"mapValue"in t}function zO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pD])===null||n===void 0?void 0:n.stringValue)===gD}function Qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(Qa(this.value))}}function yD(t){const e=[];return Oi(t.fields,(n,r)=>{const i=new ct([n]);if(wc(r)){const s=yD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,se.min(),se.min(),se.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,se.min(),se.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,se.min(),se.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.position=e,this.inclusive=n}}function kw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function $O(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{}class Je extends vD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qO(e,n,r):n==="array-contains"?new GO(e,r):n==="in"?new XO(e,r):n==="not-in"?new JO(e,r):n==="array-contains-any"?new ZO(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KO(e,r):new QO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Po(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends vD{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Rn(e,n)}matches(e){return _D(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _D(t){return t.op==="and"}function wD(t){return YO(t)&&_D(t)}function YO(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function wm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(wD(t))return t.filters.map(e=>wm(e)).join(",");{const e=t.filters.map(n=>wm(n)).join(",");return`${t.op}(${e})`}}function ED(t,e){return t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ED(o,i.filters[a]),!0):!1}(t,e):void re()}function TD(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(TD).join(" ,")+"}"}(t):"Filter"}class qO extends Je{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class KO extends Je{constructor(e,n){super(e,"in",n),this.keys=SD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QO extends Je{constructor(e,n){super(e,"not-in",n),this.keys=SD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class GO extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fy(n)&&Dl(n.arrayValue,this.value)}}class XO extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class JO extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class ZO extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function Iw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eV(t,e,n,r,i,s,o)}function py(t){const e=oe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),e.le=n}return e.le}function my(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$O(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ED(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dw(t.startAt,e.startAt)&&Dw(t.endAt,e.endAt)}function Em(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function tV(t,e,n,r,i,s,o,a){return new Hl(t,e,n,r,i,s,o,a)}function gy(t){return new Hl(t)}function Cw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kD(t){return t.collectionGroup!==null}function Ga(t){const e=oe(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new fd(s,r))}),n.has(ct.keyField().canonicalString())||e.he.push(new fd(ct.keyField(),r))}return e.he}function Qn(t){const e=oe(t);return e.Pe||(e.Pe=nV(e,Ga(t))),e.Pe}function nV(t,e){if(t.limitType==="F")return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new fd(i.field,s)});const n=t.endAt?new hd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hd(t.startAt.position,t.startAt.inclusive):null;return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tm(t,e){const n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return my(Qn(t),Qn(e))&&t.limitType===e.limitType}function DD(t){return`${py(Qn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TD(i)).join(", ")}]`),ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ao(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function ch(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ga(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=kw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ga(r),i)||r.endAt&&!function(o,a,l){const c=kw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ga(r),i))}(t,e)}function rV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ID(t){return(e,n)=>{let r=!1;for(const i of Ga(t)){const s=iV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iV(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Po(l,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Be(te.comparator);function xr(){return sV}const CD=new Be(te.comparator);function Ma(...t){let e=CD;for(const n of t)e=e.insert(n.key,n);return e}function PD(t){let e=CD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return Xa()}function AD(){return Xa()}function Xa(){return new Ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const oV=new Be(te.comparator),aV=new nt(te.comparator);function de(...t){let e=aV;for(const n of t)e=e.add(n);return e}const lV=new nt(he);function uV(){return lV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function xD(t){return{integerValue:""+t}}function cV(t,e){return FO(e)?xD(e):yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function dV(t,e,n){return t instanceof pd?function(i,s){const o={fields:{[dD]:{stringValue:cD},[fD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hy(s)&&(s=lh(s)),s&&(o.fields[hD]=s),{mapValue:o}}(n,e):t instanceof Il?RD(t,e):t instanceof Cl?MD(t,e):function(i,s){const o=bD(i,s),a=Pw(o)+Pw(i.Ie);return _m(o)&&_m(i.Ie)?xD(a):yy(i.serializer,a)}(t,e)}function hV(t,e,n){return t instanceof Il?RD(t,e):t instanceof Cl?MD(t,e):n}function bD(t,e){return t instanceof md?function(r){return _m(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class pd extends dh{}class Il extends dh{constructor(e){super(),this.elements=e}}function RD(t,e){const n=ND(e);for(const r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cl extends dh{constructor(e){super(),this.elements=e}}function MD(t,e){let n=ND(e);for(const r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}class md extends dh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pw(t){return $e(t.integerValue||t.doubleValue)}function ND(t){return fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Il&&i instanceof Il||r instanceof Cl&&i instanceof Cl?Co(r.elements,i.elements,Zn):r instanceof md&&i instanceof md?Zn(r.Ie,i.Ie):r instanceof pd&&i instanceof pd}(t.transform,e.transform)}class pV{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function OD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vy(t.key,_n.none()):new $l(t.key,t.data,_n.none());{const n=t.data,r=Wt.empty();let i=new nt(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new Zt(i.toArray()),_n.none())}}function mV(t,e,n){t instanceof $l?function(i,s,o){const a=i.value.clone(),l=xw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(i,s,o){if(!Ec(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ja(t,e,n,r){return t instanceof $l?function(s,o,a,l){if(!Ec(s.precondition,o))return a;const c=s.value.clone(),d=bw(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(s,o,a,l){if(!Ec(s.precondition,o))return a;const c=bw(s.fieldTransforms,l,o),d=o.data;return d.setAll(VD(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ec(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bD(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function Aw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Co(r,i,(s,o)=>fV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $l extends hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xw(t,e,n){const r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hV(o,a,n[i]))}return r}function bw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dV(s,o,e))}return r}class vy extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yV extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,r)=>Aw(n,r))&&Co(this.baseMutations,e.baseMutations,(n,r)=>Aw(n,r))}}class _y{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return oV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new _y(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,fe;function EV(t){switch(t){case B.OK:return re();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return re()}}function LD(t){if(t===void 0)return Ar("GRPC error has no .code"),B.UNKNOWN;switch(t){case Qe.OK:return B.OK;case Qe.CANCELLED:return B.CANCELLED;case Qe.UNKNOWN:return B.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return B.INTERNAL;case Qe.UNAVAILABLE:return B.UNAVAILABLE;case Qe.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Qe.NOT_FOUND:return B.NOT_FOUND;case Qe.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Qe.ABORTED:return B.ABORTED;case Qe.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Qe.DATA_LOSS:return B.DATA_LOSS;default:return re()}}(fe=Qe||(Qe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new fi([4294967295,4294967295],0);function Rw(t){const e=TV().encode(t),n=new Zk;return n.update(e),new Uint8Array(n.digest())}function Mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fi([n,r],0),new fi([i,s],0)]}class wy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Na(`Invalid padding: ${n}`);if(r<0)throw new Na(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Na(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Na(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=fi.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(fi.fromNumber(r)));return i.compare(SV)===1&&(i=new fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Rw(e),[r,i]=Mw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Rw(e),[r,i]=Mw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fh(se.min(),i,new Be(he),xr(),de())}}class Yl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yl(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class FD{constructor(e,n){this.targetId=e,this.ge=n}}class UD{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Nw{constructor(){this.pe=0,this.ye=Ow(),this.we=pt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=de(),n=de(),r=de();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Yl(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=Ow()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ee(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class kV{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xr(),this.$e=zu(),this.Ke=zu(),this.Ue=new Be(he)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Em(s))if(r===0){const o=new te(s.path);this.ze(n,o,kt.newNoDocument(o,se.min()))}else Ee(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Si(r).toUint8Array()}catch(l){if(l instanceof uD)return Io("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wy(o,i,s)}catch(l){return Io(l instanceof Na?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Em(a.target)){const l=new te(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,kt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=de();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new fh(e,n,this.Ue,this.Qe,r);return this.Qe=xr(),this.$e=zu(),this.Ke=zu(),this.Ue=new Be(he),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Nw,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new nt(he),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new nt(he),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Nw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function zu(){return new Be(te.comparator)}function Ow(){return new Be(te.comparator)}const DV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),IV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),CV=(()=>({and:"AND",or:"OR"}))();class PV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(t,e){return t.useProto3Json||ah(e)?e:{value:e}}function gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AV(t,e){return gd(t,e.toTimestamp())}function Gn(t){return Ee(!!t),se.fromTimestamp(function(n){const r=Ti(n);return new tt(r.seconds,r.nanos)}(t))}function Ey(t,e){return Dm(t,e).canonicalString()}function Dm(t,e){const n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jD(t){const e=Ae.fromString(t);return Ee(YD(e)),e}function Im(t,e){return Ey(t.databaseId,e.path)}function $f(t,e){const n=jD(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(zD(n))}function WD(t,e){return Ey(t.databaseId,e)}function xV(t){const e=jD(t);return e.length===4?Ae.emptyPath():zD(e)}function Cm(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zD(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vw(t,e,n){return{name:Im(t,e),fields:n.value.mapValue.fields}}function bV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ee(d===void 0||typeof d=="string"),pt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array),pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:LD(c.code);return new Q(d,c.message||"")}(o);n=new UD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$f(t,r.document.name),s=Gn(r.document.updateTime),o=r.document.createTime?Gn(r.document.createTime):se.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Tc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$f(t,r.document),s=r.readTime?Gn(r.readTime):se.min(),o=kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$f(t,r.document),s=r.removedTargetIds||[];n=new Tc([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wV(i,s),a=r.targetId;n=new FD(a,o)}}return n}function RV(t,e){let n;if(e instanceof $l)n={update:Vw(t,e.key,e.value)};else if(e instanceof vy)n={delete:Im(t,e.key)};else if(e instanceof Vi)n={update:Vw(t,e.key,e.data),updateMask:jV(e.fieldMask)};else{if(!(e instanceof yV))return re();n={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof pd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof md)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:AV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function MV(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gn(i.updateTime):Gn(s);return o.isEqual(se.min())&&(o=Gn(s)),new pV(o,i.transformResults||[])}(n,e))):[]}function NV(t,e){return{documents:[WD(t,e.path)]}}function OV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WD(t,i);const s=function(c){if(c.length!==0)return $D(Rn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Fs(f.field),direction:FV(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=km(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function VV(t){let e=xV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=HD(h);return f instanceof Rn&&wD(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new fd(Us(v.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ah(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new hd(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new hd(m,f)}(n.endAt)),tV(e,i,o,s,a,"F",l,c)}function LV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(n.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>HD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function FV(t){return DV[t]}function UV(t){return IV[t]}function BV(t){return CV[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return ct.fromServerFormat(t.fieldPath)}function $D(t){return t instanceof Je?function(n){if(n.op==="=="){if(Sw(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(Tw(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sw(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(Tw(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:UV(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(i=>$D(i));return r.length===1?r[0]:{compositeFilter:{op:BV(n.op),filters:r}}}(t):re()}function jV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,s=se.min(),o=se.min(),a=pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.Tt=e}}function zV(t){const e=VV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.Tn=new $V}addToCollectionParentIndex(e,n){return this.Tn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ei.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class $V{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qD=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(qD,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new xo(0)}static Un(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="LruGarbageCollector",YV=1048576;function Uw([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class qV{constructor(e){this.Hn=e,this.buffer=new nt(Uw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Uw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){q(Fw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?q(Fw,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.er(3e5)})}}class QV{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(oh.ae);const r=new qV(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Lw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Vs()<=ce.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function GV(t,e){return new QV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ja(r.mutation,i,Zt.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=Ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ma();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xr();const o=Xa(),a=function(){return Xa()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Vi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ja(d.mutation,c,d.mutation.getFieldMask(),tt.now())):o.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new JV(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xa();let i=new Be((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Zt.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=AD();d.forEach(f=>{if(!s.has(f)){const m=OD(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ji());let a=Tl,l=s;return o.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(d=>({batchId:a,changes:PD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Ma();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ma();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(h,f){return new Hl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,kt.newInvalidDocument(d)))});let a=Ma();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Ja(d.mutation,c,Zt.empty(),tt.now()),ch(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return U.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:zV(i.bundledQuery),readTime:Gn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.overlays=new Be(te.comparator),this.Rr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ji();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ji(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ji(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ji(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _V(n,r));let s=this.Rr.get(n);s===void 0&&(s=de(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.Vr=new nt(rt.mr),this.gr=new nt(rt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new rt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new te(new Ae([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new te(new Ae([])),r=new rt(n,e),i=new rt(n,e+1);let s=de();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return te.comparator(e.key,n.key)||he(e.Cr,n.Cr)}static pr(e,n){return he(e.Cr,n.Cr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new nt(rt.mr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?dy:this.Fr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(he);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),U.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new rt(new te(s),0);let a=new nt(he);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),U.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return U.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new rt(n,0),i=this.Mr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.kr=e,this.docs=function(){return new Be(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||NO(MO(d),r)<=0||(i.has(d.key)||ch(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}qr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sL(this)}getSize(e){return U.resolve(this.size)}}class sL extends XV{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.persistence=e,this.Qr=new Ss(n=>py(n),my),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ty,this.targetCount=0,this.Ur=xo.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),U.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.zn(n),U.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new oh(0),this.zr=!1,this.zr=!0,this.jr=new nL,this.referenceDelegate=e(this),this.Hr=new oL(this),this.indexManager=new HV,this.remoteDocumentCache=function(i){return new iL(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new WV(n),this.Yr=new eL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new rL(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new aL(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return U.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class aL extends VO{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.ti=new Ty,this.ni=null}static ri(e){return new Sy(e)}get ii(){if(this.ni)return this.ni;throw re()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),U.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ii,r=>{const i=te.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return U.or([()=>U.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class yd{constructor(e,n){this.persistence=e,this.oi=new Ss(r=>UO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=GV(this,n)}static ri(e,n){return new yd(e,n)}Zr(){}Xr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return U.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_c(e.data.value)),n}ar(e,n,r){return U.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ky(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return aR()?8:LO(It())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new lL;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Vs()<=ce.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),U.resolve()):(Vs()<=ce.DEBUG&&q("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Vs()<=ce.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):U.resolve())}rs(e,n){if(Cw(n))return U.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sm(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,Sm(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return Cw(n)||i.isEqual(se.min())?U.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?U.resolve(null):(Vs()<=ce.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.hs(e,o,n,RO(i,Tl)).next(a=>a))})}cs(e,n){let r=new nt(ID(e));return n.forEach((i,s)=>{ch(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Vs()<=ce.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.ns.getDocumentsMatchingQuery(e,n,Ei.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="LocalStore",cL=3e8;class dL{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Be(he),this.Is=new Ss(s=>py(s),my),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function hL(t,e,n,r){return new dL(t,e,n,r)}async function QD(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function fL(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=U.resolve();return f.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(w=>{const I=c.docVersions.get(v);Ee(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GD(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function pL(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(pt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,I,E){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=cL?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,m,d)&&a.push(n.Hr.updateTargetData(s,m))});let l=xr(),c=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(mL(s,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!r.isEqual(se.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=i,s))}function mL(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(Dy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function gL(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yL(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Pm(t,e,n){const r=oe(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qo(o))throw o;q(Dy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Bw(t,e,n){const r=oe(t);let i=se.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=oe(l),f=h.Is.get(d);return f!==void 0?U.resolve(h.Ts.get(f)):h.Hr.getTargetData(c,d)}(r,o,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:de())).next(a=>(vL(r,rV(e),a),{documents:a,gs:s})))}function vL(t,e,n){let r=t.Es.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class jw{constructor(){this.activeTargetIds=uV()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _L{constructor(){this.ho=new jw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="ConnectivityMonitor";class zw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(Ww,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){q(Ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Am(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",EL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TL{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===cd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){const o=Am(),a=this.So(e,n.toUriEncodedString());q(Yf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(q(Yf,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Io(Yf,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){const r=EL[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class kL extends TL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Am();return new Promise((o,a)=>{const l=new eD;l.setWithCredentials(!0),l.listenOnce(tD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vc.NO_ERROR:const d=l.getResponseJson();q(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case vc.TIMEOUT:q(wt,`RPC '${e}' ${s} timed out`),a(new Q(B.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const h=l.getStatus();if(q(wt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(I){const E=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(m.status);a(new Q(v,m.message))}else a(new Q(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(B.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{q(wt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=Am(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iD(),a=rD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");q(wt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const v=new SL({Fo:I=>{m?q(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(q(wt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),q(wt,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},Mo:()=>h.close()}),w=(I,E,_)=>{I.listen(E,T=>{try{_(T)}catch(x){setTimeout(()=>{throw x},0)}})};return w(h,Ra.EventType.OPEN,()=>{m||(q(wt,`RPC '${e}' stream ${i} transport opened.`),v.Qo())}),w(h,Ra.EventType.CLOSE,()=>{m||(m=!0,q(wt,`RPC '${e}' stream ${i} transport closed`),v.Ko())}),w(h,Ra.EventType.ERROR,I=>{m||(m=!0,Io(wt,`RPC '${e}' stream ${i} transport errored:`,I),v.Ko(new Q(B.UNAVAILABLE,"The operation could not be completed")))}),w(h,Ra.EventType.MESSAGE,I=>{var E;if(!m){const _=I.data[0];Ee(!!_);const T=_,x=(T==null?void 0:T.error)||((E=T[0])===null||E===void 0?void 0:E.error);if(x){q(wt,`RPC '${e}' stream ${i} received error:`,x);const N=x.status;let V=function(k){const C=Qe[k];if(C!==void 0)return LD(C)}(N),D=x.message;V===void 0&&(V=B.INTERNAL,D="Unknown error status: "+N+" with message "+x.message),m=!0,v.Ko(new Q(V,D)),h.close()}else q(wt,`RPC '${e}' stream ${i} received:`,_),v.Uo(_)}}),w(a,nD.STAT_EVENT,I=>{I.stat===ym.PROXY?q(wt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===ym.NOPROXY&&q(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){return new PV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="PersistentStream";class JD{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new XD(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return q(Hw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(q(Hw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DL extends JD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=bV(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Gn(o.readTime):se.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Em(l)?{documents:NV(s,l)}:{query:OV(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BD(s,o.resumeToken);const c=km(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=gd(s,o.snapshotVersion.toTimestamp());const c=km(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=LV(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.I_(n)}}class IL extends JD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=MV(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Cm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RV(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{}class PL extends CL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Dm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(B.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Dm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(B.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class AL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ar(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class xL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{ks(this)&&(q(gs,"Restarting streams for network reachability change."),await async function(l){const c=oe(l);c.W_.add(4),await ql(c),c.j_.set("Unknown"),c.W_.delete(4),await mh(c)}(this))})}),this.j_=new AL(r,i)}}async function mh(t){if(ks(t))for(const e of t.G_)await e(!0)}async function ql(t){for(const e of t.G_)await e(!1)}function ZD(t,e){const n=oe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ay(n)?Py(n):Go(n).c_()&&Cy(n,e))}function Iy(t,e){const n=oe(t),r=Go(n);n.U_.delete(e),r.c_()&&eI(n,e),n.U_.size===0&&(r.c_()?r.P_():ks(n)&&n.j_.set("Unknown"))}function Cy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).y_(e)}function eI(t,e){t.H_.Ne(e),Go(t).w_(e)}function Py(t){t.H_=new kV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.j_.B_()}function Ay(t){return ks(t)&&!Go(t).u_()&&t.U_.size>0}function ks(t){return oe(t).W_.size===0}function tI(t){t.H_=void 0}async function bL(t){t.j_.set("Online")}async function RL(t){t.U_.forEach((e,n)=>{Cy(t,e)})}async function ML(t,e){tI(t),Ay(t)?(t.j_.q_(e),Py(t)):t.j_.set("Unknown")}async function NL(t,e,n){if(t.j_.set("Online"),e instanceof UD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){q(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vd(t,r)}else if(e instanceof Tc?t.H_.We(e):e instanceof FD?t.H_.Ze(e):t.H_.je(e),!n.isEqual(se.min()))try{const r=await GD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.U_.get(c);d&&s.U_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.U_.get(l);if(!d)return;s.U_.set(l,d.withResumeToken(pt.EMPTY_BYTE_STRING,d.snapshotVersion)),eI(s,l);const h=new ei(d.target,l,c,d.sequenceNumber);Cy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(gs,"Failed to raise snapshot:",r),await vd(t,r)}}async function vd(t,e,n){if(!Qo(e))throw e;t.W_.add(1),await ql(t),t.j_.set("Offline"),n||(n=()=>GD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(gs,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await mh(t)})}function nI(t,e){return e().catch(n=>vd(t,n,e))}async function gh(t){const e=oe(t),n=Di(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:dy;for(;OL(e);)try{const i=await gL(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,VL(e,i)}catch(i){await vd(e,i)}rI(e)&&iI(e)}function OL(t){return ks(t)&&t.K_.length<10}function VL(t,e){t.K_.push(e);const n=Di(t);n.c_()&&n.b_&&n.S_(e.mutations)}function rI(t){return ks(t)&&!Di(t).u_()&&t.K_.length>0}function iI(t){Di(t).start()}async function LL(t){Di(t).C_()}async function FL(t){const e=Di(t);for(const n of t.K_)e.S_(n.mutations)}async function UL(t,e,n){const r=t.K_.shift(),i=_y.from(r,e,n);await nI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gh(t)}async function BL(t,e){e&&Di(t).b_&&await async function(r,i){if(function(o){return EV(o)&&o!==B.ABORTED}(i.code)){const s=r.K_.shift();Di(r).h_(),await nI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gh(r)}}(t,e),rI(t)&&iI(t)}async function $w(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),q(gs,"RemoteStore received new credentials");const r=ks(n);n.W_.add(3),await ql(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await mh(n)}async function jL(t,e){const n=oe(t);e?(n.W_.delete(2),await mh(n)):e||(n.W_.add(2),await ql(n),n.j_.set("Unknown"))}function Go(t){return t.J_||(t.J_=function(n,r,i){const s=oe(n);return s.M_(),new DL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:bL.bind(null,t),No:RL.bind(null,t),Lo:ML.bind(null,t),p_:NL.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Ay(t)?Py(t):t.j_.set("Unknown")):(await t.J_.stop(),tI(t))})),t.J_}function Di(t){return t.Y_||(t.Y_=function(n,r,i){const s=oe(n);return s.M_(),new IL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:LL.bind(null,t),Lo:BL.bind(null,t),D_:FL.bind(null,t),v_:UL.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await gh(t)):(await t.Y_.stop(),t.K_.length>0&&(q(gs,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),Qo(t))return new Q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Ma(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.Z_=new Be(te.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bo(e,n,po.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zL{constructor(){this.queries=qw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=qw(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Q(B.ABORTED,"Firestore shutting down"))}}function qw(){return new Ss(t=>DD(t),uh)}async function sI(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new WL,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=by(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Ry(n)}async function oI(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HL(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&Ry(n)}function $L(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function Ry(t){t.ia.forEach(e=>{e.next()})}var xm,Kw;(Kw=xm||(xm={}))._a="default",Kw.Cache="cache";class aI{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.key=e}}class uI{constructor(e){this.key=e}}class YL{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=de(),this.mutatedKeys=de(),this.ya=ID(e),this.wa=new po(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new Yw,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=ch(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;f&&m?f.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),I=!0):this.va(f,m)||(r.track({type:2,doc:m}),I=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),I=!0):f&&!m&&(r.track({type:1,doc:f}),I=!0,(l||c)&&(a=!0)),I&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(m,v){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return w(m)-w(v)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new bo(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Yw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=de(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new uI(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new lI(r))}),n}Oa(e){this.fa=e.gs,this.pa=de();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const My="SyncEngine";class qL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KL{constructor(e){this.key=e,this.Ba=!1}}class QL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ss(a=>DD(a),uh),this.qa=new Map,this.Qa=new Set,this.$a=new Be(te.comparator),this.Ka=new Map,this.Ua=new Ty,this.Wa={},this.Ga=new Map,this.za=xo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GL(t,e,n=!0){const r=mI(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await cI(r,e,n,!0),i}async function XL(t,e){const n=mI(t);await cI(n,e,!0,!1)}async function cI(t,e,n,r){const i=await yL(t.localStore,Qn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await JL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ZD(t.remoteStore,i),a}async function JL(t,e,n,r,i){t.Ha=(h,f,m)=>async function(w,I,E,_){let T=I.view.Sa(E);T.ls&&(T=await Bw(w.localStore,I.query,!1).then(({documents:D})=>I.view.Sa(D,T)));const x=_&&_.targetChanges.get(I.targetId),N=_&&_.targetMismatches.get(I.targetId)!=null,V=I.view.applyChanges(T,w.isPrimaryClient,x,N);return Gw(w,I.targetId,V.Ma),V.snapshot}(t,h,f,m);const s=await Bw(t.localStore,e,!0),o=new YL(e,s.gs),a=o.Sa(s.documents),l=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Gw(t,n,c.Ma);const d=new qL(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function ZL(t,e,n){const r=oe(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!uh(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iy(r.remoteStore,i.targetId),bm(r,i.targetId)}).catch(Ko)):(bm(r,i.targetId),await Pm(r.localStore,i.targetId,!0))}async function e2(t,e){const n=oe(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iy(n.remoteStore,r.targetId))}async function t2(t,e,n){const r=l2(t);try{const i=await function(o,a){const l=oe(o),c=tt.now(),d=a.reduce((m,v)=>m.add(v.key),de());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=xr(),w=de();return l.ds.getEntries(m,d).next(I=>{v=I,v.forEach((E,_)=>{_.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(I=>{h=I;const E=[];for(const _ of a){const T=gV(_,h.get(_.key).overlayedDocument);T!=null&&E.push(new Vi(_.key,T,yD(T.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,E,a)}).next(I=>{f=I;const E=I.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,I.batchId,E)})}).then(()=>({batchId:f.batchId,changes:PD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Be(he)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Kl(r,i.changes),await gh(r.remoteStore)}catch(i){const s=by(i,"Failed to persist write");n.reject(s)}}async function dI(t,e){const n=oe(t);try{const r=await pL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Ee(o.Ba):i.removedDocuments.size>0&&(Ee(o.Ba),o.Ba=!1))}),await Kl(n,r,e)}catch(r){await Ko(r)}}function Qw(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.ta)f.sa(a)&&(c=!0)}),c&&Ry(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n2(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Be(te.comparator);o=o.insert(s,kt.newNoDocument(s,se.min()));const a=de().add(s),l=new fh(se.min(),new Map,new Be(he),o,a);await dI(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),Ny(r)}else await Pm(r.localStore,e,!1).then(()=>bm(r,e,n)).catch(Ko)}async function r2(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await fL(n.localStore,e);fI(n,r,null),hI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(n,i)}catch(i){await Ko(i)}}async function i2(t,e,n){const r=oe(t);try{const i=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ee(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);fI(r,e,n),hI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kl(r,i)}catch(i){await Ko(i)}}function hI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function fI(t,e,n){const r=oe(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||pI(t,r)})}function pI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Iy(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Ny(t))}function Gw(t,e,n){for(const r of n)r instanceof lI?(t.Ua.addReference(r.key,e),s2(t,r)):r instanceof uI?(q(My,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||pI(t,r.key)):re()}function s2(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(q(My,"New document in limbo: "+n),t.Qa.add(r),Ny(t))}function Ny(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new te(Ae.fromString(e)),r=t.za.next();t.Ka.set(r,new KL(n)),t.$a=t.$a.insert(n,r),ZD(t.remoteStore,new ei(Qn(gy(n.path)),r,"TargetPurposeLimboResolution",oh.ae))}}async function Kl(t,e,n){const r=oe(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=ky.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const d=oe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,f=>U.forEach(f.Hi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>U.forEach(f.Ji,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Qo(h))throw h;q(Dy,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Ts.get(f),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);d.Ts=d.Ts.insert(f,w)}}}(r.localStore,s))}async function o2(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){q(My,"User change. New user:",e.toKey());const r=await QD(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Q(B.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(n,r.Rs)}}function a2(t,e){const n=oe(t),r=n.Ka.get(e);if(r&&r.Ba)return de().add(r.key);{let i=de();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function mI(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n2.bind(null,e),e.La.p_=HL.bind(null,e.eventManager),e.La.Ja=$L.bind(null,e.eventManager),e}function l2(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i2.bind(null,e),e}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return hL(this.persistence,new uL,e.initialUser,this.serializer)}Xa(e){return new KD(Sy.ri,this.serializer)}Za(e){return new _L}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class u2 extends _d{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ee(this.persistence.referenceDelegate instanceof yd);const r=this.persistence.referenceDelegate.garbageCollector;return new KV(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new KD(r=>yd.ri(r,n),this.serializer)}}class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o2.bind(null,this.syncEngine),await jL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zL}()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),r=function(s){return new kL(s)}(e.databaseInfo);return function(s,o,a,l){return new PL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new xL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Qw(this.syncEngine,n,0),function(){return zw.D()?new zw:new wL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new QL(i,s,o,a,l,c);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);q(gs,"RemoteStore shutting down."),s.W_.add(5),await ql(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="FirestoreClient";class c2{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=oD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(Ii,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Ii,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=by(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress(),q(Ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await d2(t);q(Ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$w(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$w(e.remoteStore,i)),t._onlineComponents=e}async function d2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Ii,"Using user provided OfflineComponentProvider");try{await Kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Kf(t,new _d)}}else q(Ii,"Using default OfflineComponentProvider"),await Kf(t,new u2(void 0));return t._offlineComponents}async function yI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Ii,"Using user provided OnlineComponentProvider"),await Xw(t,t._uninitializedComponentsProvider._online)):(q(Ii,"Using default OnlineComponentProvider"),await Xw(t,new Rm))),t._onlineComponents}function h2(t){return yI(t).then(e=>e.syncEngine)}async function vI(t){const e=await yI(t),n=e.eventManager;return n.onListen=GL.bind(null,e.syncEngine),n.onUnlisten=ZL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e2.bind(null,e.syncEngine),n}function f2(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new gI({next:f=>{d.su(),o.enqueueAndForget(()=>oI(s,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new Q(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new Q(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new aI(gy(a.path),d,{includeMetadataChanges:!0,Ta:!0});return sI(s,h)}(await vI(t),t.asyncQueue,e,n,r)),r.promise}function p2(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new gI({next:f=>{d.su(),o.enqueueAndForget(()=>oI(s,h)),f.fromCache&&l.source==="server"?c.reject(new Q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new aI(a,d,{includeMetadataChanges:!0,Ta:!0});return sI(s,h)}(await vI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){if(!n)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m2(t,e,n,r){if(e===!0&&r===!0)throw new Q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zw(t){if(!te.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eE(t){if(te.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(t);throw new Q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firestore.googleapis.com",tE=!0;class nE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EI,this.ssl=tE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YV)throw new Q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kO;switch(r.type){case"firstParty":return new PO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jw.get(n);r&&(q("ComponentProvider","Removing Datastore"),Jw.delete(n),r.terminate())}(this),Promise.resolve()}}function g2(t,e,n,r={}){var i;const s=(t=Mn(t,vh))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==EI&&s.host!==a&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!hs(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Tt.MOCK_USER;else{c=eR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Tt(h)}t._authCredentials=new DO(new sD(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class pi extends Xo{constructor(e,n,r){super(e,n,gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new te(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function ys(t,e,...n){if(t=Lt(t),wI("collection","path",e),t instanceof vh){const r=Ae.fromString(e,...n);return eE(r),new pi(t,null,r)}{if(!(t instanceof Vt||t instanceof pi))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return eE(r),new pi(t.firestore,null,r)}}function Ci(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=oD.newId()),wI("doc","path",e),t instanceof vh){const r=Ae.fromString(e,...n);return Zw(r),new Vt(t,null,new te(r))}{if(!(t instanceof Vt||t instanceof pi))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return Zw(r),new Vt(t.firestore,t instanceof pi?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new XD(this,"async_queue_retry"),this.bu=()=>{const r=qf();r&&q(rE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new pr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Qo(e))throw e;q(rE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=xy.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ds extends vh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function y2(t,e){const n=typeof t=="object"?t:vk(),r=typeof t=="string"?t:e||cd,i=Zg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Jb("firestore");s&&g2(i,...s)}return i}function Oy(t){if(t._terminated)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v2(t),t._firestoreClient}function v2(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new WO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_I(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new c2(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(pt.fromBase64String(e))}catch(n){throw new Q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^__.*__$/;class w2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class TI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Uy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return wd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(SI(this.Lu)&&_2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class E2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ph(e)}ju(e,n,r,i=!1){return new Uy({Lu:e,methodName:n,zu:r,path:ct.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(t){const e=t._freezeSettings(),n=ph(t._databaseId);return new E2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kI(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);By("Data must be an object, but it was:",o,r);const a=DI(r,o);let l,c;if(s.merge)l=new Zt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Mm(e,h,n);if(!o.contains(f))throw new Q(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);CI(d,f)||d.push(f)}l=new Zt(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new w2(new Wt(a),l,c)}class Eh extends Vy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function T2(t,e,n,r){const i=t.ju(1,e,n);By("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();Oi(r,(l,c)=>{const d=jy(e,l,n);c=Lt(c);const h=i.Ku(d);if(c instanceof Eh)s.push(d);else{const f=Ql(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Zt(s);return new TI(o,a,i.fieldTransforms)}function S2(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[Mm(e,r,n)],l=[i];if(s.length%2!=0)throw new Q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Mm(e,s[f])),l.push(s[f+1]);const c=[],d=Wt.empty();for(let f=a.length-1;f>=0;--f)if(!CI(c,a[f])){const m=a[f];let v=l[f];v=Lt(v);const w=o.Ku(m);if(v instanceof Eh)c.push(m);else{const I=Ql(v,w);I!=null&&(c.push(m),d.set(m,I))}}const h=new Zt(c);return new TI(d,h,o.fieldTransforms)}function k2(t,e,n,r=!1){return Ql(n,t.ju(r?4:3,e))}function Ql(t,e){if(II(t=Lt(t)))return By("Unsupported field value:",e,t),DI(t,e);if(t instanceof Vy)return function(r,i){if(!SI(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ql(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=tt.fromDate(r);return{timestampValue:gd(i.serializer,s)}}if(r instanceof tt){const s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gd(i.serializer,s)}}if(r instanceof Ly)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ro)return{bytesValue:BD(i.serializer,r._byteString)};if(r instanceof Vt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ey(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fy)return function(o,a){return{mapValue:{fields:{[pD]:{stringValue:gD},[dd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return yy(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${yh(r)}`)}(t,e)}function DI(t,e){const n={};return lD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(t,(r,i)=>{const s=Ql(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function II(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Ly||t instanceof Ro||t instanceof Vt||t instanceof Vy||t instanceof Fy)}function By(t,e,n){if(!II(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yh(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Mm(t,e,n){if((e=Lt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return jy(t,e);throw wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const D2=new RegExp("[~\\*/\\[\\]]");function jy(t,e,n){if(e.search(D2)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _h(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(B.INVALID_ARGUMENT,a+t+l)}function CI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I2 extends PI{data(){return super.data()}}function Wy(t,e){return typeof e=="string"?jy(t,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class P2 extends zy{}function A2(t,e,...n){let r=[];e instanceof zy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Hy).length,a=s.filter(l=>l instanceof Th).length;if(o>1||o>0&&a>0)throw new Q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Th extends P2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Th(e,n,r)}_apply(e){const n=this._parse(e);return AI(e._query,n),new Xo(e.firestore,e.converter,Tm(e._query,n))}_parse(e){const n=wh(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){oE(h,d);const v=[];for(const w of h)v.push(sE(l,s,w));f={arrayValue:{values:v}}}else f=sE(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||oE(h,d),f=k2(a,o,h,d==="in"||d==="not-in");return Je.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function x2(t,e,n){const r=e,i=Wy("where",t);return Th._create(i,r,n)}class Hy extends zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)AI(o,l),o=Tm(o,l)}(e._query,n),new Xo(e.firestore,e.converter,Tm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sE(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new Q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kD(e)&&n.indexOf("/")!==-1)throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ae.fromString(n));if(!te.isDocumentKey(r))throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ew(t,new te(r))}if(n instanceof Vt)return Ew(t,n._key);throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function oE(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class b2{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[dd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$e(o.doubleValue));return new Fy(s)}convertGeoPoint(e){return new Ly($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=Ti(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);Ee(YD(r));const i=new kl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bI extends PI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sc extends bI{data(e={}){return super.data(e)}}class R2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new Oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:M2(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function M2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){t=Mn(t,Vt);const e=Mn(t.firestore,Ds);return f2(Oy(e),t._key).then(n=>O2(e,t,n))}class RI extends b2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Gl(t){t=Mn(t,Xo);const e=Mn(t.firestore,Ds),n=Oy(e),r=new RI(e);return C2(t._query),p2(n,t._query).then(i=>new R2(e,r,t,i))}function N2(t,e,n){t=Mn(t,Vt);const r=Mn(t.firestore,Ds),i=xI(t.converter,e,n);return Sh(r,[kI(wh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_n.none())])}function MI(t,e,n,...r){t=Mn(t,Vt);const i=Mn(t.firestore,Ds),s=wh(i);let o;return o=typeof(e=Lt(e))=="string"||e instanceof _h?S2(s,"updateDoc",t._key,e,n,r):T2(s,"updateDoc",t._key,e),Sh(i,[o.toMutation(t._key,_n.exists(!0))])}function Yy(t){return Sh(Mn(t.firestore,Ds),[new vy(t._key,_n.none())])}function NI(t,e){const n=Mn(t.firestore,Ds),r=Ci(t),i=xI(t.converter,e);return Sh(n,[kI(wh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function Sh(t,e){return function(r,i){const s=new pr;return r.asyncQueue.enqueueAndForget(async()=>t2(await h2(r),i,s)),s.promise}(Oy(t),e)}function O2(t,e,n){const r=n.docs.get(e._key),i=new RI(t);return new bI(t,i,e._key,r,new Oa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){qo=i})($o),ko(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ds(new IO(r.getProvider("auth-internal")),new AO(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hi(cw,dw,e),hi(cw,dw,"esm2017")})();const V2={apiKey:"AIzaSyBgRjJShNJqWB2nq931kKobLRHUeejW0vo",authDomain:"milan-studio-b8b4b.firebaseapp.com",projectId:"milan-studio-b8b4b",storageBucket:"milan-studio-b8b4b.appspot.com",messagingSenderId:"961084768524",appId:"1:961084768524:web:2cdbc3a67dc018d8058929",measurementId:"G-8XF83E9KQY"},OI=yk(V2);TO(OI);const qt=y2(OI);console.log(" Firebase init DONE");const VI=({classInfo:t,employee:e})=>{const[n,r]=O.useState(""),i=async()=>{if(!e){r("     ");return}try{const s=Ci(qt,"classes",t.id),a=(await $y(s)).data();if(!a||a.spots<=0){r("    ");return}await NI(ys(qt,"bookings"),{userId:e.phone,classId:t.id,name:t.name,instructor:t.instructor,date:t.date,time:t.time,createdAt:new Date}),await MI(s,{spots:a.spots-1}),r("  !")}catch(s){console.error("   :",s),r("  .  ")}};return P.createElement("div",{className:"bg-gray-800 text-white p-4 rounded shadow relative mb-4"},P.createElement("h2",{className:"text-lg font-bold mb-2"},t.name),P.createElement("p",null,": ",t.instructor),P.createElement("p",null,": ",t.date),P.createElement("p",null,": ",t.time),P.createElement("p",null," : ",t.spots),n&&P.createElement("p",{className:"text-green-400 mt-2"},n),P.createElement("button",{onClick:i,disabled:t.spots<=0,className:`mt-3 px-4 py-2 rounded ${t.spots>0?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`},t.spots>0?" ":" "))},LI=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),kh=O.createContext({}),qy=O.createContext(null),Dh=typeof document<"u",L2=Dh?O.useLayoutEffect:O.useEffect,FI=O.createContext({strict:!1}),Ky=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),F2="framerAppearId",UI="data-"+Ky(F2);function U2(t,e,n,r){const{visualElement:i}=O.useContext(kh),s=O.useContext(FI),o=O.useContext(qy),a=O.useContext(LI).reducedMotion,l=O.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;O.useInsertionEffect(()=>{c&&c.update(n,o)});const d=O.useRef(!!(n[UI]&&!window.HandoffComplete));return L2(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),O.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B2(t,e,n){return O.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):eo(n)&&(n.current=r))},[e])}function Pl(t){return typeof t=="string"||Array.isArray(t)}function Ih(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gy=["initial",...Qy];function Ch(t){return Ih(t.animate)||Gy.some(e=>Pl(t[e]))}function BI(t){return!!(Ch(t)||t.variants)}function j2(t,e){if(Ch(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pl(n)?n:void 0,animate:Pl(r)?r:void 0}}return t.inherit!==!1?e:{}}function W2(t){const{initial:e,animate:n}=j2(t,O.useContext(kh));return O.useMemo(()=>({initial:e,animate:n}),[aE(e),aE(n)])}function aE(t){return Array.isArray(t)?t.join(" "):t}const lE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Al={};for(const t in lE)Al[t]={isEnabled:e=>lE[t].some(n=>!!e[n])};function z2(t){for(const e in t)Al[e]={...Al[e],...t[e]}}const jI=O.createContext({}),WI=O.createContext({}),H2=Symbol.for("motionComponentSymbol");function $2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&z2(t);function s(a,l){let c;const d={...O.useContext(LI),...a,layoutId:Y2(a)},{isStatic:h}=d,f=W2(a),m=r(a,h);if(!h&&Dh){f.visualElement=U2(i,m,d,e);const v=O.useContext(WI),w=O.useContext(FI).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,w,t,v))}return O.createElement(kh.Provider,{value:f},c&&f.visualElement?O.createElement(c,{visualElement:f.visualElement,...d}):null,n(i,a,B2(m,f.visualElement,l),m,h,f.visualElement))}const o=O.forwardRef(s);return o[H2]=i,o}function Y2({layoutId:t}){const e=O.useContext(jI).id;return e&&t!==void 0?e+"-"+t:t}function q2(t){function e(r,i={}){return $2(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const K2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xy(t){return typeof t!="string"||t.includes("-")?!1:!!(K2.indexOf(t)>-1||/[A-Z]/.test(t))}const Ed={};function Q2(t){Object.assign(Ed,t)}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Is=new Set(Xl);function zI(t,{layout:e,layoutId:n}){return Is.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ed[t]||t==="opacity")}const Kt=t=>!!(t&&t.getVelocity),G2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X2=Xl.length;function J2(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<X2;o++){const a=Xl[o];if(t[a]!==void 0){const l=G2[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const HI=t=>e=>typeof e=="string"&&e.startsWith(t),$I=HI("--"),Nm=HI("var(--"),Z2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,eF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pi=(t,e,n)=>Math.min(Math.max(n,t),e),Cs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Za={...Cs,transform:t=>Pi(0,1,t)},$u={...Cs,default:1},el=t=>Math.round(t*1e5)/1e5,Ph=/(-)?([\d]*\.?[\d])+/g,YI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jl(t){return typeof t=="string"}const Zl=t=>({test:e=>Jl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wr=Zl("deg"),Xn=Zl("%"),ne=Zl("px"),nF=Zl("vh"),rF=Zl("vw"),uE={...Xn,parse:t=>Xn.parse(t)/100,transform:t=>Xn.transform(t*100)},cE={...Cs,transform:Math.round},qI={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,size:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,rotate:Wr,rotateX:Wr,rotateY:Wr,rotateZ:Wr,scale:$u,scaleX:$u,scaleY:$u,scaleZ:$u,skew:Wr,skewX:Wr,skewY:Wr,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Za,originX:uE,originY:uE,originZ:ne,zIndex:cE,fillOpacity:Za,strokeOpacity:Za,numOctaves:cE};function Jy(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if($I(h)){s[h]=f;continue}const m=qI[h],v=eF(f,m);if(Is.has(h)){if(l=!0,o[h]=v,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=v):i[h]=v}if(e.transform||(l||r?i.transform=J2(t.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const Zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KI(t,e,n){for(const r in e)!Kt(e[r])&&!zI(r,n)&&(t[r]=e[r])}function iF({transformTemplate:t},e,n){return O.useMemo(()=>{const r=Zy();return Jy(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function sF(t,e,n){const r=t.style||{},i={};return KI(i,r,t),Object.assign(i,iF(t,e,n)),t.transformValues?t.transformValues(i):i}function oF(t,e,n){const r={},i=sF(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const aF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aF.has(t)}let QI=t=>!Td(t);function lF(t){t&&(QI=e=>e.startsWith("on")?!Td(e):t(e))}try{lF(require("@emotion/is-prop-valid").default)}catch{}function uF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(QI(i)||n===!0&&Td(i)||!e&&!Td(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function dE(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function cF(t,e,n){const r=dE(e,t.x,t.width),i=dE(n,t.y,t.height);return`${r} ${i}`}const dF={offset:"stroke-dashoffset",array:"stroke-dasharray"},hF={offset:"strokeDashoffset",array:"strokeDasharray"};function fF(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?dF:hF;t[s.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[s.array]=`${o} ${a}`}function ev(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h,f){if(Jy(t,c,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:w}=t;m.transform&&(w&&(v.transform=m.transform),delete m.transform),w&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=cF(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&fF(m,o,a,l,!1)}const GI=()=>({...Zy(),attrs:{}}),tv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pF(t,e,n,r){const i=O.useMemo(()=>{const s=GI();return ev(s,e,{enableHardwareAcceleration:!1},tv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};KI(s,t.style,t),i.style={...s,...i.style}}return i}function mF(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Xy(n)?pF:oF)(r,s,o,n),d={...uF(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=O.useMemo(()=>Kt(h)?h.get():h,[h]);return O.createElement(n,{...d,children:f})}}function XI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const JI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZI(t,e,n,r){XI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(JI.has(i)?i:Ky(i),e.attrs[i])}function nv(t,e){const{style:n}=t,r={};for(const i in n)(Kt(n[i])||e.style&&Kt(e.style[i])||zI(i,t))&&(r[i]=n[i]);return r}function eC(t,e){const n=nv(t,e);for(const r in t)if(Kt(t[r])||Kt(e[r])){const i=Xl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function rv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function gF(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sd=t=>Array.isArray(t),yF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vF=t=>Sd(t)?t[t.length-1]||0:t;function kc(t){const e=Kt(t)?t.get():t;return yF(e)?e.toValue():e}function _F({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:wF(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const tC=t=>(e,n)=>{const r=O.useContext(kh),i=O.useContext(qy),s=()=>_F(t,e,r,i);return n?s():gF(s)};function wF(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=kc(s[f]);let{initial:o,animate:a}=t;const l=Ch(t),c=BI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Ih(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=rv(t,m);if(!v)return;const{transitionEnd:w,transition:I,...E}=v;for(const _ in E){let T=E[_];if(Array.isArray(T)){const x=d?T.length-1:0;T=T[x]}T!==null&&(i[_]=T)}for(const _ in w)i[_]=w[_]}),i}const ze=t=>t;class hE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function EF(t){let e=new hE,n=new hE,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&i,f=h?e:n;return c&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Yu=["prepare","read","update","preRender","render","postRender"],TF=40;function SF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Yu.reduce((h,f)=>(h[f]=EF(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,TF),1),i.timestamp=h,i.isProcessing=!0,Yu.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Yu.reduce((h,f)=>{const m=s[f];return h[f]=(v,w=!1,I=!1)=>(n||l(),m.schedule(v,w,I)),h},{}),cancel:h=>Yu.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:be,cancel:br,state:Et,steps:Qf}=SF(typeof requestAnimationFrame<"u"?requestAnimationFrame:ze,!0),kF={useVisualState:tC({scrapeMotionValuesFromProps:eC,createRenderState:GI,onMount:(t,e,{renderState:n,latestValues:r})=>{be.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{ev(n,r,{enableHardwareAcceleration:!1},tv(e.tagName),t.transformTemplate),ZI(e,n)})}})},DF={useVisualState:tC({scrapeMotionValuesFromProps:nv,createRenderState:Zy})};function IF(t,{forwardMotionProps:e=!1},n,r){return{...Xy(t)?kF:DF,preloadedFeatures:n,useRender:mF(e),createVisualElement:r,Component:t}}function hr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const nC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ah(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const CF=t=>e=>nC(e)&&t(e,Ah(e));function mr(t,e,n,r){return hr(t,e,CF(n),r)}const PF=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(PF);function rC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const fE=rC("dragHorizontal"),pE=rC("dragVertical");function iC(t){let e=!1;if(t==="y")e=pE();else if(t==="x")e=fE();else{const n=fE(),r=pE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function sC(){const t=iC(!0);return t?(t(),!1):!0}class Li{constructor(e){this.isMounted=!1,this.node=e}update(){}}function mE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||sC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&be.update(()=>a[r](s,o))};return mr(t.current,n,i,{passive:!t.getProps()[r]})}class AF extends Li{mount(){this.unmount=mi(mE(this.node,!0),mE(this.node,!1))}unmount(){}}class xF extends Li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(hr(this.node.current,"focus",()=>this.onFocus()),hr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const oC=(t,e)=>e?t===e?!0:oC(t,e.parentElement):!1;function Gf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ah(n))}class bF extends Li{constructor(){super(...arguments),this.removeStartListeners=ze,this.removeEndListeners=ze,this.removeAccessibleListeners=ze,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=mr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();be.update(()=>{!h&&!oC(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=mr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Gf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&be.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=hr(this.node.current,"keyup",o),Gf("down",(a,l)=>{this.startPress(a,l)})},n=hr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Gf("cancel",(s,o)=>this.cancelPress(s,o))},i=hr(this.node.current,"blur",r);this.removeAccessibleListeners=mi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&be.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!sC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&be.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=mr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=hr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Om=new WeakMap,Xf=new WeakMap,RF=t=>{const e=Om.get(t.target);e&&e(t)},MF=t=>{t.forEach(RF)};function NF({root:t,...e}){const n=t||document;Xf.has(n)||Xf.set(n,{});const r=Xf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(MF,{root:t,...e})),r[i]}function OF(t,e,n){const r=NF(e);return Om.set(t,n),r.observe(t),()=>{Om.delete(t),r.unobserve(t)}}const VF={some:0,all:1};class LF extends Li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:VF[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return OF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FF(e,n))&&this.startObserver()}unmount(){}}function FF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UF={inView:{Feature:LF},tap:{Feature:bF},focus:{Feature:xF},hover:{Feature:AF}};function aC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function BF(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function jF(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function xh(t,e,n){const r=t.getProps();return rv(r,e,n!==void 0?n:r.custom,BF(t),jF(t))}let WF=ze,iv=ze;const gi=t=>t*1e3,gr=t=>t/1e3,zF={current:!1},lC=t=>Array.isArray(t)&&typeof t[0]=="number";function uC(t){return!!(!t||typeof t=="string"&&cC[t]||lC(t)||Array.isArray(t)&&t.every(uC))}const Va=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Va([0,.65,.55,1]),circOut:Va([.55,0,1,.45]),backIn:Va([.31,.01,.66,-.59]),backOut:Va([.33,1.53,.69,.99])};function dC(t){if(t)return lC(t)?Va(t):Array.isArray(t)?t.map(dC):cC[t]}function HF(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=dC(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function $F(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const hC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,YF=1e-7,qF=12;function KF(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=hC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>YF&&++a<qF);return o}function eu(t,e,n,r){if(t===e&&n===r)return ze;const i=s=>KF(s,0,1,t,n);return s=>s===0||s===1?s:hC(i(s),e,r)}const QF=eu(.42,0,1,1),GF=eu(0,0,.58,1),fC=eu(.42,0,.58,1),XF=t=>Array.isArray(t)&&typeof t[0]!="number",pC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mC=t=>e=>1-t(1-e),sv=t=>1-Math.sin(Math.acos(t)),gC=mC(sv),JF=pC(sv),yC=eu(.33,1.53,.69,.99),ov=mC(yC),ZF=pC(ov),e4=t=>(t*=2)<1?.5*ov(t):.5*(2-Math.pow(2,-10*(t-1))),t4={linear:ze,easeIn:QF,easeInOut:fC,easeOut:GF,circIn:sv,circInOut:JF,circOut:gC,backIn:ov,backInOut:ZF,backOut:yC,anticipate:e4},gE=t=>{if(Array.isArray(t)){iv(t.length===4);const[e,n,r,i]=t;return eu(e,n,r,i)}else if(typeof t=="string")return t4[t];return t},av=(t,e)=>n=>!!(Jl(n)&&tF.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),vC=(t,e,n)=>r=>{if(!Jl(r))return r;const[i,s,o,a]=r.match(Ph);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},n4=t=>Pi(0,255,t),Jf={...Cs,transform:t=>Math.round(n4(t))},Zi={test:av("rgb","red"),parse:vC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jf.transform(t)+", "+Jf.transform(e)+", "+Jf.transform(n)+", "+el(Za.transform(r))+")"};function r4(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vm={test:av("#"),parse:r4,transform:Zi.transform},to={test:av("hsl","hue"),parse:vC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xn.transform(el(e))+", "+Xn.transform(el(n))+", "+el(Za.transform(r))+")"},xt={test:t=>Zi.test(t)||Vm.test(t)||to.test(t),parse:t=>Zi.test(t)?Zi.parse(t):to.test(t)?to.parse(t):Vm.parse(t),transform:t=>Jl(t)?t:t.hasOwnProperty("red")?Zi.transform(t):to.transform(t)},Ve=(t,e,n)=>-n*t+n*e+t;function Zf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function i4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Zf(l,a,t+1/3),s=Zf(l,a,t),o=Zf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const ep=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},s4=[Vm,Zi,to],o4=t=>s4.find(e=>e.test(t));function yE(t){const e=o4(t);let n=e.parse(t);return e===to&&(n=i4(n)),n}const _C=(t,e)=>{const n=yE(t),r=yE(e),i={...n};return s=>(i.red=ep(n.red,r.red,s),i.green=ep(n.green,r.green,s),i.blue=ep(n.blue,r.blue,s),i.alpha=Ve(n.alpha,r.alpha,s),Zi.transform(i))};function a4(t){var e,n;return isNaN(t)&&Jl(t)&&(((e=t.match(Ph))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(YI))===null||n===void 0?void 0:n.length)||0)>0}const wC={regex:Z2,countKey:"Vars",token:"${v}",parse:ze},EC={regex:YI,countKey:"Colors",token:"${c}",parse:xt.parse},TC={regex:Ph,countKey:"Numbers",token:"${n}",parse:Cs.parse};function tp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function kd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tp(n,wC),tp(n,EC),tp(n,TC),n}function SC(t){return kd(t).values}function kC(t){const{values:e,numColors:n,numVars:r,tokenised:i}=kd(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(wC.token,o[l]):l<r+n?a=a.replace(EC.token,xt.transform(o[l])):a=a.replace(TC.token,el(o[l]));return a}}const l4=t=>typeof t=="number"?0:t;function u4(t){const e=SC(t);return kC(t)(e.map(l4))}const Ai={test:a4,parse:SC,createTransformer:kC,getAnimatableNone:u4},DC=(t,e)=>n=>`${n>0?e:t}`;function IC(t,e){return typeof t=="number"?n=>Ve(t,e,n):xt.test(t)?_C(t,e):t.startsWith("var(")?DC(t,e):PC(t,e)}const CC=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>IC(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},c4=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=IC(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},PC=(t,e)=>{const n=Ai.createTransformer(e),r=kd(t),i=kd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mi(CC(r.values,i.values),n):DC(t,e)},xl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},vE=(t,e)=>n=>Ve(t,e,n);function d4(t){return typeof t=="number"?vE:typeof t=="string"?xt.test(t)?_C:PC:Array.isArray(t)?CC:typeof t=="object"?c4:vE}function h4(t,e,n){const r=[],i=n||d4(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ze:e;a=mi(l,a)}r.push(a)}return r}function AC(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(iv(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=h4(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=xl(t[d],t[d+1],c);return o[d](h)};return n?c=>l(Pi(t[0],t[s-1],c)):l}function f4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=xl(0,e,r);t.push(Ve(n,1,i))}}function p4(t){const e=[0];return f4(e,t.length-1),e}function m4(t,e){return t.map(n=>n*e)}function g4(t,e){return t.map(()=>e||fC).splice(0,t.length-1)}function Dd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=XF(r)?r.map(gE):gE(r),s={done:!1,value:e[0]},o=m4(n&&n.length===e.length?n:p4(e),t),a=AC(o,e,{ease:Array.isArray(i)?i:g4(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function xC(t,e){return e?t*(1e3/e):0}const y4=5;function bC(t,e,n){const r=Math.max(e-y4,0);return xC(n-t(r),e-r)}const np=.001,v4=.01,_E=10,_4=.05,w4=1;function E4({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;WF(t<=gi(_E));let o=1-e;o=Pi(_4,w4,o),t=Pi(v4,_E,gr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,m=Lm(c,o),v=Math.exp(-h);return np-f/m*v},s=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),w=Lm(Math.pow(c,2),o);return(-i(c)+np>0?-1:1)*((f-m)*v)/w}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-np+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=S4(i,s,a);if(t=gi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const T4=12;function S4(t,e,n){let r=n;for(let i=1;i<T4;i++)r=r-t(r)/e(r);return r}function Lm(t,e){return t*Math.sqrt(1-e*e)}const k4=["duration","bounce"],D4=["stiffness","damping","mass"];function wE(t,e){return e.some(n=>t[n]!==void 0)}function I4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!wE(t,D4)&&wE(t,k4)){const n=E4(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function RC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=I4({...r,velocity:-gr(r.velocity||0)}),m=h||0,v=l/(2*Math.sqrt(a*c)),w=s-i,I=gr(Math.sqrt(a/c)),E=Math.abs(w)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let _;if(v<1){const T=Lm(I,v);_=x=>{const N=Math.exp(-v*I*x);return s-N*((m+v*I*w)/T*Math.sin(T*x)+w*Math.cos(T*x))}}else if(v===1)_=T=>s-Math.exp(-I*T)*(w+(m+I*w)*T);else{const T=I*Math.sqrt(v*v-1);_=x=>{const N=Math.exp(-v*I*x),V=Math.min(T*x,300);return s-N*((m+v*I*w)*Math.sinh(V)+T*w*Math.cosh(V))/T}}return{calculatedDuration:f&&d||null,next:T=>{const x=_(T);if(f)o.done=T>=d;else{let N=m;T!==0&&(v<1?N=bC(_,T,x):N=0);const V=Math.abs(N)<=n,D=Math.abs(s-x)<=e;o.done=V&&D}return o.value=o.done?s:x,o}}}function EE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=y=>a!==void 0&&y<a||l!==void 0&&y>l,v=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let w=n*e;const I=h+w,E=o===void 0?I:o(I);E!==I&&(w=E-h);const _=y=>-w*Math.exp(-y/r),T=y=>E+_(y),x=y=>{const k=_(y),C=T(y);f.done=Math.abs(k)<=c,f.value=f.done?E:C};let N,V;const D=y=>{m(f.value)&&(N=y,V=RC({keyframes:[f.value,v(f.value)],velocity:bC(T,y,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return D(0),{calculatedDuration:null,next:y=>{let k=!1;return!V&&N===void 0&&(k=!0,x(y),D(y)),N!==void 0&&y>N?V.next(y-N):(!k&&x(y),f)}}}const C4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>be.update(e,!0),stop:()=>br(e),now:()=>Et.isProcessing?Et.timestamp:performance.now()}},TE=2e4;function SE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<TE;)e+=n,r=t.next(e);return e>=TE?1/0:e}const P4={decay:EE,inertia:EE,tween:Dd,keyframes:Dd,spring:RC};function Id({autoplay:t=!0,delay:e=0,driver:n=C4,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...f}){let m=1,v=!1,w,I;const E=()=>{I=new Promise(J=>{w=J})};E();let _;const T=P4[i]||Dd;let x;T!==Dd&&typeof r[0]!="number"&&(x=AC([0,100],r,{clamp:!1}),r=[0,100]);const N=T({...f,keyframes:r});let V;a==="mirror"&&(V=T({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let D="idle",y=null,k=null,C=null;N.calculatedDuration===null&&s&&(N.calculatedDuration=SE(N));const{calculatedDuration:b}=N;let R=1/0,A=1/0;b!==null&&(R=b+o,A=R*(s+1)-o);let X=0;const ae=J=>{if(k===null)return;m>0&&(k=Math.min(k,J)),m<0&&(k=Math.min(J-A/m,k)),y!==null?X=y:X=Math.round(J-k)*m;const pe=X-e*(m>=0?1:-1),Re=m>=0?pe<0:pe>A;X=Math.max(pe,0),D==="finished"&&y===null&&(X=A);let an=X,ln=N;if(s){const Zo=Math.min(X,A)/R;let nr=Math.floor(Zo),un=Zo%1;!un&&Zo>=1&&(un=1),un===1&&nr--,nr=Math.min(nr,s+1),!!(nr%2)&&(a==="reverse"?(un=1-un,o&&(un-=o/R)):a==="mirror"&&(ln=V)),an=Pi(0,1,un)*R}const Ct=Re?{done:!1,value:r[0]}:ln.next(an);x&&(Ct.value=x(Ct.value));let{done:Qt}=Ct;!Re&&b!==null&&(Qt=m>=0?X>=A:X<=0);const jh=y===null&&(D==="finished"||D==="running"&&Qt);return h&&h(Ct.value),jh&&F(),Ct},$=()=>{_&&_.stop(),_=void 0},Z=()=>{D="idle",$(),w(),E(),k=C=null},F=()=>{D="finished",d&&d(),$(),w()},H=()=>{if(v)return;_||(_=n(ae));const J=_.now();l&&l(),y!==null?k=J-y:(!k||D==="finished")&&(k=J),D==="finished"&&E(),C=k,y=null,D="running",_.start()};t&&H();const ee={then(J,pe){return I.then(J,pe)},get time(){return gr(X)},set time(J){J=gi(J),X=J,y!==null||!_||m===0?y=J:k=_.now()-J/m},get duration(){const J=N.calculatedDuration===null?SE(N):N.calculatedDuration;return gr(J)},get speed(){return m},set speed(J){J===m||!_||(m=J,ee.time=gr(X))},get state(){return D},play:H,pause:()=>{D="paused",y=X},stop:()=>{v=!0,D!=="idle"&&(D="idle",c&&c(),Z())},cancel:()=>{C!==null&&ae(C),Z()},complete:()=>{D="finished"},sample:J=>(k=0,ae(J))};return ee}function A4(t){let e;return()=>(e===void 0&&(e=t()),e)}const x4=A4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),b4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),qu=10,R4=2e4,M4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!uC(e.ease);function N4(t,e,{onUpdate:n,onComplete:r,...i}){if(!(x4()&&b4.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(T=>{a=T})};d();let{keyframes:h,duration:f=300,ease:m,times:v}=i;if(M4(e,i)){const T=Id({...i,repeat:0,delay:0});let x={done:!1,value:h[0]};const N=[];let V=0;for(;!x.done&&V<R4;)x=T.sample(V),N.push(x.value),V+=qu;v=void 0,h=N,f=V-qu,m="linear"}const w=HF(t.owner.current,e,h,{...i,duration:f,ease:m,times:v}),I=()=>{c=!1,w.cancel()},E=()=>{c=!0,be.update(I),a(),d()};return w.onfinish=()=>{c||(t.set($F(h,i)),r&&r(),E())},{then(T,x){return l.then(T,x)},attachTimeline(T){return w.timeline=T,w.onfinish=null,ze},get time(){return gr(w.currentTime||0)},set time(T){w.currentTime=gi(T)},get speed(){return w.playbackRate},set speed(T){w.playbackRate=T},get duration(){return gr(f)},play:()=>{o||(w.play(),br(I))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:T}=w;if(T){const x=Id({...i,autoplay:!1});t.setWithVelocity(x.sample(T-qu).value,x.sample(T).value,qu)}E()},complete:()=>{c||w.finish()},cancel:E}}function O4({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ze,pause:ze,stop:ze,then:s=>(s(),Promise.resolve()),cancel:ze,complete:ze});return e?Id({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const V4={type:"spring",stiffness:500,damping:25,restSpeed:10},L4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),F4={type:"keyframes",duration:.8},U4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B4=(t,{keyframes:e})=>e.length>2?F4:Is.has(t)?t.startsWith("scale")?L4(e[1]):V4:U4,Fm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ai.test(e)||e==="0")&&!e.startsWith("url(")),j4=new Set(["brightness","contrast","saturate","opacity"]);function W4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ph)||[];if(!r)return t;const i=n.replace(r,"");let s=j4.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const z4=/([a-z-]*)\(.*?\)/g,Um={...Ai,getAnimatableNone:t=>{const e=t.match(z4);return e?e.map(W4).join(" "):t}},H4={...qI,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:Um,WebkitFilter:Um},lv=t=>H4[t];function MC(t,e){let n=lv(t);return n!==Um&&(n=Ai),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const NC=t=>/^0[^.\s]+$/.test(t);function $4(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||NC(t)}function Y4(t,e,n,r){const i=Fm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),$4(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=MC(e,a)}return s}function q4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function uv(t,e){return t[e]||t.default||t}const K4={skipAnimations:!1},cv=(t,e,n,r={})=>i=>{const s=uv(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-gi(o);const l=Y4(e,t,n,s),c=l[0],d=l[l.length-1],h=Fm(t,c),f=Fm(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(q4(s)||(m={...m,...B4(t,m)}),m.duration&&(m.duration=gi(m.duration)),m.repeatDelay&&(m.repeatDelay=gi(m.repeatDelay)),!h||!f||zF.current||s.type===!1||K4.skipAnimations)return O4(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=N4(e,t,m);if(v)return v}return Id(m)};function Cd(t){return!!(Kt(t)&&t.add)}const OC=t=>/^\-?\d*\.?\d+$/.test(t);function dv(t,e){t.indexOf(e)===-1&&t.push(e)}function hv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fv{constructor(){this.subscriptions=[]}add(e){return dv(this.subscriptions,e),()=>hv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Q4=t=>!isNaN(parseFloat(t));class G4{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Et;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Q4(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fv);const r=this.events[e].add(n);return e==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mo(t,e){return new G4(t,e)}const VC=t=>e=>e.test(t),X4={test:t=>t==="auto",parse:t=>t},LC=[Cs,ne,Xn,Wr,rF,nF,X4],Ea=t=>LC.find(VC(t)),J4=[...LC,xt,Ai],Z4=t=>J4.find(VC(t));function eU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mo(n))}function tU(t,e){const n=xh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=vF(s[o]);eU(t,o,a)}}function nU(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(OC(d)||NC(d))?d=parseFloat(d):!Z4(d)&&Ai.test(c)&&(d=MC(l,c)),t.addValue(l,Mo(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function rU(t,e){return e?(e[t]||e.default||e).from:void 0}function iU(t,e,n){const r={};for(const i in t){const s=rU(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function sU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oU(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function FC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||d&&sU(d,h))continue;const v={delay:n,elapsed:0,...uv(s||{},h)};if(window.HandoffAppearAnimations){const E=t.getProps()[UI];if(E){const _=window.HandoffAppearAnimations(E,h,f,be);_!==null&&(v.elapsed=_,v.isHandoff=!0)}}let w=!v.isHandoff&&!oU(f,m);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(w=!1),f.animation&&(w=!1),w)continue;f.start(cv(h,f,m,t.shouldReduceMotion&&Is.has(h)?{type:!1}:v));const I=f.animation;Cd(l)&&(l.add(h),I.then(()=>l.remove(h))),c.push(I)}return o&&Promise.all(c).then(()=>{o&&tU(t,o)}),c}function Bm(t,e,n={}){const r=xh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(FC(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return aU(t,e,c+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function aU(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(lU).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Bm(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function lU(t,e){return t.sortNodePosition(e)}function uU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Bm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Bm(t,e,n);else{const i=typeof e=="function"?xh(t,e,n.custom):e;r=Promise.all(FC(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const cU=[...Qy].reverse(),dU=Qy.length;function hU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>uU(t,n,r)))}function fU(t){let e=hU(t);const n=mU();let r=!0;const i=(l,c)=>{const d=xh(t,c);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,c){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let v={},w=1/0;for(let E=0;E<dU;E++){const _=cU[E],T=n[_],x=d[_]!==void 0?d[_]:h[_],N=Pl(x),V=_===c?T.isActive:null;V===!1&&(w=E);let D=x===h[_]&&x!==d[_]&&N;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),T.protectedKeys={...v},!T.isActive&&V===null||!x&&!T.prevProp||Ih(x)||typeof x=="boolean")continue;let k=pU(T.prevProp,x)||_===c&&T.isActive&&!D&&N||E>w&&N,C=!1;const b=Array.isArray(x)?x:[x];let R=b.reduce(i,{});V===!1&&(R={});const{prevResolvedValues:A={}}=T,X={...A,...R},ae=$=>{k=!0,m.has($)&&(C=!0,m.delete($)),T.needsAnimating[$]=!0};for(const $ in X){const Z=R[$],F=A[$];if(v.hasOwnProperty($))continue;let H=!1;Sd(Z)&&Sd(F)?H=!aC(Z,F):H=Z!==F,H?Z!==void 0?ae($):m.add($):Z!==void 0&&m.has($)?ae($):T.protectedKeys[$]=!0}T.prevProp=x,T.prevResolvedValues=R,T.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(k=!1),k&&(!D||C)&&f.push(...b.map($=>({animation:$,options:{type:_,...l}})))}if(m.size){const E={};m.forEach(_=>{const T=t.getBaseTarget(_);T!==void 0&&(E[_]=T)}),f.push({animation:E})}let I=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(f):Promise.resolve()}function a(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const f=o(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function pU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aC(e,t):!1}function Wi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mU(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class gU extends Li{constructor(e){super(e),e.animationState||(e.animationState=fU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ih(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yU=0;class vU extends Li{constructor(){super(...arguments),this.id=yU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _U={animation:{Feature:gU},exit:{Feature:vU}},kE=(t,e)=>Math.abs(t-e);function wU(t,e){const n=kE(t.x,e.x),r=kE(t.y,e.y);return Math.sqrt(n**2+r**2)}class UC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ip(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=wU(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:w}=Et;this.history.push({...v,timestamp:w});const{onStart:I,onMove:E}=this.handlers;f||(I&&I(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=rp(f,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=ip(h.type==="pointercancel"?this.lastMoveEventInfo:rp(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,I),v&&v(h,I)},!nC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ah(e),a=rp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Et;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,ip(a,this.history)),this.removeListeners=mi(mr(this.contextWindow,"pointermove",this.handlePointerMove),mr(this.contextWindow,"pointerup",this.handlePointerUp),mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function rp(t,e){return e?{point:e(t.point)}:t}function DE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ip({point:t},e){return{point:t,delta:DE(t,BC(e)),offset:DE(t,EU(e)),velocity:TU(e,.1)}}function EU(t){return t[0]}function BC(t){return t[t.length-1]}function TU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=BC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const s=gr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rn(t){return t.max-t.min}function jm(t,e=0,n=.01){return Math.abs(t-e)<=n}function IE(t,e,n,r=.5){t.origin=r,t.originPoint=Ve(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),(jm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ve(n.min,n.max,t.origin)-t.originPoint,(jm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tl(t,e,n,r){IE(t.x,e.x,n.x,r?r.originX:void 0),IE(t.y,e.y,n.y,r?r.originY:void 0)}function CE(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function SU(t,e,n){CE(t.x,e.x,n.x),CE(t.y,e.y,n.y)}function PE(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function nl(t,e,n){PE(t.x,e.x,n.x),PE(t.y,e.y,n.y)}function kU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ve(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ve(n,t,r.max):Math.min(t,n)),t}function AE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DU(t,{top:e,left:n,bottom:r,right:i}){return{x:AE(t.x,n,i),y:AE(t.y,e,r)}}function xE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function IU(t,e){return{x:xE(t.x,e.x),y:xE(t.y,e.y)}}function CU(t,e){let n=.5;const r=rn(t),i=rn(e);return i>r?n=xl(e.min,e.max-r,t.min):r>i&&(n=xl(t.min,t.max-i,e.min)),Pi(0,1,n)}function PU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wm=.35;function AU(t=Wm){return t===!1?t=0:t===!0&&(t=Wm),{x:bE(t,"left","right"),y:bE(t,"top","bottom")}}function bE(t,e,n){return{min:RE(t,e),max:RE(t,n)}}function RE(t,e){return typeof t=="number"?t:t[e]||0}const ME=()=>({translate:0,scale:1,origin:0,originPoint:0}),no=()=>({x:ME(),y:ME()}),NE=()=>({min:0,max:0}),Ge=()=>({x:NE(),y:NE()});function dn(t){return[t("x"),t("y")]}function jC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sp(t){return t===void 0||t===1}function zm({scale:t,scaleX:e,scaleY:n}){return!sp(t)||!sp(e)||!sp(n)}function Yi(t){return zm(t)||WC(t)||t.z||t.rotate||t.rotateX||t.rotateY}function WC(t){return OE(t.x)||OE(t.y)}function OE(t){return t&&t!=="0%"}function Pd(t,e,n){const r=t-n,i=e*r;return n+i}function VE(t,e,n,r,i){return i!==void 0&&(t=Pd(t,i,r)),Pd(t,n,r)+e}function Hm(t,e=0,n=1,r,i){t.min=VE(t.min,e,n,r,i),t.max=VE(t.max,e,n,r,i)}function zC(t,{x:e,y:n}){Hm(t.x,e.translate,e.scale,e.originPoint),Hm(t.y,n.translate,n.scale,n.originPoint)}function RU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ro(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,zC(t,o)),r&&Yi(s.latestValues)&&ro(t,s.latestValues))}e.x=LE(e.x),e.y=LE(e.y)}function LE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function $r(t,e){t.min=t.min+e,t.max=t.max+e}function FE(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ve(t.min,t.max,s);Hm(t,e[n],e[r],o,e.scale)}const MU=["x","scaleX","originX"],NU=["y","scaleY","originY"];function ro(t,e){FE(t.x,e,MU),FE(t.y,e,NU)}function HC(t,e){return jC(bU(t.getBoundingClientRect(),e))}function OU(t,e,n){const r=HC(t,n),{scroll:i}=e;return i&&($r(r.x,i.offset.x),$r(r.y,i.offset.y)),r}const $C=({current:t})=>t?t.ownerDocument.defaultView:null,VU=new WeakMap;class LU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ah(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iC(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(I=>{let E=this.getAxisMotionValue(I).get()||0;if(Xn.test(E)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[I];T&&(E=rn(T)*(parseFloat(E)/100))}}this.originPoint[I]=E}),v&&be.update(()=>v(d,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:I}=h;if(m&&this.currentDirection===null){this.currentDirection=FU(I),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,I),this.updateAxis("y",h.point,I),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>dn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new UC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:$C(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&be.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ku(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=kU(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&eo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=DU(i.layoutBox,n):this.constraints=!1,this.elastic=AU(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&dn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=PU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=OU(r,i.root,this.visualElement.getTransformPagePoint());let o=IU(i.layout.layoutBox,s);if(n){const a=n(xU(o));this.hasMutatedConstraints=!!a,a&&(o=jC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=dn(d=>{if(!Ku(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(cv(e,r,0,n))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:r}=this.getProps();if(!Ku(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ve(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!eo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=CU({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dn(o=>{if(!Ku(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ve(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;VU.set(this.visualElement,this);const e=this.visualElement.current,n=mr(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();eo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=hr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(dn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Wm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ku(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UU extends Li{constructor(e){super(e),this.removeGroupControls=ze,this.removeListeners=ze,this.controls=new LU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const UE=t=>(e,n)=>{t&&be.update(()=>t(e,n))};class BU extends Li{constructor(){super(...arguments),this.removePointerDownListener=ze}onPointerDown(e){this.session=new UC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$C(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:UE(e),onStart:UE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&be.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=mr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function jU(){const t=O.useContext(qy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=O.useId();return O.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ta={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=BE(t,e.target.x),r=BE(t,e.target.y);return`${n}% ${r}%`}},WU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ai.parse(t);if(i.length>5)return r;const s=Ai.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ve(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class zU extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Q2(HU),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YC(t){const[e,n]=jU(),r=O.useContext(jI);return P.createElement(zU,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(WI),isPresent:e,safeToRemove:n})}const HU={borderRadius:{...Ta,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ta,borderTopRightRadius:Ta,borderBottomLeftRadius:Ta,borderBottomRightRadius:Ta,boxShadow:WU},qC=["TopLeft","TopRight","BottomLeft","BottomRight"],$U=qC.length,jE=t=>typeof t=="string"?parseFloat(t):t,WE=t=>typeof t=="number"||ne.test(t);function YU(t,e,n,r,i,s){i?(t.opacity=Ve(0,n.opacity!==void 0?n.opacity:1,qU(r)),t.opacityExit=Ve(e.opacity!==void 0?e.opacity:1,0,KU(r))):s&&(t.opacity=Ve(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$U;o++){const a=`border${qC[o]}Radius`;let l=zE(e,a),c=zE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||WE(l)===WE(c)?(t[a]=Math.max(Ve(jE(l),jE(c),r),0),(Xn.test(c)||Xn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ve(e.rotate||0,n.rotate||0,r))}function zE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qU=KC(0,.5,gC),KU=KC(.5,.95,ze);function KC(t,e,n){return r=>r<t?0:r>e?1:n(xl(t,e,r))}function HE(t,e){t.min=e.min,t.max=e.max}function cn(t,e){HE(t.x,e.x),HE(t.y,e.y)}function $E(t,e,n,r,i){return t-=e,t=Pd(t,1/n,r),i!==void 0&&(t=Pd(t,1/i,r)),t}function QU(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xn.test(e)&&(e=parseFloat(e),e=Ve(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ve(s.min,s.max,r);t===s&&(a-=e),t.min=$E(t.min,e,n,a,i),t.max=$E(t.max,e,n,a,i)}function YE(t,e,[n,r,i],s,o){QU(t,e[n],e[r],e[i],e.scale,s,o)}const GU=["x","scaleX","originX"],XU=["y","scaleY","originY"];function qE(t,e,n,r){YE(t.x,e,GU,n?n.x:void 0,r?r.x:void 0),YE(t.y,e,XU,n?n.y:void 0,r?r.y:void 0)}function KE(t){return t.translate===0&&t.scale===1}function QC(t){return KE(t.x)&&KE(t.y)}function JU(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function GC(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function QE(t){return rn(t.x)/rn(t.y)}class ZU{constructor(){this.members=[]}add(e){dv(this.members,e),e.scheduleRender()}remove(e){if(hv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GE(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const e3=(t,e)=>t.depth-e.depth;class t3{constructor(){this.children=[],this.isDirty=!1}add(e){dv(this.children,e),this.isDirty=!0}remove(e){hv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(e3),this.isDirty=!1,this.children.forEach(e)}}function n3(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(br(r),t(s-e))};return be.read(r,!0),()=>br(r)}function r3(t){window.MotionDebug&&window.MotionDebug.record(t)}function i3(t){return t instanceof SVGElement&&t.tagName!=="svg"}function s3(t,e,n){const r=Kt(t)?t:Mo(t);return r.start(cv("",r,e,n)),r.animation}const XE=["","X","Y","Z"],o3={visibility:"hidden"},JE=1e3;let a3=0;const qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function XC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=a3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qi.totalNodes=qi.resolvedTargetDeltas=qi.recalculatedProjection=0,this.nodes.forEach(c3),this.nodes.forEach(m3),this.nodes.forEach(g3),this.nodes.forEach(d3),r3(qi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new t3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i3(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=n3(f,250),Dc.hasAnimatedSinceResize&&(Dc.hasAnimatedSinceResize=!1,this.nodes.forEach(eT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||E3,{onLayoutAnimationStart:I,onLayoutAnimationComplete:E}=d.getProps(),_=!this.targetLayout||!GC(this.targetLayout,v)||m,T=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const x={...uv(w,"layout"),onPlay:I,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||eT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZE);return}this.isUpdating||this.nodes.forEach(f3),this.isUpdating=!1,this.nodes.forEach(p3),this.nodes.forEach(l3),this.nodes.forEach(u3),this.clearAllSnapshots();const a=performance.now();Et.delta=Pi(0,1e3/60,a-Et.timestamp),Et.timestamp=a,Et.isProcessing=!0,Qf.update.process(Et),Qf.preRender.process(Et),Qf.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(h3),this.sharedNodes.forEach(v3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!QC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Yi(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),T3(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ge();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&($r(a.x,l.offset.x),$r(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ge();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){cn(a,o);const{scroll:f}=this.root;f&&($r(a.x,-f.offset.x),$r(a.y,-f.offset.y))}$r(a.x,d.offset.x),$r(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Ge();cn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ro(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Yi(d.latestValues)&&ro(l,d.latestValues)}return Yi(this.latestValues)&&ro(l,this.latestValues),l}removeTransform(o){const a=Ge();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Yi(c.latestValues))continue;zm(c.latestValues)&&c.updateSnapshot();const d=Ge(),h=c.measurePageBox();cn(d,h),qE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Yi(this.latestValues)&&qE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),nl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),zC(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),nl(this.relativeTargetOrigin,this.target,m.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zm(this.parent.latestValues)||WC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;cn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;RU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=no(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=no(),this.projectionDeltaWithTransform=no());const w=this.projectionTransform;tl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=GE(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),qi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=no();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ge(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,I=this.getStack(),E=!I||I.members.length<=1,_=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(w3));this.animationProgress=0;let T;this.mixTargetDelta=x=>{const N=x/1e3;tT(h.x,o.x,N),tT(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_3(this.relativeTarget,this.relativeTargetOrigin,f,N),T&&JU(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ge()),cn(T,this.relativeTarget)),w&&(this.animationValues=d,YU(d,c,this.latestValues,N,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{Dc.hasAnimatedSinceResize=!0,this.currentAnimation=s3(0,JE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&JC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ge();const h=rn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=rn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}cn(a,l),ro(a,d),tl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZU),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<XE.length;d++){const h="rotate"+XE[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return o3;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=kc(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=kc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=GE(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Ed){if(f[w]===void 0)continue;const{correct:I,applyTo:E}=Ed[w],_=c.transform==="none"?f[w]:I(f[w],h);if(E){const T=E.length;for(let x=0;x<T;x++)c[E[x]]=_}else c[w]=_}return this.options.layoutId&&(c.pointerEvents=h===this?kc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ZE),this.root.sharedNodes.clear()}}}function l3(t){t.updateLayout()}function u3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?dn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=rn(f);f.min=r[h].min,f.max=f.min+m}):JC(s,n.layoutBox,r)&&dn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=rn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=no();tl(a,r,n.layoutBox);const l=no();o?tl(l,t.applyTransform(i,!0),n.measuredBox):tl(l,r,n.layoutBox);const c=!QC(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=Ge();nl(v,n.layoutBox,f.layoutBox);const w=Ge();nl(w,r,m.layoutBox),GC(v,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function c3(t){qi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function d3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h3(t){t.clearSnapshot()}function ZE(t){t.clearMeasurements()}function f3(t){t.isLayoutDirty=!1}function p3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function m3(t){t.resolveTargetDelta()}function g3(t){t.calcProjection()}function y3(t){t.resetRotation()}function v3(t){t.removeLeadSnapshot()}function tT(t,e,n){t.translate=Ve(e.translate,0,n),t.scale=Ve(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nT(t,e,n,r){t.min=Ve(e.min,n.min,r),t.max=Ve(e.max,n.max,r)}function _3(t,e,n,r){nT(t.x,e.x,n.x,r),nT(t.y,e.y,n.y,r)}function w3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const E3={duration:.45,ease:[.4,0,.1,1]},rT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),iT=rT("applewebkit/")&&!rT("chrome/")?Math.round:ze;function sT(t){t.min=iT(t.min),t.max=iT(t.max)}function T3(t){sT(t.x),sT(t.y)}function JC(t,e,n){return t==="position"||t==="preserve-aspect"&&!jm(QE(e),QE(n),.2)}const S3=XC({attachResizeListener:(t,e)=>hr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),op={current:void 0},ZC=XC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!op.current){const t=new S3({});t.mount(window),t.setOptions({layoutScroll:!0}),op.current=t}return op.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),k3={pan:{Feature:BU},drag:{Feature:UU,ProjectionNode:ZC,MeasureLayout:YC}},D3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function I3(t){const e=D3.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function $m(t,e,n=1){const[r,i]=I3(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return OC(o)?parseFloat(o):o}else return Nm(i)?$m(i,e,n+1):i}function C3(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Nm(s))return;const o=$m(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Nm(s))continue;const o=$m(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const P3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eP=t=>P3.has(t),A3=t=>Object.keys(t).some(eP),oT=t=>t===Cs||t===ne,aT=(t,e)=>parseFloat(t.split(", ")[e]),lT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return aT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?aT(s[1],t):0}},x3=new Set(["x","y","z"]),b3=Xl.filter(t=>!x3.has(t));function R3(t){const e=[];return b3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const No={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:lT(4,13),y:lT(5,14)};No.translateX=No.x;No.translateY=No.y;const M3=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=No[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=No[c](l,s)}),t},N3=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(eP);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Ea(d);const f=e[l];let m;if(Sd(f)){const v=f.length,w=f[0]===null?1:0;d=f[w],h=Ea(d);for(let I=w;I<v&&f[I]!==null;I++)m?iv(Ea(f[I])===m):m=Ea(f[I])}else m=Ea(f);if(h!==m)if(oT(h)&&oT(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===ne&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(f):(o||(s=R3(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=M3(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Dh&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function O3(t,e,n,r){return A3(e)?N3(t,e,n,r):{target:e,transitionEnd:r}}const V3=(t,e,n,r)=>{const i=C3(t,e,r);return e=i.target,r=i.transitionEnd,O3(t,e,n,r)},Ym={current:null},tP={current:!1};function L3(){if(tP.current=!0,!!Dh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ym.current=t.matches;t.addListener(e),e()}else Ym.current=!1}function F3(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Kt(s))t.addValue(i,s),Cd(r)&&r.add(i);else if(Kt(o))t.addValue(i,Mo(s,{owner:t})),Cd(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Mo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const uT=new WeakMap,nP=Object.keys(Al),U3=nP.length,cT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],B3=Gy.length;class j3{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Ch(n),this.isVariantNode=BI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&Kt(f)&&(f.set(a[h],!1),Cd(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,uT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tP.current||L3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ym.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uT.delete(this.current),this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Is.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&be.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<U3;l++){const c=nP[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Al[c];f&&(o=f),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&eo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cT.length;r++){const i=cT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=F3(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<B3;r++){const i=Gy[r],s=this.props[i];(Pl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=rv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Kt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rP extends j3{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=iU(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){nU(this,r,o);const a=V3(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function W3(t){return window.getComputedStyle(t)}class z3 extends rP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Is.has(n)){const r=lv(n);return r&&r.default||0}else{const r=W3(e),i=($I(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HC(e,n)}build(e,n,r,i){Jy(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return nv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){XI(e,n,r,i)}}class H3 extends rP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Is.has(n)){const r=lv(n);return r&&r.default||0}return n=JI.has(n)?n:Ky(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ge()}scrapeMotionValuesFromProps(e,n){return eC(e,n)}build(e,n,r,i){ev(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){ZI(e,n,r,i)}mount(e){this.isSVGTag=tv(e.tagName),super.mount(e)}}const $3=(t,e)=>Xy(t)?new H3(e,{enableHardwareAcceleration:!1}):new z3(e,{enableHardwareAcceleration:!0}),Y3={layout:{ProjectionNode:ZC,MeasureLayout:YC}},q3={..._U,...UF,...k3,...Y3},dT=q2((t,e)=>IF(t,e,q3,$3)),hT=({employee:t})=>{const[e,n]=O.useState([]),[r,i]=O.useState(!0),s=async()=>{i(!0);try{const a=(await Gl(ys(qt,"classes"))).docs.map(l=>({id:l.id,...l.data()}));console.log("   -HomePage:",a),n(a)}catch(o){console.error("   :",o)}i(!1)};return O.useEffect(()=>{s()},[]),r?P.createElement("div",{className:"flex justify-center items-center min-h-screen"},P.createElement("p",null," ...")):P.createElement(dT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4}},P.createElement(lk,{title:"   "}),P.createElement("div",{className:"mt-4"},P.createElement("div",{className:"bg-blue-50 p-4 rounded-lg mb-6"},P.createElement("p",{className:"font-medium mb-2"}," :"),e.length>0?P.createElement("p",null," ",e[0].name,"  ",e[0].instructor," ","-",e[0].time,"!   ."):P.createElement("p",null,"    .")),P.createElement("h2",{className:"text-lg font-bold mb-3"}," "),e.length===0?P.createElement("p",{className:"text-gray-500"},"   ."):e.map((o,a)=>P.createElement(dT.div,{key:o.id,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.1}},P.createElement(VI,{classInfo:o,employee:t,isBooking:!1})))))};var K3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ps=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>O.createElement("svg",{ref:c,...K3,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${Q3(t)}`,...l},[...e.map(([d,h])=>O.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},fT=Ps("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),G3=Ps("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),X3=Ps("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),J3=Ps("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Z3=Ps("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),eB=Ps("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),tB=Ps("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nB=()=>{const t=new Date,e=w=>{const I=w.getDay(),E=w.getDate()-I;return new Date(w.getFullYear(),w.getMonth(),E)},[n,r]=O.useState(e(t)),i=f(t),[s,o]=O.useState(i),[a,l]=O.useState([]),[c,d]=O.useState(!0),h=async()=>{d(!0);try{const I=(await Gl(ys(qt,"classes"))).docs.map(E=>({id:E.id,...E.data()}));console.log("  :",I),l(I)}catch(w){console.error("   :",w)}d(!1)};O.useEffect(()=>{h()},[]);function f(w){const I=w.getDate().toString().padStart(2,"0"),E=(w.getMonth()+1).toString().padStart(2,"0"),_=w.getFullYear();return`${I}/${E}/${_}`}const m=()=>{const w=new Date(n);w.setDate(w.getDate()-7),r(w),o(f(w))},v=()=>{const w=new Date(n);w.setDate(w.getDate()+7),r(w),o(f(w))};return c?P.createElement("div",{className:"flex justify-center items-center min-h-screen"},P.createElement("p",null," ...")):P.createElement("div",null,P.createElement(lk,{title:" "}),P.createElement("div",{className:"flex justify-between items-center p-4"},P.createElement("button",{className:"flex items-center text-blue-600",onClick:m},P.createElement(J3,{size:16,className:"ml-1"}),""),P.createElement("h3",{className:"font-bold"},s),P.createElement("button",{className:"flex items-center text-blue-600",onClick:v},"",P.createElement(X3,{size:16,className:"mr-1"}))),P.createElement("div",{className:"flex overflow-x-auto px-4 pb-4 no-scrollbar"},Array.from({length:7}).map((w,I)=>{const E=new Date(n);E.setDate(n.getDate()+I);const _=f(E),T=s===_,x=["","","","","","",""],N=E.getDay();return P.createElement("div",{key:I,onClick:()=>o(_),className:`flex-shrink-0 mx-2 w-16 text-center py-3 px-1 rounded-lg shadow-sm cursor-pointer ${T?"bg-blue-500 text-white":"bg-white"}`},P.createElement("p",{className:"text-xs mb-1"},x[N]),P.createElement("p",{className:"font-bold"},E.getDate().toString().padStart(2,"0"),"/",(E.getMonth()+1).toString().padStart(2,"0")))})),P.createElement("div",{className:"px-4"},a.filter(w=>w.date===s).map(w=>P.createElement(VI,{key:w.id,classInfo:w,isBooking:!1})),a.filter(w=>w.date===s).length===0&&P.createElement("p",{className:"text-center text-gray-500 mt-6"},"   ")))},rB=({employee:t})=>{const[e,n]=O.useState([]),[r,i]=O.useState(!0),[s,o]=O.useState(""),a=async()=>{i(!0);try{const c=ys(qt,"bookings"),d=A2(c,x2("userId","==",t.phone)),f=(await Gl(d)).docs.map(m=>({id:m.id,...m.data()}));n(f)}catch(c){console.error("   :",c)}i(!1)};O.useEffect(()=>{a()},[]);const l=async(c,d)=>{try{await Yy(Ci(qt,"bookings",c));const h=Ci(qt,"classes",d),m=(await $y(h)).data();m&&await MI(h,{spots:m.spots+1}),o("   "),a()}catch(h){console.error("   :",h),o("  ")}};return r?P.createElement("div",{className:"flex justify-center items-center h-full"},P.createElement("p",null," ...")):P.createElement("div",{className:"p-4"},P.createElement("h1",{className:"text-2xl font-bold mb-4"}," "),s&&P.createElement("p",{className:"text-green-600 mb-4"},s),e.length===0?P.createElement("p",{className:"text-muted"},"    ."):P.createElement("ul",{className:"space-y-4"},e.map(c=>P.createElement("li",{key:c.id,className:"bg-white shadow p-4 rounded relative"},P.createElement("h2",{className:"text-lg font-bold mb-2"},c.className),P.createElement("p",null,": ",c.instructor),P.createElement("p",null,": ",c.date),P.createElement("p",null,": ",c.time),P.createElement("button",{onClick:()=>l(c.id,c.classId),className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700"}," ")))))},iB=({onLogin:t})=>{const[e,n]=O.useState(""),[r,i]=O.useState(""),s=async()=>{i("");try{const o=Ci(qt,"Users",e),a=await $y(o);if(!a.exists()){i("   .  .");return}const l=a.data(),c=l.isAdmin?"":"";localStorage.setItem("employeePhone",l.phone),localStorage.setItem("employeeRole",c),t({phone:l.phone,role:c}),console.log(`  ${c}:`,l)}catch(o){console.error("  :",o),i(" ")}};return P.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen p-4"},P.createElement("h1",{className:"text-2xl font-bold mb-6"}," "),P.createElement("input",{type:"tel",placeholder:"  ( +972)",value:e,onChange:o=>n(o.target.value),className:"w-full max-w-xs p-2 mb-3 border rounded text-black"}),r&&P.createElement("p",{className:"text-red-500 mb-3"},r),P.createElement("button",{onClick:s,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"},""))},sB=({employee:t})=>{const[e,n]=O.useState([]),[r,i]=O.useState(""),[s,o]=O.useState(""),[a,l]=O.useState(""),c=async()=>{try{const m=(await Gl(ys(qt,"employees"))).docs.map(v=>({id:v.id,...v.data()}));n(m)}catch(f){console.error("   :",f)}};O.useEffect(()=>{c()},[]);const d=async()=>{if(!r||!s){l("    ");return}try{const f=Ci(qt,"employees",r);await N2(f,{name:s,phone:r,role:"",createdAt:new Date}),l("   !"),i(""),o(""),c()}catch(f){console.error("   :",f),l("  ")}},h=async f=>{try{await Yy(Ci(qt,"employees",f)),l("  "),c()}catch(m){console.error("   :",m),l(" ")}};return(t==null?void 0:t.role)!==""?P.createElement("div",{className:"p-6"},P.createElement("h1",{className:"text-xl font-bold"}," "),P.createElement("p",null,"     .")):P.createElement("div",{className:"p-6"},P.createElement("h1",{className:"text-2xl font-bold mb-6"},"  "),P.createElement("div",{className:"mb-6"},P.createElement("input",{type:"tel",placeholder:"  (+972...)",value:r,onChange:f=>i(f.target.value),className:"block w-full p-2 mb-3 border rounded text-black"}),P.createElement("input",{type:"text",placeholder:" ",value:s,onChange:f=>o(f.target.value),className:"block w-full p-2 mb-3 border rounded text-black"}),P.createElement("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," "),a&&P.createElement("p",{className:"mt-3 text-green-600"},a)),P.createElement("div",null,P.createElement("h2",{className:"text-lg font-bold mb-2"}," "),P.createElement("ul",null,e.map(f=>P.createElement("li",{key:f.phone,className:"flex justify-between items-center p-2 border-b"},P.createElement("span",null,f.name," (",f.phone,")"),P.createElement("button",{onClick:()=>h(f.phone),className:"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 text-sm"},""))))))};function iP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iP(t))&&(r&&(r+=" "),r+=e);return r}const sP=6048e5,oB=864e5,bh=6e4,Rh=36e5,aB=1e3,pT=Symbol.for("constructDateFrom");function ke(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&pT in t?t[pT](e):t instanceof Date?new t.constructor(e):new Date(e)}function G(t,e){return ke(e||t,t)}function xn(t,e,n){const r=G(t,n==null?void 0:n.in);return isNaN(e)?ke((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Nn(t,e,n){const r=G(t,n==null?void 0:n.in);if(isNaN(e))return ke((n==null?void 0:n.in)||t,NaN);if(!e)return r;const i=r.getDate(),s=ke((n==null?void 0:n.in)||t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function oP(t,e,n){return ke((n==null?void 0:n.in)||t,+G(t)+e)}function lB(t,e,n){return oP(t,e*Rh,n)}let uB={};function As(){return uB}function Rr(t,e){var a,l,c,d;const n=As(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=G(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Oo(t,e){return Rr(t,{...e,weekStartsOn:1})}function aP(t,e){const n=G(t,e==null?void 0:e.in),r=n.getFullYear(),i=ke(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Oo(i),o=ke(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Oo(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Ad(t){const e=G(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Or(t,...e){const n=ke.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function vs(t,e){const n=G(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Vo(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e),s=vs(r),o=vs(i),a=+s-Ad(s),l=+o-Ad(o);return Math.round((a-l)/oB)}function cB(t,e){const n=aP(t,e),r=ke((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Oo(r)}function qm(t,e,n){const r=G(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*bh),r}function pv(t,e,n){return Nn(t,e*3,n)}function dB(t,e,n){return oP(t,e*1e3,n)}function xd(t,e,n){return xn(t,e*7,n)}function yr(t,e,n){return Nn(t,e*12,n)}function mT(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=ke.bind(null,i));const s=G(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),ke(r,n||NaN)}function gT(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=ke.bind(null,i));const s=G(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),ke(r,n||NaN)}function hB(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e);return+vs(r)==+vs(i)}function vr(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bd(t){return!(!vr(t)&&typeof t!="number"||isNaN(+G(t)))}function Rd(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function is(t,e){const n=G(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function Md(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=is(r)-is(i);return s*4+o}function Nd(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}function fB(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e),s=yT(r,i),o=Math.abs(Vo(r,i));r.setDate(r.getDate()-s*o);const a=+(yT(r,i)===-s),l=s*(o-a);return l===0?0:l}function yT(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function lP(t,e){const n=G(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function uP(t,e){const n=G(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Km(t,e){const n=G(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function cP(t,e){const n=G(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function dP(t,e){const n=G(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Mh(t,e){const n=G(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pB(t,e){var a,l,c,d;const n=As(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=G(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const mB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gB=(t,e,n)=>{let r;const i=mB[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ap(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const yB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_B={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wB={date:ap({formats:yB,defaultWidth:"full"}),time:ap({formats:vB,defaultWidth:"full"}),dateTime:ap({formats:_B,defaultWidth:"full"})},EB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TB=(t,e,n,r)=>EB[t];function Sa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const SB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AB=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xB={ordinalNumber:AB,era:Sa({values:SB,defaultWidth:"wide"}),quarter:Sa({values:kB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sa({values:DB,defaultWidth:"wide"}),day:Sa({values:IB,defaultWidth:"wide"}),dayPeriod:Sa({values:CB,defaultWidth:"wide",formattingValues:PB,defaultFormattingWidth:"wide"})};function ka(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?RB(a,h=>h.test(o)):bB(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function bB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function RB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function MB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const NB=/^(\d+)(th|st|nd|rd)?/i,OB=/\d+/i,VB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LB={any:[/^b/i,/^(a|c)/i]},FB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UB={any:[/1/i,/2/i,/3/i,/4/i]},BB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$B={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YB={ordinalNumber:MB({matchPattern:NB,parsePattern:OB,valueCallback:t=>parseInt(t,10)}),era:ka({matchPatterns:VB,defaultMatchWidth:"wide",parsePatterns:LB,defaultParseWidth:"any"}),quarter:ka({matchPatterns:FB,defaultMatchWidth:"wide",parsePatterns:UB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ka({matchPatterns:BB,defaultMatchWidth:"wide",parsePatterns:jB,defaultParseWidth:"any"}),day:ka({matchPatterns:WB,defaultMatchWidth:"wide",parsePatterns:zB,defaultParseWidth:"any"}),dayPeriod:ka({matchPatterns:HB,defaultMatchWidth:"any",parsePatterns:$B,defaultParseWidth:"any"})},hP={code:"en-US",formatDistance:gB,formatLong:wB,formatRelative:TB,localize:xB,match:YB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qB(t,e){const n=G(t,e==null?void 0:e.in);return Vo(n,Mh(n))+1}function mv(t,e){const n=G(t,e==null?void 0:e.in),r=+Oo(n)-+cB(n);return Math.round(r/sP)+1}function gv(t,e){var d,h,f,m;const n=G(t,e==null?void 0:e.in),r=n.getFullYear(),i=As(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=ke((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Rr(o,e),l=ke((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Rr(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function KB(t,e){var a,l,c,d;const n=As(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=gv(t,e),s=ke((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Rr(s,e)}function fP(t,e){const n=G(t,e==null?void 0:e.in),r=+Rr(n,e)-+KB(n,e);return Math.round(r/sP)+1}function Te(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Te(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Te(n+1,2)},d(t,e){return Te(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Te(t.getHours()%12||12,e.length)},H(t,e){return Te(t.getHours(),e.length)},m(t,e){return Te(t.getMinutes(),e.length)},s(t,e){return Te(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Te(i,e.length)}},Os={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return jr.y(t,e)},Y:function(t,e,n,r){const i=gv(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Te(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Te(s,e.length)},R:function(t,e){const n=aP(t);return Te(n,e.length)},u:function(t,e){const n=t.getFullYear();return Te(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Te(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=fP(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Te(i,e.length)},I:function(t,e,n){const r=mv(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Te(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jr.d(t,e)},D:function(t,e,n){const r=qB(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Te(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Te(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Te(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Os.noon:r===0?i=Os.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Os.evening:r>=12?i=Os.afternoon:r>=4?i=Os.morning:i=Os.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jr.s(t,e)},S:function(t,e){return jr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wT(r);case"XXXX":case"XX":return Ki(r);case"XXXXX":case"XXX":default:return Ki(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wT(r);case"xxxx":case"xx":return Ki(r);case"xxxxx":case"xxx":default:return Ki(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_T(r,":");case"OOOO":default:return"GMT"+Ki(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_T(r,":");case"zzzz":default:return"GMT"+Ki(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Te(r,e.length)},T:function(t,e,n){return Te(+t,e.length)}};function _T(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Te(s,2)}function wT(t,e){return t%60===0?(t>0?"-":"+")+Te(Math.abs(t)/60,2):Ki(t,e)}function Ki(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Te(Math.trunc(r/60),2),s=Te(r%60,2);return n+i+e+s}const ET=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},QB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ET(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ET(r,e)).replace("{{time}}",pP(i,e))},Qm={p:pP,P:QB},GB=/^D+$/,XB=/^Y+$/,JB=["D","DD","YY","YYYY"];function mP(t){return GB.test(t)}function gP(t){return XB.test(t)}function Gm(t,e,n){const r=ZB(t,e,n);if(console.warn(r),JB.includes(t))throw new RangeError(r)}function ZB(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const e9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,t9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n9=/^'([^]*?)'?$/,r9=/''/g,i9=/[a-zA-Z]/;function Xm(t,e,n){var d,h,f,m,v,w,I,E;const r=As(),i=(n==null?void 0:n.locale)??r.locale??hP,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((E=(I=r.locale)==null?void 0:I.options)==null?void 0:E.weekStartsOn)??0,a=G(t,n==null?void 0:n.in);if(!bd(a))throw new RangeError("Invalid time value");let l=e.match(t9).map(_=>{const T=_[0];if(T==="p"||T==="P"){const x=Qm[T];return x(_,i.formatLong)}return _}).join("").match(e9).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const T=_[0];if(T==="'")return{isToken:!1,value:s9(_)};if(vT[T])return{isToken:!0,value:_};if(T.match(i9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const T=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&gP(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mP(T))&&Gm(T,e,String(t));const x=vT[T[0]];return x(a,T,i.localize,c)}).join("")}function s9(t){const e=t.match(n9);return e?e[1].replace(r9,"'"):t}function TT(t,e){return G(t,e==null?void 0:e.in).getDate()}function o9(t,e){return G(t,e==null?void 0:e.in).getDay()}function a9(t,e){const n=G(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=ke(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function l9(){return Object.assign({},As())}function _r(t,e){return G(t,e==null?void 0:e.in).getHours()}function u9(t,e){const n=G(t,e==null?void 0:e.in).getDay();return n===0?7:n}function wr(t,e){return G(t,e==null?void 0:e.in).getMinutes()}function Mt(t,e){return G(t,e==null?void 0:e.in).getMonth()}function yi(t){return G(t).getSeconds()}function Jm(t){return+G(t)}function le(t,e){return G(t,e==null?void 0:e.in).getFullYear()}function xi(t,e){return+G(t)>+G(e)}function _s(t,e){return+G(t)<+G(e)}function c9(t,e){return+G(t)==+G(e)}function d9(t,e){const n=h9(e)?new e(0):ke(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function h9(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const f9=10;class yP{constructor(){Y(this,"subPriority",0)}validate(e,n){return!0}}class p9 extends yP{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class m9 extends yP{constructor(n,r){super();Y(this,"priority",f9);Y(this,"subPriority",-1);this.context=n||(i=>ke(r,i))}set(n,r){return r.timestampIsSet?n:ke(n,d9(n,this.context))}}class _e{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new p9(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class g9 extends _e{constructor(){super(...arguments);Y(this,"priority",140);Y(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const qe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ke(t,e){return t&&{value:e(t.value),rest:t.rest}}function Le(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function zn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Rh+s*bh+o*aB),rest:e.slice(n[0].length)}}function vP(t){return Le(qe.anyDigitsSigned,t)}function He(t,e){switch(t){case 1:return Le(qe.singleDigit,e);case 2:return Le(qe.twoDigits,e);case 3:return Le(qe.threeDigits,e);case 4:return Le(qe.fourDigits,e);default:return Le(new RegExp("^\\d{1,"+t+"}"),e)}}function Od(t,e){switch(t){case 1:return Le(qe.singleDigitSigned,e);case 2:return Le(qe.twoDigitsSigned,e);case 3:return Le(qe.threeDigitsSigned,e);case 4:return Le(qe.fourDigitsSigned,e);default:return Le(new RegExp("^-?\\d{1,"+t+"}"),e)}}function yv(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _P(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function wP(t){return t%400===0||t%4===0&&t%100!==0}class y9 extends _e{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ke(He(4,n),s);case"yo":return Ke(i.ordinalNumber(n,{unit:"year"}),s);default:return Ke(He(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=_P(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class v9 extends _e{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ke(He(4,n),s);case"Yo":return Ke(i.ordinalNumber(n,{unit:"year"}),s);default:return Ke(He(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=gv(n,s);if(i.isTwoDigitYear){const l=_P(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Rr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Rr(n,s)}}class _9 extends _e{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Od(r==="R"?4:r.length,n)}set(n,r,i){const s=ke(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Oo(s)}}class w9 extends _e{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Od(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class E9 extends _e{constructor(){super(...arguments);Y(this,"priority",120);Y(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return He(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class T9 extends _e{constructor(){super(...arguments);Y(this,"priority",120);Y(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return He(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class S9 extends _e{constructor(){super(...arguments);Y(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Y(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Ke(Le(qe.month,n),s);case"MM":return Ke(He(2,n),s);case"Mo":return Ke(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class k9 extends _e{constructor(){super(...arguments);Y(this,"priority",110);Y(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Ke(Le(qe.month,n),s);case"LL":return Ke(He(2,n),s);case"Lo":return Ke(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function D9(t,e,n){const r=G(t,n==null?void 0:n.in),i=fP(r,n)-e;return r.setDate(r.getDate()-i*7),G(r,n==null?void 0:n.in)}class I9 extends _e{constructor(){super(...arguments);Y(this,"priority",100);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Le(qe.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return He(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Rr(D9(n,i,s),s)}}function C9(t,e,n){const r=G(t,n==null?void 0:n.in),i=mv(r,n)-e;return r.setDate(r.getDate()-i*7),r}class P9 extends _e{constructor(){super(...arguments);Y(this,"priority",100);Y(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Le(qe.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return He(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Oo(C9(n,i))}}const A9=[31,28,31,30,31,30,31,31,30,31,30,31],x9=[31,29,31,30,31,30,31,31,30,31,30,31];class b9 extends _e{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"subPriority",1);Y(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Le(qe.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return He(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=wP(i),o=n.getMonth();return s?r>=1&&r<=x9[o]:r>=1&&r<=A9[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class R9 extends _e{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"subpriority",1);Y(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Le(qe.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return He(r.length,n)}}validate(n,r){const i=n.getFullYear();return wP(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function vv(t,e,n){var h,f,m,v;const r=As(),i=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,s=G(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return xn(s,d,n)}class M9 extends _e{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=vv(n,i,s),n.setHours(0,0,0,0),n}}class N9 extends _e{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ke(He(r.length,n),o);case"eo":return Ke(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=vv(n,i,s),n.setHours(0,0,0,0),n}}class O9 extends _e{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ke(He(r.length,n),o);case"co":return Ke(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=vv(n,i,s),n.setHours(0,0,0,0),n}}function V9(t,e,n){const r=G(t,n==null?void 0:n.in),i=u9(r,n),s=e-i;return xn(r,s,n)}class L9 extends _e{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return He(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Ke(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ke(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ke(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ke(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=V9(n,i),n.setHours(0,0,0,0),n}}class F9 extends _e{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(yv(i),0,0,0),n}}class U9 extends _e{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(yv(i),0,0,0),n}}class B9 extends _e{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(yv(i),0,0,0),n}}class j9 extends _e{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Le(qe.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return He(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class W9 extends _e{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Le(qe.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return He(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class z9 extends _e{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Le(qe.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return He(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class H9 extends _e{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Le(qe.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return He(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class $9 extends _e{constructor(){super(...arguments);Y(this,"priority",60);Y(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Le(qe.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return He(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Y9 extends _e{constructor(){super(...arguments);Y(this,"priority",50);Y(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Le(qe.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return He(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class q9 extends _e{constructor(){super(...arguments);Y(this,"priority",30);Y(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Ke(He(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class K9 extends _e{constructor(){super(...arguments);Y(this,"priority",10);Y(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return zn(Wn.basicOptionalMinutes,n);case"XX":return zn(Wn.basic,n);case"XXXX":return zn(Wn.basicOptionalSeconds,n);case"XXXXX":return zn(Wn.extendedOptionalSeconds,n);case"XXX":default:return zn(Wn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ke(n,n.getTime()-Ad(n)-i)}}class Q9 extends _e{constructor(){super(...arguments);Y(this,"priority",10);Y(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return zn(Wn.basicOptionalMinutes,n);case"xx":return zn(Wn.basic,n);case"xxxx":return zn(Wn.basicOptionalSeconds,n);case"xxxxx":return zn(Wn.extendedOptionalSeconds,n);case"xxx":default:return zn(Wn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ke(n,n.getTime()-Ad(n)-i)}}class G9 extends _e{constructor(){super(...arguments);Y(this,"priority",40);Y(this,"incompatibleTokens","*")}parse(n){return vP(n)}set(n,r,i){return[ke(n,i*1e3),{timestampIsSet:!0}]}}class X9 extends _e{constructor(){super(...arguments);Y(this,"priority",20);Y(this,"incompatibleTokens","*")}parse(n){return vP(n)}set(n,r,i){return[ke(n,i),{timestampIsSet:!0}]}}const J9={G:new g9,y:new y9,Y:new v9,R:new _9,u:new w9,Q:new E9,q:new T9,M:new S9,L:new k9,w:new I9,I:new P9,d:new b9,D:new R9,E:new M9,e:new N9,c:new O9,i:new L9,a:new F9,b:new U9,B:new B9,h:new j9,H:new W9,K:new z9,k:new H9,m:new $9,s:new Y9,S:new q9,X:new K9,x:new Q9,t:new G9,T:new X9},Z9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ej=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tj=/^'([^]*?)'?$/,nj=/''/g,rj=/\S/,ij=/[a-zA-Z]/;function sj(t,e,n,r){var I,E,_,T,x,N,V,D;const i=()=>ke((r==null?void 0:r.in)||n,NaN),s=l9(),o=(r==null?void 0:r.locale)??s.locale??hP,a=(r==null?void 0:r.firstWeekContainsDate)??((E=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:E.firstWeekContainsDate)??s.firstWeekContainsDate??((T=(_=s.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((N=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((D=(V=s.locale)==null?void 0:V.options)==null?void 0:D.weekStartsOn)??0;if(!e)return t?i():G(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},d=[new m9(r==null?void 0:r.in,n)],h=e.match(ej).map(y=>{const k=y[0];if(k in Qm){const C=Qm[k];return C(y,o.formatLong)}return y}).join("").match(Z9),f=[];for(let y of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&gP(y)&&Gm(y,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&mP(y)&&Gm(y,e,t);const k=y[0],C=J9[k];if(C){const{incompatibleTokens:b}=C;if(Array.isArray(b)){const A=f.find(X=>b.includes(X.token)||X.token===k);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${y}\` at the same time`)}else if(C.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);f.push({token:k,fullToken:y});const R=C.run(t,y,o.match,c);if(!R)return i();d.push(R.setter),t=R.rest}else{if(k.match(ij))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(y==="''"?y="'":k==="'"&&(y=oj(y)),t.indexOf(y)===0)t=t.slice(y.length);else return i()}}if(t.length>0&&rj.test(t))return i();const m=d.map(y=>y.priority).sort((y,k)=>k-y).filter((y,k,C)=>C.indexOf(y)===k).map(y=>d.filter(k=>k.priority===y).sort((k,C)=>C.subPriority-k.subPriority)).map(y=>y[0]);let v=G(n,r==null?void 0:r.in);if(isNaN(+v))return i();const w={};for(const y of m){if(!y.validate(v,c))return i();const k=y.set(v,w,c);Array.isArray(k)?(v=k[0],Object.assign(w,k[1])):v=k}return v}function oj(t){return t.match(tj)[1].replace(nj,"'")}function aj(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function lj(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e);return+Km(r)==+Km(i)}function uj(t,e,n){const[r,i]=Or(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function bl(t,e,n){const r=+G(t,n==null?void 0:n.in),[i,s]=[+G(e.start,n==null?void 0:n.in),+G(e.end,n==null?void 0:n.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function cj(t,e,n){return xn(t,-e,n)}function dj(t,e){const n=()=>ke(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=mj(t);let s;if(i.date){const c=gj(i.date,r);s=yj(c.restDateString,c.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,l;if(i.time&&(a=vj(i.time),isNaN(a)))return n();if(i.timezone){if(l=_j(i.timezone),isNaN(l))return n()}else{const c=new Date(o+a),d=G(0,e==null?void 0:e.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return G(o+a+l,e==null?void 0:e.in)}const Qu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mj(t){const e={},n=t.split(Qu.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Qu.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Qu.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Qu.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function gj(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function yj(t,e){if(e===null)return new Date(NaN);const n=t.match(hj);if(!n)return new Date(NaN);const r=!!n[4],i=Da(n[1]),s=Da(n[2])-1,o=Da(n[3]),a=Da(n[4]),l=Da(n[5])-1;if(r)return kj(e,a,l)?wj(e,a,l):new Date(NaN);{const c=new Date(0);return!Tj(e,s,o)||!Sj(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}}function Da(t){return t?parseInt(t):1}function vj(t){const e=t.match(fj);if(!e)return NaN;const n=lp(e[1]),r=lp(e[2]),i=lp(e[3]);return Dj(n,r,i)?n*Rh+r*bh+i*1e3:NaN}function lp(t){return t&&parseFloat(t.replace(",","."))||0}function _j(t){if(t==="Z")return 0;const e=t.match(pj);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Ij(r,i)?n*(r*Rh+i*bh):NaN}function wj(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const Ej=[31,null,31,30,31,30,31,31,30,31,30,31];function EP(t){return t%400===0||t%4===0&&t%100!==0}function Tj(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ej[e]||(EP(t)?29:28))}function Sj(t,e){return e>=1&&e<=(EP(t)?366:365)}function kj(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Dj(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Ij(t,e){return e>=0&&e<=59}function fn(t,e,n){const r=G(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=ke((n==null?void 0:n.in)||t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=a9(o);return r.setMonth(e,Math.min(s,a)),r}function Ic(t,e,n){const r=G(t,n==null?void 0:n.in);return r.setHours(e),r}function Cc(t,e,n){const r=G(t,n==null?void 0:n.in);return r.setMinutes(e),r}function Bs(t,e,n){const r=G(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return fn(r,r.getMonth()+s*3)}function Pc(t,e,n){const r=G(t,n==null?void 0:n.in);return r.setSeconds(e),r}function Fn(t,e,n){const r=G(t,n==null?void 0:n.in);return isNaN(+r)?ke((n==null?void 0:n.in)||t,NaN):(r.setFullYear(e),r)}function ss(t,e,n){return Nn(t,-e,n)}function TP(t,e,n){return pv(t,-e,n)}function ST(t,e,n){return xd(t,-e,n)}function Lo(t,e,n){return yr(t,-e,n)}function Nh(){return typeof window<"u"}function Jo(t){return SP(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tr(t){var e;return(e=(SP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SP(t){return Nh()?t instanceof Node||t instanceof tn(t).Node:!1}function Nt(t){return Nh()?t instanceof Element||t instanceof tn(t).Element:!1}function er(t){return Nh()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function kT(t){return!Nh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function tu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Tn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Cj(t){return["table","td","th"].includes(Jo(t))}function Oh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _v(t){const e=wv(),n=Nt(t)?Tn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Pj(t){let e=bi(t);for(;er(e)&&!Fo(e);){if(_v(e))return e;if(Oh(e))return null;e=bi(e)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fo(t){return["html","body","#document"].includes(Jo(t))}function Tn(t){return tn(t).getComputedStyle(t)}function Vh(t){return Nt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bi(t){if(Jo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kT(t)&&t.host||tr(t);return kT(e)?e.host:e}function kP(t){const e=bi(t);return Fo(e)?t.ownerDocument?t.ownerDocument.body:t.body:er(e)&&tu(e)?e:kP(e)}function Rl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=kP(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=tn(i);if(s){const a=Zm(o);return e.concat(o,o.visualViewport||[],tu(i)?i:[],a&&n?Rl(a):[])}return e.concat(i,Rl(i,[],n))}function Zm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Uo=Math.min,os=Math.max,Vd=Math.round,Gu=Math.floor,Jn=t=>({x:t,y:t}),Aj={left:"right",right:"left",bottom:"top",top:"bottom"},xj={start:"end",end:"start"};function bj(t,e,n){return os(t,Uo(e,n))}function Lh(t,e){return typeof t=="function"?t(e):t}function Bo(t){return t.split("-")[0]}function nu(t){return t.split("-")[1]}function Rj(t){return t==="x"?"y":"x"}function Ev(t){return t==="y"?"height":"width"}function Ml(t){return["top","bottom"].includes(Bo(t))?"y":"x"}function Tv(t){return Rj(Ml(t))}function Mj(t,e,n){n===void 0&&(n=!1);const r=nu(t),i=Tv(t),s=Ev(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ld(o)),[o,Ld(o)]}function Nj(t){const e=Ld(t);return[eg(t),e,eg(e)]}function eg(t){return t.replace(/start|end/g,e=>xj[e])}function Oj(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Vj(t,e,n,r){const i=nu(t);let s=Oj(Bo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(eg)))),s}function Ld(t){return t.replace(/left|right|bottom|top/g,e=>Aj[e])}function Lj(t){return{top:0,right:0,bottom:0,left:0,...t}}function DP(t){return typeof t!="number"?Lj(t):{top:t,right:t,bottom:t,left:t}}function Fd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var IP={exports:{}},Fh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj=O,Uj=Symbol.for("react.element"),Bj=Symbol.for("react.fragment"),jj=Object.prototype.hasOwnProperty,Wj=Fj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zj={key:!0,ref:!0,__self:!0,__source:!0};function CP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jj.call(e,r)&&!zj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Uj,type:t,key:s,ref:o,props:i,_owner:Wj.current}}Fh.Fragment=Bj;Fh.jsx=CP;Fh.jsxs=CP;IP.exports=Fh;var Ia=IP.exports;function DT(t,e,n){let{reference:r,floating:i}=t;const s=Ml(e),o=Tv(e),a=Ev(o),l=Bo(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(nu(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const Hj=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=DT(c,r,l),f=r,m={},v=0;for(let w=0;w<a.length;w++){const{name:I,fn:E}=a[w],{x:_,y:T,data:x,reset:N}=await E({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,h=T??h,m={...m,[I]:{...m[I],...x}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=DT(c,f,l)),w=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function $j(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Lh(e,t),v=DP(m),I=a[f?h==="floating"?"reference":"floating":h],E=Fd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},N=Fd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(E.top-N.top+v.top)/x.y,bottom:(N.bottom-E.bottom+v.bottom)/x.y,left:(E.left-N.left+v.left)/x.x,right:(N.right-E.right+v.right)/x.x}}const Yj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Lh(t,e)||{};if(c==null)return{};const h=DP(d),f={x:n,y:r},m=Tv(i),v=Ev(m),w=await o.getDimensions(c),I=m==="y",E=I?"top":"left",_=I?"bottom":"right",T=I?"clientHeight":"clientWidth",x=s.reference[v]+s.reference[m]-f[m]-s.floating[v],N=f[m]-s.reference[m],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let D=V?V[T]:0;(!D||!await(o.isElement==null?void 0:o.isElement(V)))&&(D=a.floating[T]||s.floating[v]);const y=x/2-N/2,k=D/2-w[v]/2-1,C=Uo(h[E],k),b=Uo(h[_],k),R=C,A=D-w[v]-b,X=D/2-w[v]/2+y,ae=bj(R,X,A),$=!l.arrow&&nu(i)!=null&&X!==ae&&s.reference[v]/2-(X<R?C:b)-w[v]/2<0,Z=$?X<R?X-R:X-A:0;return{[m]:f[m]+Z,data:{[m]:ae,centerOffset:X-ae-Z,...$&&{alignmentOffset:Z}},reset:$}}}),qj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...I}=Lh(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Bo(i),_=Ml(a),T=Bo(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=f||(T||!w?[Ld(a)]:Nj(a)),V=v!=="none";!f&&V&&N.push(...Vj(a,w,v,x));const D=[a,...N],y=await $j(e,I),k=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(y[E]),h){const X=Mj(i,o,x);k.push(y[X[0]],y[X[1]])}if(C=[...C,{placement:i,overflows:k}],!k.every(X=>X<=0)){var b,R;const X=(((b=s.flip)==null?void 0:b.index)||0)+1,ae=D[X];if(ae)return{data:{index:X,overflows:C},reset:{placement:ae}};let $=(R=C.filter(Z=>Z.overflows[0]<=0).sort((Z,F)=>Z.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(m){case"bestFit":{var A;const Z=(A=C.filter(F=>{if(V){const H=Ml(F.placement);return H===_||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,ee)=>H+ee,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:A[0];Z&&($=Z);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};async function Kj(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Bo(n),a=nu(n),l=Ml(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Lh(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const Qj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Kj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function PP(t){const e=Tn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=er(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Vd(n)!==s||Vd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Sv(t){return Nt(t)?t:t.contextElement}function mo(t){const e=Sv(t);if(!er(e))return Jn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=PP(e);let o=(s?Vd(n.width):n.width)/r,a=(s?Vd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Gj=Jn(0);function AP(t){const e=tn(t);return!wv()||!e.visualViewport?Gj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Xj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function ws(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Sv(t);let o=Jn(1);e&&(r?Nt(r)&&(o=mo(r)):o=mo(t));const a=Xj(s,n,r)?AP(s):Jn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=tn(s),m=r&&Nt(r)?tn(r):r;let v=f,w=Zm(v);for(;w&&r&&m!==v;){const I=mo(w),E=w.getBoundingClientRect(),_=Tn(w),T=E.left+(w.clientLeft+parseFloat(_.paddingLeft))*I.x,x=E.top+(w.clientTop+parseFloat(_.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,h*=I.y,l+=T,c+=x,v=tn(w),w=Zm(v)}}return Fd({width:d,height:h,x:l,y:c})}function kv(t,e){const n=Vh(t).scrollLeft;return e?e.left+n:ws(tr(t)).left+n}function xP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:kv(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Jj(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=tr(r),a=e?Oh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Jn(1);const d=Jn(0),h=er(r);if((h||!h&&!s)&&((Jo(r)!=="body"||tu(o))&&(l=Vh(r)),er(r))){const m=ws(r);c=mo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?xP(o,l,!0):Jn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function Zj(t){return Array.from(t.getClientRects())}function e6(t){const e=tr(t),n=Vh(t),r=t.ownerDocument.body,i=os(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=os(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+kv(t);const a=-n.scrollTop;return Tn(r).direction==="rtl"&&(o+=os(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function t6(t,e){const n=tn(t),r=tr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=wv();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function n6(t,e){const n=ws(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=er(t)?mo(t):Jn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function IT(t,e,n){let r;if(e==="viewport")r=t6(t,n);else if(e==="document")r=e6(tr(t));else if(Nt(e))r=n6(e,n);else{const i=AP(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Fd(r)}function bP(t,e){const n=bi(t);return n===e||!Nt(n)||Fo(n)?!1:Tn(n).position==="fixed"||bP(n,e)}function r6(t,e){const n=e.get(t);if(n)return n;let r=Rl(t,[],!1).filter(a=>Nt(a)&&Jo(a)!=="body"),i=null;const s=Tn(t).position==="fixed";let o=s?bi(t):t;for(;Nt(o)&&!Fo(o);){const a=Tn(o),l=_v(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tu(o)&&!l&&bP(t,o))?r=r.filter(d=>d!==o):i=a,o=bi(o)}return e.set(t,r),r}function i6(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Oh(e)?[]:r6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=IT(e,d,i);return c.top=os(h.top,c.top),c.right=Uo(h.right,c.right),c.bottom=Uo(h.bottom,c.bottom),c.left=os(h.left,c.left),c},IT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function s6(t){const{width:e,height:n}=PP(t);return{width:e,height:n}}function o6(t,e,n){const r=er(e),i=tr(e),s=n==="fixed",o=ws(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Jn(0);if(r||!r&&!s)if((Jo(e)!=="body"||tu(i))&&(a=Vh(e)),r){const f=ws(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=kv(i));const c=i&&!r&&!s?xP(i,a):Jn(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function up(t){return Tn(t).position==="static"}function CT(t,e){if(!er(t)||Tn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tr(t)===n&&(n=n.ownerDocument.body),n}function RP(t,e){const n=tn(t);if(Oh(t))return n;if(!er(t)){let i=bi(t);for(;i&&!Fo(i);){if(Nt(i)&&!up(i))return i;i=bi(i)}return n}let r=CT(t,e);for(;r&&Cj(r)&&up(r);)r=CT(r,e);return r&&Fo(r)&&up(r)&&!_v(r)?n:r||Pj(t)||n}const a6=async function(t){const e=this.getOffsetParent||RP,n=this.getDimensions,r=await n(t.floating);return{reference:o6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l6(t){return Tn(t).direction==="rtl"}const u6={convertOffsetParentRelativeRectToViewportRelativeRect:Jj,getDocumentElement:tr,getClippingRect:i6,getOffsetParent:RP,getElementRects:a6,getClientRects:Zj,getDimensions:s6,getScale:mo,isElement:Nt,isRTL:l6};function MP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function c6(t,e){let n=null,r;const i=tr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=c;if(a||e(),!f||!m)return;const v=Gu(h),w=Gu(i.clientWidth-(d+f)),I=Gu(i.clientHeight-(h+m)),E=Gu(d),T={rootMargin:-v+"px "+-w+"px "+-I+"px "+-E+"px",threshold:os(0,Uo(1,l))||1};let x=!0;function N(V){const D=V[0].intersectionRatio;if(D!==l){if(!x)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!MP(c,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(N,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,T)}n.observe(t)}return o(!0),s}function d6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Sv(t),d=i||s?[...c?Rl(c):[],...Rl(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const h=c&&a?c6(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(E=>{let[_]=E;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,w=l?ws(t):null;l&&I();function I(){const E=ws(t);w&&!MP(w,E)&&n(),w=E,v=requestAnimationFrame(I)}return n(),()=>{var E;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const h6=Qj,f6=qj,PT=Yj,p6=(t,e,n)=>{const r=new Map,i={platform:u6,...n},s={...i.platform,_c:r};return Hj(t,e,{...i,platform:s})};var Ac=typeof document<"u"?O.useLayoutEffect:O.useEffect;function Ud(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ud(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ud(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function NP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AT(t,e){const n=NP(t);return Math.round(e*n)/n}function cp(t){const e=O.useRef(t);return Ac(()=>{e.current=t}),e}function m6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=O.useState(r);Ud(f,r)||m(r);const[v,w]=O.useState(null),[I,E]=O.useState(null),_=O.useCallback(F=>{F!==V.current&&(V.current=F,w(F))},[]),T=O.useCallback(F=>{F!==D.current&&(D.current=F,E(F))},[]),x=s||v,N=o||I,V=O.useRef(null),D=O.useRef(null),y=O.useRef(d),k=l!=null,C=cp(l),b=cp(i),R=cp(c),A=O.useCallback(()=>{if(!V.current||!D.current)return;const F={placement:e,strategy:n,middleware:f};b.current&&(F.platform=b.current),p6(V.current,D.current,F).then(H=>{const ee={...H,isPositioned:R.current!==!1};X.current&&!Ud(y.current,ee)&&(y.current=ee,Gg.flushSync(()=>{h(ee)}))})},[f,e,n,b,R]);Ac(()=>{c===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const X=O.useRef(!1);Ac(()=>(X.current=!0,()=>{X.current=!1}),[]),Ac(()=>{if(x&&(V.current=x),N&&(D.current=N),x&&N){if(C.current)return C.current(x,N,A);A()}},[x,N,A,C,k]);const ae=O.useMemo(()=>({reference:V,floating:D,setReference:_,setFloating:T}),[_,T]),$=O.useMemo(()=>({reference:x,floating:N}),[x,N]),Z=O.useMemo(()=>{const F={position:n,left:0,top:0};if(!$.floating)return F;const H=AT($.floating,d.x),ee=AT($.floating,d.y);return a?{...F,transform:"translate("+H+"px, "+ee+"px)",...NP($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:ee}},[n,a,$.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:A,refs:ae,elements:$,floatingStyles:Z}),[d,A,ae,$,Z])}const g6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?PT({element:r.current,padding:i}).fn(n):{}:r?PT({element:r,padding:i}).fn(n):{}}}},y6=(t,e)=>({...h6(t),options:[t,e]}),v6=(t,e)=>({...f6(t),options:[t,e]}),_6=(t,e)=>({...g6(t),options:[t,e]}),OP={...LA},w6=OP.useInsertionEffect,E6=w6||(t=>t());function T6(t){const e=O.useRef(()=>{});return E6(()=>{e.current=t}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Bd=typeof document<"u"?O.useLayoutEffect:O.useEffect;let xT=!1,S6=0;const bT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+S6++;function k6(){const[t,e]=O.useState(()=>xT?bT():void 0);return Bd(()=>{t==null&&e(bT())},[]),O.useEffect(()=>{xT=!0},[]),t}const D6=OP.useId,VP=D6||k6,I6=O.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:h,stroke:f,d:m,style:{transform:v,...w}={},...I}=e,E=VP(),[_,T]=O.useState(!1);if(Bd(()=>{if(!i)return;Tn(i).direction==="rtl"&&T(!0)},[i]),!i)return null;const[x,N]=r.split("-"),V=x==="top"||x==="bottom";let D=h;(V&&o!=null&&o.x||!V&&o!=null&&o.y)&&(D=null);const y=d*2,k=y/2,C=a/2*(c/-8+1),b=l/2*c/4,R=!!m,A=D&&N==="end"?"bottom":"top";let X=D&&N==="end"?"right":"left";D&&_&&(X=N==="end"?"left":"right");const ae=(s==null?void 0:s.x)!=null?D||s.x:"",$=(s==null?void 0:s.y)!=null?D||s.y:"",Z=m||"M0,0"+(" H"+a)+(" L"+(a-C)+","+(l-b))+(" Q"+a/2+","+l+" "+C+","+(l-b))+" Z",F={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[x];return Ia.jsxs("svg",{...I,"aria-hidden":!0,ref:n,width:R?a:a+y,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[X]:ae,[A]:$,[x]:V||R?"100%":"calc(100% - "+y/2+"px)",transform:[F,v].filter(H=>!!H).join(" "),...w},children:[y>0&&Ia.jsx("path",{clipPath:"url(#"+E+")",fill:"none",stroke:f,strokeWidth:y+(m?0:1),d:Z}),Ia.jsx("path",{stroke:y&&!m?I.fill:"none",d:Z}),Ia.jsx("clipPath",{id:E,children:Ia.jsx("rect",{x:-k,y:k*(R?-1:1),width:a+y,height:a})})]})});function C6(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const P6=O.createContext(null),A6=O.createContext(null),x6=()=>{var t;return((t=O.useContext(P6))==null?void 0:t.id)||null},b6=()=>O.useContext(A6);function R6(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=VP(),s=O.useRef({}),[o]=O.useState(()=>C6()),a=x6()!=null,[l,c]=O.useState(r.reference),d=T6((m,v,w)=>{s.current.openEvent=m?v:void 0,o.emit("openchange",{open:m,event:v,reason:w,nested:a}),n==null||n(m,v,w)}),h=O.useMemo(()=>({setPositionReference:c}),[]),f=O.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return O.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:f,events:o,floatingId:i,refs:h}),[e,d,f,o,i,h])}function M6(t){t===void 0&&(t={});const{nodeId:e}=t,n=R6({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=O.useState(null),[a,l]=O.useState(null),d=(i==null?void 0:i.domReference)||s,h=O.useRef(null),f=b6();Bd(()=>{d&&(h.current=d)},[d]);const m=m6({...t,elements:{...i,...a&&{reference:a}}}),v=O.useCallback(T=>{const x=Nt(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;l(x),m.refs.setReference(x)},[m.refs]),w=O.useCallback(T=>{(Nt(T)||T===null)&&(h.current=T,o(T)),(Nt(m.refs.reference.current)||m.refs.reference.current===null||T!==null&&!Nt(T))&&m.refs.setReference(T)},[m.refs]),I=O.useMemo(()=>({...m.refs,setReference:w,setPositionReference:v,domReference:h}),[m.refs,w,v]),E=O.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),_=O.useMemo(()=>({...m,...r,refs:I,elements:E,nodeId:e}),[m,I,E,e,r]);return Bd(()=>{r.dataRef.current.floatingContext=_;const T=f==null?void 0:f.nodesRef.current.find(x=>x.id===e);T&&(T.context=_)}),O.useMemo(()=>({...m,context:_,refs:I,elements:E}),[m,I,E,_])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var tg=function(e,n){return tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},tg(e,n)};function ot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ge=function(){return ge=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ge.apply(this,arguments)};function Hn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var N6=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return P.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},O6=function(t,e){var n=O.useRef(null),r=O.useRef(t);r.current=t;var i=O.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return O.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Uh=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=O6(n,o);return P.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},z;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(z||(z={}));function LP(){var t=typeof window<"u"?window:globalThis;return t}var ru=12;function we(t){if(t==null)return new Date;var e=typeof t=="string"?dj(t):G(t);return Bh(e)?e:new Date}function dp(t,e,n,r,i){i===void 0&&(i=we());for(var s=jo(n)||jo(Dv()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var c=l[a],d=sj(t,c,i,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Bh(d)&&(!r||t===Ne(d,c,n)))return d}return null}function Bh(t,e){return bd(t)&&!_s(t,new Date("1/1/1800"))}function Ne(t,e,n){if(n==="en")return Xm(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?jo(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||jo(Dv()),Xm(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function hn(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Ne(t,i,r)||""}function V6(t,e,n){if(!t)return"";var r=hn(t,n),i=e?hn(e,n):"";return"".concat(r," - ").concat(i)}function L6(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?hn(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=hn(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function hp(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return Ic(Cc(Pc(t,a),s),r)}function F6(t){return mv(t)}function U6(t,e){return Ne(t,"ddd",e)}function xc(t){return vs(t)}function vi(t,e,n){var r=jo(e||Dv());return Rr(t,{locale:r,weekStartsOn:n})}function Er(t){return cP(t)}function La(t){return Mh(t)}function RT(t){return Km(t)}function MT(){return vs(we())}function NT(t){return lP(t)}function B6(t){return pB(t)}function j6(t){return uP(t)}function Un(t,e){return t&&e?uj(t,e):!t&&!e}function Rt(t,e){return t&&e?aj(t,e):!t&&!e}function jd(t,e){return t&&e?lj(t,e):!t&&!e}function me(t,e){return t&&e?hB(t,e):!t&&!e}function es(t,e){return t&&e?c9(t,e):!t&&!e}function Fa(t,e,n){var r,i=vs(e),s=lP(n);try{r=bl(t,{start:i,end:s})}catch{r=!1}return r}function Dv(){var t=LP();return t.__localeId__}function jo(t){if(typeof t=="string"){var e=LP();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function W6(t,e,n){return e(Ne(t,"EEEE",n))}function z6(t,e){return Ne(t,"EEEEEE",e)}function H6(t,e){return Ne(t,"EEE",e)}function Iv(t,e){return Ne(fn(we(),t),"LLLL",e)}function FP(t,e){return Ne(fn(we(),t),"LLL",e)}function $6(t,e){return Ne(Bs(we(),t),"QQQ",e)}function gn(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return iu(t,{minDate:r,maxDate:i})||s&&s.some(function(d){return d instanceof Date?me(t,d):me(t,d.date)})||o&&o.some(function(d){var h=d.start,f=d.end;return bl(t,{start:h,end:f})})||a&&!a.some(function(d){return me(t,d)})||l&&!l.some(function(d){var h=d.start,f=d.end;return bl(t,{start:h,end:f})})||c&&!c(we(t))||!1}function Cv(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return bl(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?me(t,s):me(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function UP(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return iu(t,{minDate:r?cP(r):void 0,maxDate:i?uP(i):void 0})||(s==null?void 0:s.some(function(l){return Rt(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Rt(t,l)})||a&&!a(we(t))||!1}function Xu(t,e,n,r){var i=le(t),s=Mt(t),o=le(e),a=Mt(e),l=le(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Y6(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return iu(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return Rt(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return Rt(a,t)})||!1}function Ju(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return iu(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return jd(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return jd(t,l)})||a&&!a(we(t))||!1}function Zu(t,e,n){if(!e||!n||!bd(e)||!bd(n))return!1;var r=le(e),i=le(n);return r<=t&&i>=t}function bc(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return iu(l,{minDate:r?Mh(r):void 0,maxDate:i?dP(i):void 0})||(s==null?void 0:s.some(function(c){return Un(l,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Un(l,c)})||a&&!a(we(l))||!1}function ec(t,e,n,r){var i=le(t),s=is(t),o=le(e),a=is(e),l=le(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function iu(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&Vo(t,i)<0||s&&Vo(t,s)>0)!==null&&n!==void 0?n:!1}function OT(t,e){return e.some(function(n){return _r(n)===_r(t)&&wr(n)===wr(t)&&yi(n)===yi(t)})}function VT(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&OT(t,r)||i&&!OT(t,i)||s&&!s(t)||!1}function LT(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=we();i=Ic(i,_r(t)),i=Cc(i,wr(t)),i=Pc(i,yi(t));var s=we();s=Ic(s,_r(n)),s=Cc(s,wr(n)),s=Pc(s,yi(n));var o=we();o=Ic(o,_r(r)),o=Cc(o,wr(r)),o=Pc(o,yi(r));var a;try{a=!bl(i,{start:s,end:o})}catch{a=!1}return a}function FT(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=ss(t,1);return r&&Rd(r,s)>0||i&&i.every(function(o){return Rd(o,s)>0})||!1}function UT(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Nn(t,1);return r&&Rd(s,r)>0||i&&i.every(function(o){return Rd(s,o)>0})||!1}function q6(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Mh(t),o=TP(s,1);return r&&Md(r,o)>0||i&&i.every(function(a){return Md(a,o)>0})||!1}function K6(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=dP(t),o=pv(s,1);return r&&Md(o,r)>0||i&&i.every(function(a){return Md(o,a)>0})||!1}function BT(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Lo(t,1);return r&&Nd(r,s)>0||i&&i.every(function(o){return Nd(o,s)>0})||!1}function Q6(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?ru:i,o=La(Lo(t,s)),a=ti(o,s).endPeriod,l=r&&le(r);return l&&l>a||!1}function jT(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=yr(t,1);return r&&Nd(s,r)>0||i&&i.every(function(o){return Nd(s,o)>0})||!1}function G6(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?ru:i,o=yr(t,s),a=ti(o,s).startPeriod,l=r&&le(r);return l&&l<a||!1}function BP(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Vo(i,e)>=0});return gT(r)}else return n?gT(n):e}function jP(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Vo(i,e)<=0});return mT(r)}else return n?mT(n):e}function WT(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(vr(o)){var a=Ne(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),d=(n=c[0])!==null&&n!==void 0?n:"",h=o[d];if(typeof d=="string"&&Array.isArray(h))for(var f=0,m=h.length;f<m;f++){var v=h[f];if(v){var a=Ne(v,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(d)||(l.push(d),r.set(a,l))}}}}return r}function X6(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function J6(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(vr(i)){var o=Ne(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&X6(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?Hn(Hn([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function Z6(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,c=i[a];c&&(l=lB(l,_r(c)),l=qm(l,wr(c)),l=dB(l,yi(c)));var d=qm(t,(n+1)*r);xi(l,e)&&_s(l,d)&&c!=null&&o.push(c)}return o}function zT(t){return t<10?"0".concat(t):"".concat(t)}function ti(t,e){e===void 0&&(e=ru);var n=Math.ceil(le(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function e5(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function HT(t){var e=t.getSeconds(),n=t.getMilliseconds();return G(t.getTime()-e*1e3-n)}function t5(t,e){return HT(t).getTime()===HT(e).getTime()}function $T(t){if(!vr(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function YT(t,e){if(!vr(t)||!vr(e))throw new Error("Invalid date received");var n=$T(t),r=$T(e);return _s(n,r)}function WP(t){return t.key===z.Space}var n5=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=P.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var d=i.split(":"),h=d[0],f=d[1];c.setHours(Number(h)),c.setMinutes(Number(f))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?O.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):P.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return P.createElement("div",{className:"react-datepicker__input-time-container"},P.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),P.createElement("div",{className:"react-datepicker-time__input-container"},P.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(O.Component),r5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=O.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===z.Space&&(r.preventDefault(),r.key=z.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return me(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),gn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Cv(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return me(n.props.day,vi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&me(r,vi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Ne(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Ne(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Fa(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,d=i.startDate,h=i.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!f||!c&&n.isDisabled()?!1:o&&h&&(_s(f,h)||es(f,h))?Fa(s,f,h):a&&d&&(xi(f,d)||es(f,d))||l&&d&&!h&&(xi(f,d)||es(f,d))?Fa(s,d,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?me(s,l):me(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?me(s,c):me(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:me(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:me(o,i)},n.isWeekend=function(){var r=o9(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Mt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Mt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(we())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return dt("react-datepicker__day",i,"react-datepicker__day--"+U6(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:o;return"".concat(c," ").concat(Ne(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=Ne(i,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(d){return d instanceof Date?me(d,i):me(d==null?void 0:d.date,i)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&me(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(TT(n.props.day),n.props.day):TT(n.props.day)},n.render=function(){return P.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&P.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(O.Component),i5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=O.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===z.Space&&(r.preventDefault(),r.key=z.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!me(n.props.date,n.props.selected)&&me(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||me(n.props.date,n.props.selected)&&me(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&me(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&me(this.props.date,this.props.selected)};return P.createElement("div",{ref:this.weekNumberEl,className:dt(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(O.Component),s5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return gn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,c=new Date(r),d=0;d<7;d++){var h=new Date(r);h.setDate(h.getDate()+d);var f=!n.isDisabled(h);if(f){c=h;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,s),n.props.showWeekPicker&&n.handleDayClick(c,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):F6(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=xn(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=xn(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(P.createElement(i5,ge({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=xn(r,a);return P.createElement(r5,ge({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return vi(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!me(n.startOfWeek(),n.props.selected)&&me(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":me(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return P.createElement("div",{className:dt(n)},this.renderDays())},e}(O.Component),Ca,o5=6,go={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},fp=(Ca={},Ca[go.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ca[go.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ca[go.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ca),tc=1;function qT(t,e){return t?go.FOUR_COLUMNS:e?go.TWO_COLUMNS:go.THREE_COLUMNS}var a5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=Hn([],Array(12),!0).map(function(){return O.createRef()}),n.QUARTER_REFS=Hn([],Array(4),!0).map(function(){return O.createRef()}),n.isDisabled=function(r){return gn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Cv(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Rt(fn(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:jd(Bs(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Rt(fn(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:jd(Bs(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&h?Xu(f,h,r,o):l&&d||c&&d&&!h?Xu(d,f,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,c=fn(o,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Rt(c,d):Rt(c,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=fn(o,r),h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||c?Rt(d,h):Rt(d,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&h?ec(f,h,r,o):l&&d||c&&d&&!h?ec(d,f,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=xn(r,6);return Rt(r,i)||Rt(s,i)},n.isCurrentMonth=function(r,i){return le(r)===le(we())&&i===Mt(we())},n.isCurrentQuarter=function(r,i){return le(r)===le(we())&&i===is(we())},n.isSelectedMonth=function(r,i,s){return Mt(s)===i&&le(r)===le(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return is(r)===i&&le(r)===le(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=vi(Er(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(v){return n.props.showWeekPicker?vi(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(v){return n.props.showWeekPicker?vi(v,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?c(n.props.selected):void 0,h=n.props.preSelection?l(n.props.preSelection):void 0;r.push(P.createElement(s5,ge({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:Mt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=xd(a,1);var f=i&&s>=o5,m=!i&&!n.isWeekInMonth(a);if(f||m)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Er(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Er(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,c=a.preSelection,d=a.setPreSelection,h=a.minDate,f=a.maxDate,m=a.showFourColumnMonthYearPicker,v=a.showTwoColumnMonthYearPicker;if(c){var w=qT(m,v),I=n.getVerticalOffset(w),E=(o=fp[w])===null||o===void 0?void 0:o.grid,_=function(D,y,k){var C,b,R=y,A=k;switch(D){case z.ArrowRight:R=Nn(y,tc),A=k===11?0:k+tc;break;case z.ArrowLeft:R=ss(y,tc),A=k===0?11:k-tc;break;case z.ArrowUp:R=ss(y,I),A=!((C=E==null?void 0:E[0])===null||C===void 0)&&C.includes(k)?k+12-I:k-I;break;case z.ArrowDown:R=Nn(y,I),A=!((b=E==null?void 0:E[E.length-1])===null||b===void 0)&&b.includes(k)?k-12+I:k+I;break}return{newCalculatedDate:R,newCalculatedMonth:A}},T=function(D,y,k){for(var C=40,b=D,R=!1,A=0,X=_(b,y,k),ae=X.newCalculatedDate,$=X.newCalculatedMonth;!R;){if(A>=C){ae=y,$=k;break}if(h&&ae<h){b=z.ArrowRight;var Z=_(b,ae,$);ae=Z.newCalculatedDate,$=Z.newCalculatedMonth}if(f&&ae>f){b=z.ArrowLeft;var Z=_(b,ae,$);ae=Z.newCalculatedDate,$=Z.newCalculatedMonth}if(Y6(ae,n.props)){var Z=_(b,ae,$);ae=Z.newCalculatedDate,$=Z.newCalculatedMonth}else R=!0;A++}return{newCalculatedDate:ae,newCalculatedMonth:$}};if(i===z.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),d==null||d(l));return}var x=T(i,c,s),N=x.newCalculatedDate,V=x.newCalculatedMonth;switch(i){case z.ArrowRight:case z.ArrowLeft:case z.ArrowUp:case z.ArrowDown:n.handleMonthNavigation(V,N);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=fp[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==z.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=Bs(n.props.day,i);Ju(s,n.props)||n.handleDayClick(RT(s),r)},n.onQuarterMouseEnter=function(r){var i=Bs(n.props.day,r);Ju(i,n.props)||n.handleDayMouseEnter(RT(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case z.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case z.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,pv(n.props.preSelection,1));break;case z.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,TP(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,h=fn(o,r);return{isDisabled:(i=(a||l||c||d)&&UP(h,n.props))!==null&&i!==void 0?i:!1,labelDate:h}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,d=c?c(fn(s,r)):void 0,h=n.getSelection();return dt("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":h?n.isSelectMonthInList(s,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?Xu(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Mt(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=is(n.props.preSelection),s=Ju(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,d=i.locale,h=fn(c,r),f=n.isDisabled(h)||n.isExcluded(h)?l:o;return"".concat(f," ").concat(Ne(h,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,d=i.maxDate,h=i.excludeDates,f=i.includeDates,m=i.filterDate,v=i.preSelection,w=i.disabledKeyboardNavigation,I=(c||d||h||f||m)&&Ju(Bs(s,r),n.props);return dt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&v&&n.isSelectedQuarter(s,r,v)&&!I,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?ec(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,c=FP(r,a),d=Iv(r,a);return o?o(r,c,d,l):s?d:c},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=$6(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=fp[qT(o,s)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,h){return P.createElement("div",{className:"react-datepicker__month-wrapper",key:h},d.map(function(f,m){return P.createElement("div",{ref:n.MONTH_REFS[f],key:m,onClick:function(v){n.onMonthClick(v,f)},onKeyDown:function(v){WP(v)&&(v.preventDefault(),v.key=z.Enter),n.onMonthKeyDown(v,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,f,l):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return P.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return P.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return dt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return P.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Ne(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(O.Component),l5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return P.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?P.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return P.createElement(Uh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(O.Component),u5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return P.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return P.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return P.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},P.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return P.createElement(l5,ge({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return FP(s,n.props.locale)}:function(s){return Iv(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return P.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(O.Component);function c5(t,e){for(var n=[],r=Er(t),i=Er(e);!xi(r,i);)n.push(we(r)),r=Nn(r,1);return n}var d5=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=Jm(i),o=Un(r.props.date,i)&&Rt(r.props.date,i);return P.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?P.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ne(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:c5(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=dt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return P.createElement(Uh,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(O.Component),h5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Er(n.props.minDate),i=Er(n.props.maxDate),s=[];!xi(r,i);){var o=Jm(r);s.push(P.createElement("option",{key:o,value:o},Ne(r,n.props.dateFormat,n.props.locale))),r=Nn(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return P.createElement("select",{value:Jm(Er(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Ne(n.props.date,n.props.dateFormat,n.props.locale);return P.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},P.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return P.createElement(d5,ge({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=we(r);Un(n.props.date,i)&&Rt(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return P.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(O.Component),f5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&LT(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&VT(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&t5(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&LT(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&VT(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(_r(r)*3600+wr(r)*60+yi(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===z.Space&&(r.preventDefault(),r.key=z.Enter),(r.key===z.ArrowUp||r.key===z.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===z.ArrowDown||r.key===z.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===z.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||we(),l=xc(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(I,E){return I.getTime()-E.getTime()}),d=60*e5(a),h=d/o,f=0;f<h;f++){var m=qm(l,f*o);if(i.push(m),c){var v=Z6(l,m,f,o,c);i=i.concat(v)}}var w=i.reduce(function(I,E){return E.getTime()<=a.getTime()?E:I},i[0]);return i.map(function(I){return P.createElement("li",{key:I.valueOf(),onClick:n.handleClick.bind(n,I),className:n.liClasses(I),ref:function(E){I===w&&(n.centerLi=E)},onKeyDown:function(E){n.handleOnKeyDown(E,I)},tabIndex:I===w?0:-1,role:"option","aria-selected":n.isSelectedTime(I)?"true":void 0,"aria-disabled":n.isDisabledTime(I)?"true":void 0},Ne(I,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?P.createElement(P.Fragment,null):P.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},P.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return P.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),P.createElement("div",{className:"react-datepicker__time"},P.createElement("div",{className:"react-datepicker__time-box"},P.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(O.Component),KT=3,p5=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=Hn([],Array(r.props.yearItemNumber),!0).map(function(){return O.createRef()}),r.isDisabled=function(i){return gn(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return Cv(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,c,d=r.props,h=d.date,f=d.yearItemNumber;if(!(h===void 0||f===void 0)){var m=ti(h,f).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-m<0?r.updateFocusOnPaginate(f-(m-i)):i-m>=f?r.updateFocusOnPaginate(Math.abs(f-(i-m))):(c=(l=r.YEAR_REFS[i-m])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,s){return me(i,s)},r.isCurrentYear=function(i){return i===le(we())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Un(Fn(we(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Un(Fn(we(),i),r.props.endDate)},r.isInRange=function(i){return Zu(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,d=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?Zu(i,r.selectingDate(),d):a&&c||l&&c&&!d?Zu(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=Fn(we(),i);return l?Un(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):Un(c,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,d=Fn(we(),i);return l||c?Un(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):Un(d,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,c=s.includeDates,d=s.filterDate,h=La(Fn(r.props.date,i)),f=(o||a||l||c||d)&&bc(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!me(h,La(r.props.selected))&&me(h,La(r.props.preSelection))&&!f}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(La(Fn(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,c=r.props,d=c.date,h=c.yearItemNumber,f=c.handleOnKeyDown;if(l!==z.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case z.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case z.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,yr(r.props.preSelection,1));break;case z.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Lo(r.props.preSelection,1));break;case z.ArrowUp:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var m=ti(d,h).startPeriod,v=KT,w=s-v;if(w<m){var I=h%v;s>=m&&s<m+I?v=I:v+=I,w=s-v}r.handleYearNavigation(w,Lo(r.props.preSelection,v));break}case z.ArrowDown:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var E=ti(d,h).endPeriod,v=KT,w=s+v;if(w>E){var I=h%v;s<=E&&s>E-I?v=I:v+=I,w=s+v}r.handleYearNavigation(w,yr(r.props.preSelection,v));break}}f&&f(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.selected,d=s.excludeDates,h=s.includeDates,f=s.filterDate,m=s.yearClassName;return dt("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(Fn(o,i)):void 0,{"react-datepicker__year-text--selected":c?i===le(c):void 0,"react-datepicker__year-text--disabled":(a||l||d||h||f)&&bc(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=le(r.props.preSelection),o=bc(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var c=ti(s,o),d=c.startPeriod,h=c.endPeriod,f=function(w){r.push(P.createElement("div",{ref:m.YEAR_REFS[w-d],onClick:function(I){n.onYearClick(I,w)},onKeyDown:function(I){WP(I)&&(I.preventDefault(),I.key=z.Enter),n.onYearKeyDown(I,w)},tabIndex:Number(m.getYearTabIndex(w)),className:m.getYearClassNames(w),onMouseEnter:m.props.usePointerEvent?void 0:function(I){return a(I,w)},onPointerEnter:m.props.usePointerEvent?function(I){return a(I,w)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(I){return l(I,w)},onPointerLeave:m.props.usePointerEvent?function(I){return l(I,w)}:void 0,key:w,"aria-current":m.isCurrentYear(w)?"date":void 0},m.getYearContent(w)))},m=this,v=d;v<=h;v++)f(v);return P.createElement("div",{className:"react-datepicker__year"},P.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(O.Component);function m5(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=le(n)<=o),r&&a&&(a=le(r)>=o),a&&i.push(o)}return i}var g5=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return P.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?P.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),c=r.props.minDate?le(r.props.minDate):null,d=r.props.maxDate?le(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(h){return h===d}))&&l.unshift(P.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},P.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(P.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},P.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:m5(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=O.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=dt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return P.createElement(Uh,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(O.Component),y5=function(t){ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?le(n.props.minDate):1900,i=n.props.maxDate?le(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(P.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return P.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return P.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},P.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return P.createElement(g5,ge({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return P.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(O.Component),v5=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],_5=function(t){var e=(t.className||"").split(/\s+/);return v5.some(function(n){return e.indexOf(n)>=0})},w5=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;_5(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=BP(r.props),c=jP(r.props),d=we(),h=a||o||s;return h||(l&&_s(d,l)?l:c&&xi(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Nn(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:ss(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:Fn(we(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!gn(i,r.props))return i;for(var s=Er(i),o=j6(i),a=fB(o,s),l=null,c=0;c<=a;c++){var d=xn(s,c);if(!gn(d,r.props)){l=d;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:Fn(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:fn(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:Fn(fn(o,Mt(i)),le(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=vi(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(P.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=xn(s,a),c=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return P.createElement("div",{key:a,"aria-label":Ne(l,"EEEE",r.props.locale),className:dt("react-datepicker__day-name",d)},c)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?W6(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?H6(i,s):z6(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Lo(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=ss(r.state.date,c),h;switch(!0){case r.props.showMonthYearPicker:h=BT(r.state.date,r.props);break;case r.props.showYearPicker:h=Q6(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=q6(r.state.date,r.props);break;default:h=FT(d,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),v=void 0);var w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,I=r.props,E=I.previousMonthButtonLabel,_=E===void 0?e.defaultProps.previousMonthButtonLabel:E,T=I.previousYearButtonLabel,x=T===void 0?e.defaultProps.previousYearButtonLabel:T,N=r.props,V=N.previousMonthAriaLabel,D=V===void 0?typeof _=="string"?_:"Previous Month":V,y=N.previousYearAriaLabel,k=y===void 0?typeof x=="string"?x:"Previous Year":y;return P.createElement("button",{type:"button",className:m.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":w?k:D},P.createElement("span",{className:f.join(" ")},w?x:_))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:yr(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=jT(r.state.date,r.props);break;case r.props.showYearPicker:s=G6(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=K6(r.state.date,r.props);break;default:s=UT(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,h=d.nextMonthButtonLabel,f=h===void 0?e.defaultProps.nextMonthButtonLabel:h,m=d.nextYearButtonLabel,v=m===void 0?e.defaultProps.nextYearButtonLabel:m,w=r.props,I=w.nextMonthAriaLabel,E=I===void 0?typeof f=="string"?f:"Next Month":I,_=w.nextYearAriaLabel,T=_===void 0?typeof v=="string"?v:"Next Year":_;return P.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?T:E},P.createElement("span",{className:a.join(" ")},c?v:f))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),P.createElement("h2",{className:s.join(" ")},Ne(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return P.createElement(y5,ge({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:le(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return P.createElement(u5,ge({},e.defaultProps,r.props,{month:Mt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return P.createElement(h5,ge({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(MT(),i),r.props.setPreSelection&&r.props.setPreSelection(MT())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return P.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return P.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),P.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),P.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=FT(r.state.date,r.props),d=UT(r.state.date,r.props),h=BT(r.state.date,r.props),f=jT(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return P.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,ge(ge({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:d,prevYearButtonDisabled:h,nextYearButtonDisabled:f})),m&&P.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,d=ti(s,c),h=d.startPeriod,f=d.endPeriod;return P.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(f):le(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?yr(r.state.date,l):ss(r.state.date,l),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,h=0;h<a;++h){var f=h-d+l,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?yr(c,f):Nn(c,f),v="month-".concat(h),w=h<a-1,I=h>0;o.push(P.createElement("div",{key:v,ref:function(E){r.monthContainer=E??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:h}),P.createElement(a5,ge({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:I}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return P.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),P.createElement(p5,ge({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return P.createElement(f5,ge({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Bh(i)&&!!r.props.selected,o=s?"".concat(zT(i.getHours()),":").concat(zT(i.getMinutes())):"";if(r.props.showTimeInput)return P.createElement(n5,ge({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=ti(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=le(r.state.date):l="".concat(Iv(Mt(r.state.date),r.props.locale)," ").concat(le(r.state.date)),P.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return P.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=O.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ru}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!me(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Rt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!me(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||N6;return P.createElement(Uh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},P.createElement("div",{style:{display:"contents"},ref:this.containerRef},P.createElement(n,{className:dt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(O.Component),E5=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return P.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(P.isValidElement(e)){var o=e;return P.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return P.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},P.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},zP=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Wb.createPortal(this.props.children,this.el)},e}(O.Component),T5="[tabindex], a, button, input, select, textarea",S5=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},HP=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(T5),1,-1).filter(S5)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=O.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?P.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},P.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,P.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(O.Component);function k5(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=O.useRef(null),o=M6(ge({open:!i,whileElementsMounted:d6,placement:n.popperPlacement,middleware:Hn([v6({padding:15}),y6(10),_6({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=ge(ge({},n),{hidePopper:i,popperProps:ge(ge({},o),{arrowRef:s})});return P.createElement(t,ge({},a))};return e}var D5=function(t){ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,d=n.popperOnKeyDown,h=n.portalId,f=n.portalHost,m=n.popperProps,v=n.showArrow,w=void 0;if(!o){var I=dt("react-datepicker-popper",r);w=P.createElement(HP,{enableTabLoop:c},P.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:I,"data-placement":m.placement,onKeyDown:d},a,v&&P.createElement(I6,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(w=O.createElement(this.props.popperContainer,{},w)),h&&!o&&(w=P.createElement(zP,{portalId:h,portalHost:f},w));var E=dt("react-datepicker-wrapper",i);return P.createElement(P.Fragment,null,P.createElement("div",{ref:m.refs.setReference,className:E},l),w)},e}(O.Component),I5=k5(D5),QT="react-datepicker-ignore-onclickoutside";function C5(t,e){return t&&e?Mt(t)!==Mt(e)||le(t)!==le(e):t!==e}var pp="Date input not valid.",P5=function(t){ot(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:we()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Bh(a)?Hn(Hn([],s,!0),[ge(ge({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=BP(r.props),a=jP(r.props),l=o&&_s(s,xc(o))?o:a&&xi(s,NT(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:WT(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ge(ge({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ge(ge({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:mp},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return vr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,l,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var h=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:A5});var f=r.props,m=f.selectsRange,v=f.startDate,w=f.endDate,I=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,E=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,_=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(m){var T=_.split("-",2).map(function(b){return b.trim()}),x=T[0],N=T[1],V=dp(x??"",I,r.props.locale,E),D=dp(N??"",I,r.props.locale,E),y=(v==null?void 0:v.getTime())!==(V==null?void 0:V.getTime()),k=(w==null?void 0:w.getTime())!==(D==null?void 0:D.getTime());if(!y&&!k||V&&gn(V,r.props)||D&&gn(D,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[V,D],h)}else{var C=dp(_,I,r.props.locale,E,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(C||!_)&&r.setSelected(C,h,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!YT(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,c,d=i;if(r.props.showYearPicker){if(d!==null&&bc(le(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&UP(d,r.props))return}else if(d!==null&&gn(d,r.props))return;var h=r.props,f=h.onChange,m=h.selectsRange,v=h.startDate,w=h.endDate,I=h.selectsMultiple,E=h.selectedDates,_=h.minTime,T=h.swapRange;if(!es(r.props.selected,d)||r.props.allowSameDay||m||I)if(d!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=hp(d,{hour:_r(r.props.selected),minute:wr(r.props.selected),second:yi(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(d=hp(d,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),m){var x=!v&&!w,N=v&&!w,V=v&&w;x?f==null||f([d,null],s):N&&(d===null?f==null||f([null,null],s):YT(d,v)?T?f==null||f([d,v],s):f==null||f([d,null],s):f==null||f([v,d],s)),V&&(f==null||f([d,null],s))}else if(I){if(d!==null)if(!(E!=null&&E.length))f==null||f([d],s);else{var D=E.some(function(k){return me(k,d)});if(D){var y=E.filter(function(k){return!me(k,d)});f==null||f(y,s)}else f==null||f(Hn(Hn([],E,!0),[d],!1),s)}}else f==null||f(d,s);o||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=vr(r.props.minDate),o=vr(r.props.maxDate),a=!0;if(i){var l=xc(i);if(s&&o)a=Fa(i,r.props.minDate,r.props.maxDate);else if(s){var c=xc(r.props.minDate);a=xi(i,c)||es(l,c)}else if(o){var d=NT(r.props.maxDate);a=_s(i,d)||es(l,d)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:hp(a,{hour:_r(i),minute:wr(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,c,d;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var h=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===z.ArrowDown||h===z.ArrowUp||h===z.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===z.ArrowDown||h===z.ArrowUp){i.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var v=we(r.state.preSelection);h===z.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===mp?(r.handleSelect(v,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):h===z.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===z.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:pp})}},r.onPortalKeyDown=function(i){var s=i.key;s===z.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,c,d,h=r.props,f=h.minDate,m=h.maxDate,v=h.disabledKeyboardNavigation,w=h.showWeekPicker,I=h.shouldCloseOnSelect,E=h.locale,_=h.calendarStartDay,T=h.adjustDateOnChange,x=h.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!v){var N=i.key,V=i.shiftKey,D=we(r.state.preSelection),y=function(ae,$){var Z=$;switch(ae){case z.ArrowRight:Z=w?xd($,1):xn($,1);break;case z.ArrowLeft:Z=w?ST($,1):cj($,1);break;case z.ArrowUp:Z=ST($,1);break;case z.ArrowDown:Z=xd($,1);break;case z.PageUp:Z=V?Lo($,1):ss($,1);break;case z.PageDown:Z=V?yr($,1):Nn($,1);break;case z.Home:Z=vi($,E,_);break;case z.End:Z=B6($);break}return Z},k=function(ae,$){for(var Z=40,F=ae,H=!1,ee=0,J=y(ae,$);!H;){if(ee>=Z){J=$;break}f&&J<f&&(F=z.ArrowRight,J=gn(f,r.props)?y(F,J):f),m&&J>m&&(F=z.ArrowLeft,J=gn(m,r.props)?y(F,J):m),gn(J,r.props)?((F===z.PageUp||F===z.Home)&&(F=z.ArrowRight),(F===z.PageDown||F===z.End)&&(F=z.ArrowLeft),J=y(F,J)):H=!0,ee++}return J};if(N===z.Enter){i.preventDefault(),r.handleSelect(D,i),!I&&r.setPreSelection(D);return}else if(N===z.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:pp});return}var C=null;switch(N){case z.ArrowLeft:case z.ArrowRight:case z.ArrowUp:case z.ArrowDown:case z.PageUp:case z.PageDown:case z.Home:case z.End:C=k(N,D);break}if(!C){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:pp});return}if(i.preventDefault(),r.setState({lastPreSelectChange:mp}),T&&r.setSelected(C),r.setPreSelection(C),x){var b=Mt(D),R=Mt(C),A=le(D),X=le(C);b!==R||A!==X?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===z.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:P.createElement(w5,ge({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:J6(r.modifyHolidays()),outsideClickIgnoreClass:QT,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(hn(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+hn(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(hn(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?d="Selected year: ".concat(hn(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?d="Selected month: ".concat(hn(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(hn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):d="Selected date: ".concat(hn(r.props.selected,{dateFormat:c,locale:a})),P.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var i,s,o,a=dt(r.props.className,(i={},i[QT]=r.state.open,i)),l=r.props.customInput||P.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",d=r.props,h=d.dateFormat,f=h===void 0?e.defaultProps.dateFormat:h,m=d.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?V6(r.props.startDate,r.props.endDate,{dateFormat:f,locale:m}):r.props.selectsMultiple?L6((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:f,locale:m}):hn(r.props.selected,{dateFormat:f,locale:m});return O.cloneElement(l,(s={},s[c]=function(w){r.input=w},s.value=v,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=dt(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,d=i.clearButtonTitle,h=i.clearButtonClassName,f=h===void 0?"":h,m=i.ariaLabelClose,v=m===void 0?"Close":m,w=i.selectedDates;return s&&(a!=null||l!=null||c!=null||w!=null&&w.length)?P.createElement("button",{type:"button",className:dt("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ru,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&C5(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:WT(this.props.highlightDates)}),!r.focused&&!es(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),P.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&P.createElement(E5,ge({icon:i,className:dt(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?P.createElement(HP,{enableTabLoop:this.props.enableTabLoop},P.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=P.createElement(zP,ge({portalId:this.props.portalId},this.props),r)),P.createElement("div",null,this.renderInputContainer(),r)}return P.createElement(I5,ge({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(O.Component),A5="input",mp="navigate";const x5=({employee:t})=>{const[e,n]=O.useState([]),[r,i]=O.useState({name:"",instructor:"",date:"",time:"",spots:0}),[s,o]=O.useState(""),[a,l]=O.useState(null),c=async()=>{try{const m=(await Gl(ys(qt,"classes"))).docs.map(v=>({id:v.id,...v.data()}));n(m)}catch(f){console.error("   :",f)}};O.useEffect(()=>{c()},[]);const d=async()=>{const{name:f,instructor:m,date:v,time:w,spots:I}=r;if(!f||!m||!v||!w||I<=0){o("    ");return}try{const E=v.split("-").reverse().join("/");await NI(ys(qt,"classes"),{name:f,instructor:m,date:E,time:w,spots:parseInt(I),createdAt:new Date}),o("   !"),i({name:"",instructor:"",date:"",time:"",spots:0}),c()}catch(E){console.error("   :",E),o("  ")}},h=async f=>{try{await Yy(Ci(qt,"classes",f)),o("  "),c()}catch(m){console.error("   :",m),o(" ")}};return(t==null?void 0:t.role)!==""?P.createElement("div",{className:"p-6"},P.createElement("h1",{className:"text-xl font-bold"}," "),P.createElement("p",null,"     .")):P.createElement("div",{className:"p-6"},P.createElement("h1",{className:"text-2xl font-bold mb-6"}," "),P.createElement("div",{className:"mb-6"},P.createElement("input",{type:"text",placeholder:" ",value:r.name,onChange:f=>i({...r,name:f.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),P.createElement("input",{type:"text",placeholder:" ",value:r.instructor,onChange:f=>i({...r,instructor:f.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),P.createElement(P5,{selected:a,onChange:f=>{l(f),i({...r,date:Xm(f,"dd/MM/yyyy")})},dateFormat:"dd/MM/yyyy",placeholderText:" ",className:"block w-full p-2 mb-3 border rounded text-black"}),P.createElement("input",{type:"time",value:r.time,onChange:f=>i({...r,time:f.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),P.createElement("input",{type:"number",placeholder:"  ",value:r.spots,onChange:f=>i({...r,spots:f.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),P.createElement("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," "),s&&P.createElement("p",{className:"mt-3 text-green-600"},s)),P.createElement("div",null,P.createElement("h2",{className:"text-lg font-bold mb-2"}," "),P.createElement("ul",null,e.map(f=>P.createElement("li",{key:f.id,className:"flex justify-between items-center p-2 border-b"},P.createElement("div",null,P.createElement("p",null,P.createElement("strong",null,f.name),"  ",f.instructor),P.createElement("p",null,f.date,"  ",f.time," |  : ",f.spots)),P.createElement("button",{onClick:()=>h(f.id),className:"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 text-sm"},""))))))},b5=()=>{const[t,e]=O.useState(!0),[n,r]=O.useState("home"),[i,s]=O.useState(null);if(O.useEffect(()=>{const l=setTimeout(()=>{console.log("   -  "),e(!1)},2e3);return()=>clearTimeout(l)},[]),O.useEffect(()=>{const l=localStorage.getItem("employeePhone"),c=localStorage.getItem("employeeRole");l&&c&&(console.log("  :",l),s({phone:l,role:c}))},[]),t)return P.createElement(zb,null);const o=()=>{localStorage.removeItem("employeePhone"),localStorage.removeItem("employeeRole"),s(null),r("home")},a=()=>{if(!i)return P.createElement(iB,{onLogin:l=>{localStorage.setItem("employeePhone",l.phone),localStorage.setItem("employeeRole",l.role),s(l)}});switch(n){case"home":return P.createElement(hT,{employee:i});case"schedule":return P.createElement(nB,{employee:i});case"bookings":return P.createElement(rB,{employee:i});case"admin":return P.createElement(sB,{employee:i});case"adminClasses":return P.createElement(x5,{employee:i});default:return P.createElement(hT,{employee:i})}};return P.createElement("div",{className:"min-h-screen bg-background text-text",dir:"rtl"},P.createElement("header",{className:"flex justify-center items-center bg-white shadow-md py-4"},P.createElement("img",{src:ak,alt:"Milan Pilates Logo",className:"h-16 mr-4"}),P.createElement("h1",{className:"text-xl font-bold text-primary"},"Milan Pilates")),P.createElement("main",{className:"pb-20 p-4"},a()),i&&P.createElement("nav",{className:"fixed bottom-0 right-0 left-0 bg-white shadow-md z-10"},P.createElement("div",{className:"flex justify-around"},P.createElement("button",{onClick:()=>r("home"),className:`p-3 flex flex-col items-center ${n==="home"?"text-primary":"text-muted"}`},P.createElement(Z3,{size:20}),P.createElement("span",{className:"text-xs mt-1"},"")),P.createElement("button",{onClick:()=>r("schedule"),className:`p-3 flex flex-col items-center ${n==="schedule"?"text-primary":"text-muted"}`},P.createElement(G3,{size:20}),P.createElement("span",{className:"text-xs mt-1"}," ")),P.createElement("button",{onClick:()=>r("bookings"),className:`p-3 flex flex-col items-center ${n==="bookings"?"text-primary":"text-muted"}`},P.createElement(fT,{size:20}),P.createElement("span",{className:"text-xs mt-1"}," ")),(i==null?void 0:i.role)===""&&P.createElement(P.Fragment,null,P.createElement("button",{onClick:()=>r("admin"),className:`p-3 flex flex-col items-center ${n==="admin"?"text-secondary":"text-muted"}`},P.createElement(tB,{size:20}),P.createElement("span",{className:"text-xs mt-1"},"")),P.createElement("button",{onClick:()=>r("adminClasses"),className:`p-3 flex flex-col items-center ${n==="adminClasses"?"text-secondary":"text-muted"}`},P.createElement(fT,{size:20}),P.createElement("span",{className:"text-xs mt-1"},""))),P.createElement("button",{onClick:o,className:"p-3 flex flex-col items-center text-red-500"},P.createElement(eB,{size:20}),P.createElement("span",{className:"text-xs mt-1"},"")))))};gp.createRoot(document.getElementById("root")).render(P.createElement(P.StrictMode,null,P.createElement(b5,null)));
