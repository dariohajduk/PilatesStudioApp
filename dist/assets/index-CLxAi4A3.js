var XP=Object.defineProperty;var JP=(r,e,t)=>e in r?XP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var me=(r,e,t)=>JP(r,typeof e!="symbol"?e+"":e,t);function ZP(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Gg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tm={exports:{}},Tu={},Em={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function ex(){if(V0)return Le;V0=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,C={};function x(L,Z,Se){this.props=L,this.context=Z,this.refs=C,this.updater=Se||E}x.prototype.isReactComponent={},x.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function U(){}U.prototype=x.prototype;function B(L,Z,Se){this.props=L,this.context=Z,this.refs=C,this.updater=Se||E}var F=B.prototype=new U;F.constructor=B,D(F,x.prototype),F.isPureReactComponent=!0;var H=Array.isArray,J=Object.prototype.hasOwnProperty,ne={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function k(L,Z,Se){var Ne,Oe={},Ve=null,ze=null;if(Z!=null)for(Ne in Z.ref!==void 0&&(ze=Z.ref),Z.key!==void 0&&(Ve=""+Z.key),Z)J.call(Z,Ne)&&!b.hasOwnProperty(Ne)&&(Oe[Ne]=Z[Ne]);var Ye=arguments.length-2;if(Ye===1)Oe.children=Se;else if(1<Ye){for(var Je=Array(Ye),pt=0;pt<Ye;pt++)Je[pt]=arguments[pt+2];Oe.children=Je}if(L&&L.defaultProps)for(Ne in Ye=L.defaultProps,Ye)Oe[Ne]===void 0&&(Oe[Ne]=Ye[Ne]);return{$$typeof:r,type:L,key:Ve,ref:ze,props:Oe,_owner:ne.current}}function P(L,Z){return{$$typeof:r,type:L.type,key:Z,ref:L.ref,props:L.props,_owner:L._owner}}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function N(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Se){return Z[Se]})}var O=/\/+/g;function A(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):Z.toString(36)}function pe(L,Z,Se,Ne,Oe){var Ve=typeof L;(Ve==="undefined"||Ve==="boolean")&&(L=null);var ze=!1;if(L===null)ze=!0;else switch(Ve){case"string":case"number":ze=!0;break;case"object":switch(L.$$typeof){case r:case e:ze=!0}}if(ze)return ze=L,Oe=Oe(ze),L=Ne===""?"."+A(ze,0):Ne,H(Oe)?(Se="",L!=null&&(Se=L.replace(O,"$&/")+"/"),pe(Oe,Z,Se,"",function(pt){return pt})):Oe!=null&&(M(Oe)&&(Oe=P(Oe,Se+(!Oe.key||ze&&ze.key===Oe.key?"":(""+Oe.key).replace(O,"$&/")+"/")+L)),Z.push(Oe)),1;if(ze=0,Ne=Ne===""?".":Ne+":",H(L))for(var Ye=0;Ye<L.length;Ye++){Ve=L[Ye];var Je=Ne+A(Ve,Ye);ze+=pe(Ve,Z,Se,Je,Oe)}else if(Je=w(L),typeof Je=="function")for(L=Je.call(L),Ye=0;!(Ve=L.next()).done;)Ve=Ve.value,Je=Ne+A(Ve,Ye++),ze+=pe(Ve,Z,Se,Je,Oe);else if(Ve==="object")throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ze}function De(L,Z,Se){if(L==null)return L;var Ne=[],Oe=0;return pe(L,Ne,"","",function(Ve){return Z.call(Se,Ve,Oe++)}),Ne}function ue(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(Se){(L._status===0||L._status===-1)&&(L._status=1,L._result=Se)},function(Se){(L._status===0||L._status===-1)&&(L._status=2,L._result=Se)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var de={current:null},X={transition:null},ce={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:X,ReactCurrentOwner:ne};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:De,forEach:function(L,Z,Se){De(L,function(){Z.apply(this,arguments)},Se)},count:function(L){var Z=0;return De(L,function(){Z++}),Z},toArray:function(L){return De(L,function(Z){return Z})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=B,Le.StrictMode=n,Le.Suspense=d,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Le.act=ae,Le.cloneElement=function(L,Z,Se){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ne=D({},L.props),Oe=L.key,Ve=L.ref,ze=L._owner;if(Z!=null){if(Z.ref!==void 0&&(Ve=Z.ref,ze=ne.current),Z.key!==void 0&&(Oe=""+Z.key),L.type&&L.type.defaultProps)var Ye=L.type.defaultProps;for(Je in Z)J.call(Z,Je)&&!b.hasOwnProperty(Je)&&(Ne[Je]=Z[Je]===void 0&&Ye!==void 0?Ye[Je]:Z[Je])}var Je=arguments.length-2;if(Je===1)Ne.children=Se;else if(1<Je){Ye=Array(Je);for(var pt=0;pt<Je;pt++)Ye[pt]=arguments[pt+2];Ne.children=Ye}return{$$typeof:r,type:L.type,key:Oe,ref:Ve,props:Ne,_owner:ze}},Le.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},Le.createElement=k,Le.createFactory=function(L){var Z=k.bind(null,L);return Z.type=L,Z},Le.createRef=function(){return{current:null}},Le.forwardRef=function(L){return{$$typeof:c,render:L}},Le.isValidElement=M,Le.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:ue}},Le.memo=function(L,Z){return{$$typeof:p,type:L,compare:Z===void 0?null:Z}},Le.startTransition=function(L){var Z=X.transition;X.transition={};try{L()}finally{X.transition=Z}},Le.unstable_act=ae,Le.useCallback=function(L,Z){return de.current.useCallback(L,Z)},Le.useContext=function(L){return de.current.useContext(L)},Le.useDebugValue=function(){},Le.useDeferredValue=function(L){return de.current.useDeferredValue(L)},Le.useEffect=function(L,Z){return de.current.useEffect(L,Z)},Le.useId=function(){return de.current.useId()},Le.useImperativeHandle=function(L,Z,Se){return de.current.useImperativeHandle(L,Z,Se)},Le.useInsertionEffect=function(L,Z){return de.current.useInsertionEffect(L,Z)},Le.useLayoutEffect=function(L,Z){return de.current.useLayoutEffect(L,Z)},Le.useMemo=function(L,Z){return de.current.useMemo(L,Z)},Le.useReducer=function(L,Z,Se){return de.current.useReducer(L,Z,Se)},Le.useRef=function(L){return de.current.useRef(L)},Le.useState=function(L){return de.current.useState(L)},Le.useSyncExternalStore=function(L,Z,Se){return de.current.useSyncExternalStore(L,Z,Se)},Le.useTransition=function(){return de.current.useTransition()},Le.version="18.3.1",Le}var L0;function Xg(){return L0||(L0=1,Em.exports=ex()),Em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function tx(){if(F0)return Tu;F0=1;var r=Xg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,y={},w=null,E=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:w,ref:E,props:y,_owner:i.current}}return Tu.Fragment=t,Tu.jsx=l,Tu.jsxs=l,Tu}var U0;function nx(){return U0||(U0=1,Tm.exports=tx()),Tm.exports}var K=nx(),Y=Xg();const G=Gg(Y),rx=ZP({__proto__:null,default:G},[Y]);var Ud={},Sm={exports:{}},Pn={},km={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function ix(){return j0||(j0=1,function(r){function e(X,ce){var ae=X.length;X.push(ce);e:for(;0<ae;){var L=ae-1>>>1,Z=X[L];if(0<i(Z,ce))X[L]=ce,X[ae]=Z,ae=L;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ce=X[0],ae=X.pop();if(ae!==ce){X[0]=ae;e:for(var L=0,Z=X.length,Se=Z>>>1;L<Se;){var Ne=2*(L+1)-1,Oe=X[Ne],Ve=Ne+1,ze=X[Ve];if(0>i(Oe,ae))Ve<Z&&0>i(ze,Oe)?(X[L]=ze,X[Ve]=ae,L=Ve):(X[L]=Oe,X[Ne]=ae,L=Ne);else if(Ve<Z&&0>i(ze,ae))X[L]=ze,X[Ve]=ae,L=Ve;else break e}}return ce}function i(X,ce){var ae=X.sortIndex-ce.sortIndex;return ae!==0?ae:X.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,y=null,w=3,E=!1,D=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(X){for(var ce=t(p);ce!==null;){if(ce.callback===null)n(p);else if(ce.startTime<=X)n(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function H(X){if(C=!1,F(X),!D)if(t(d)!==null)D=!0,ue(J);else{var ce=t(p);ce!==null&&de(H,ce.startTime-X)}}function J(X,ce){D=!1,C&&(C=!1,U(k),k=-1),E=!0;var ae=w;try{for(F(ce),y=t(d);y!==null&&(!(y.expirationTime>ce)||X&&!N());){var L=y.callback;if(typeof L=="function"){y.callback=null,w=y.priorityLevel;var Z=L(y.expirationTime<=ce);ce=r.unstable_now(),typeof Z=="function"?y.callback=Z:y===t(d)&&n(d),F(ce)}else n(d);y=t(d)}if(y!==null)var Se=!0;else{var Ne=t(p);Ne!==null&&de(H,Ne.startTime-ce),Se=!1}return Se}finally{y=null,w=ae,E=!1}}var ne=!1,b=null,k=-1,P=5,M=-1;function N(){return!(r.unstable_now()-M<P)}function O(){if(b!==null){var X=r.unstable_now();M=X;var ce=!0;try{ce=b(!0,X)}finally{ce?A():(ne=!1,b=null)}}else ne=!1}var A;if(typeof B=="function")A=function(){B(O)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,De=pe.port2;pe.port1.onmessage=O,A=function(){De.postMessage(null)}}else A=function(){x(O,0)};function ue(X){b=X,ne||(ne=!0,A())}function de(X,ce){k=x(function(){X(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){D||E||(D=!0,ue(J))},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ae=w;w=ce;try{return X()}finally{w=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=w;w=X;try{return ce()}finally{w=ae}},r.unstable_scheduleCallback=function(X,ce,ae){var L=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?L+ae:L):ae=L,X){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,X={id:m++,callback:ce,priorityLevel:X,startTime:ae,expirationTime:Z,sortIndex:-1},ae>L?(X.sortIndex=ae,e(p,X),t(d)===null&&X===t(p)&&(C?(U(k),k=-1):C=!0,de(H,ae-L))):(X.sortIndex=Z,e(d,X),D||E||(D=!0,ue(J))),X},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(X){var ce=w;return function(){var ae=w;w=ce;try{return X.apply(this,arguments)}finally{w=ae}}}}(Dm)),Dm}var B0;function sx(){return B0||(B0=1,km.exports=ix()),km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function ox(){if(W0)return Pn;W0=1;var r=Xg(),e=sx();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(s){return d.call(y,s)?!0:d.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function E(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,a,u,f){if(a===null||typeof a>"u"||E(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(s,a,u,f,g,_,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=S}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];x[a]=new C(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(U,B);x[a]=new C(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(U,B);x[a]=new C(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(U,B);x[a]=new C(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,u,f){var g=x.hasOwnProperty(a)?x[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(D(a,u,g,f)&&(u=null),f||g===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),ne=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),X=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,L;function Z(s){if(L===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);L=a&&a[1]||""}return`
`+L+s}var Se=!1;function Ne(s,a){if(!s||Se)return"";Se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(q){var f=q}Reflect.construct(s,[],a)}else{try{a.call()}catch(q){f=q}s.call(a.prototype)}else{try{throw Error()}catch(q){f=q}s()}}catch(q){if(q&&f&&typeof q.stack=="string"){for(var g=q.stack.split(`
`),_=f.stack.split(`
`),S=g.length-1,R=_.length-1;1<=S&&0<=R&&g[S]!==_[R];)R--;for(;1<=S&&0<=R;S--,R--)if(g[S]!==_[R]){if(S!==1||R!==1)do if(S--,R--,0>R||g[S]!==_[R]){var V=`
`+g[S].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=S&&0<=R);break}}}finally{Se=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function Oe(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ne(s.type,!1),s;case 11:return s=Ne(s.type.render,!1),s;case 1:return s=Ne(s.type,!0),s;default:return""}}function Ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case ne:return"Portal";case P:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case N:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case O:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case De:return a=s.displayName||null,a!==null?a:Ve(s.type)||"Memo";case ue:a=s._payload,s=s._init;try{return Ve(s(a))}catch{}}return null}function ze(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(a);case 8:return a===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pt(s){var a=Je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,_.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Yt(s){s._valueTracker||(s._valueTracker=pt(s))}function zs(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Je(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function ji(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Hs(s,a){var u=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Qo(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=Ye(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Cl(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function Pl(s,a){Cl(s,a);var u=Ye(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Go(s,a.type,u):a.hasOwnProperty("defaultValue")&&Go(s,a.type,Ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function kc(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Go(s,a,u){(a!=="number"||ji(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ri=Array.isArray;function ii(s,a,u,f){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Ye(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function xl(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xo(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(ri(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Ye(u)}}function Jo(s,a){var u=Ye(a.value),f=Ye(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Al(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Mt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Mt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var si,bl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=si.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Bi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ys=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(s){Ys.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),$s[a]=$s[s]})});function Rl(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||$s.hasOwnProperty(s)&&$s[s]?(""+a).trim():a+"px"}function Ml(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Rl(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var Nl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ol(s,a){if(a){if(Nl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Vl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function Zo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ea=null,zn=null,Cr=null;function ta(s){if(s=ou(s)){if(typeof ea!="function")throw Error(t(280));var a=s.stateNode;a&&(a=ed(a),ea(s.stateNode,s.type,a))}}function Pr(s){zn?Cr?Cr.push(s):Cr=[s]:zn=s}function Ll(){if(zn){var s=zn,a=Cr;if(Cr=zn=null,ta(s),a)for(s=0;s<a.length;s++)ta(a[s])}}function Ks(s,a){return s(a)}function Fl(){}var oi=!1;function Ul(s,a,u){if(oi)return s(a,u);oi=!0;try{return Ks(s,a,u)}finally{oi=!1,(zn!==null||Cr!==null)&&(Fl(),Ll())}}function Et(s,a){var u=s.stateNode;if(u===null)return null;var f=ed(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var na=!1;if(c)try{var or={};Object.defineProperty(or,"passive",{get:function(){na=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{na=!1}function Qs(s,a,u,f,g,_,S,R,V){var q=Array.prototype.slice.call(arguments,3);try{a.apply(u,q)}catch(ie){this.onError(ie)}}var Gs=!1,ra=null,ar=!1,jl=null,Qf={onError:function(s){Gs=!0,ra=s}};function ia(s,a,u,f,g,_,S,R,V){Gs=!1,ra=null,Qs.apply(Qf,arguments)}function Dc(s,a,u,f,g,_,S,R,V){if(ia.apply(this,arguments),Gs){if(Gs){var q=ra;Gs=!1,ra=null}else throw Error(t(198));ar||(ar=!0,jl=q)}}function lr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Xs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function ur(s){if(lr(s)!==s)throw Error(t(188))}function Ic(s){var a=s.alternate;if(!a){if(a=lr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,f=a;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return ur(g),s;if(_===f)return ur(g),a;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=_;else{for(var S=!1,R=g.child;R;){if(R===u){S=!0,u=g,f=_;break}if(R===f){S=!0,f=g,u=_;break}R=R.sibling}if(!S){for(R=_.child;R;){if(R===u){S=!0,u=_,f=g;break}if(R===f){S=!0,f=_,u=g;break}R=R.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Bl(s){return s=Ic(s),s!==null?sa(s):null}function sa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=sa(s);if(a!==null)return a;s=s.sibling}return null}var oa=e.unstable_scheduleCallback,Wl=e.unstable_cancelCallback,Cc=e.unstable_shouldYield,Gf=e.unstable_requestPaint,st=e.unstable_now,Pc=e.unstable_getCurrentPriorityLevel,Js=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,zl=e.unstable_LowPriority,xc=e.unstable_IdlePriority,Zs=null,Mn=null;function Ac(s){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Rc,Hl=Math.log,bc=Math.LN2;function Rc(s){return s>>>=0,s===0?32:31-(Hl(s)/bc|0)|0}var aa=64,la=4194304;function zi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function eo(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes,S=u&268435455;if(S!==0){var R=S&~g;R!==0?f=zi(R):(_&=S,_!==0&&(f=zi(_)))}else S=u&~g,S!==0?f=zi(S):_!==0&&(f=zi(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-hn(a),g=1<<u,f|=s[u],a&=~g;return f}function Xf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var S=31-hn(_),R=1<<S,V=g[S];V===-1?((R&u)===0||(R&f)!==0)&&(g[S]=Xf(R,a)):V<=a&&(s.expiredLanes|=R),_&=~R}}function Nn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function to(){var s=aa;return aa<<=1,(aa&4194240)===0&&(aa=64),s}function Hi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function $i(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-hn(a),s[a]=u}function it(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-hn(u),_=1<<g;a[g]=0,f[g]=-1,s[g]=-1,u&=~_}}function Yi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-hn(u),g=1<<f;g&a|s[f]&a&&(s[f]|=a),u&=~g}}var Be=0;function qi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Mc,ua,Nc,Oc,Vc,$l=!1,xr=[],qt=null,cr=null,dr=null,Ki=new Map,$n=new Map,Ar=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(s,a){switch(s){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Ki.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(a.pointerId)}}function Tn(s,a,u,f,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},a!==null&&(a=ou(a),a!==null&&ua(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Zf(s,a,u,f,g){switch(a){case"focusin":return qt=Tn(qt,s,a,u,f,g),!0;case"dragenter":return cr=Tn(cr,s,a,u,f,g),!0;case"mouseover":return dr=Tn(dr,s,a,u,f,g),!0;case"pointerover":var _=g.pointerId;return Ki.set(_,Tn(Ki.get(_)||null,s,a,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,$n.set(_,Tn($n.get(_)||null,s,a,u,f,g)),!0}return!1}function Fc(s){var a=oo(s.target);if(a!==null){var u=lr(a);if(u!==null){if(a=u.tag,a===13){if(a=Xs(u),a!==null){s.blockedOn=a,Vc(s.priority,function(){Nc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function li(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=ca(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);qs=f,u.target.dispatchEvent(f),qs=null}else return a=ou(u),a!==null&&ua(a),s.blockedOn=u,!1;a.shift()}return!0}function no(s,a,u){li(s)&&u.delete(a)}function Uc(){$l=!1,qt!==null&&li(qt)&&(qt=null),cr!==null&&li(cr)&&(cr=null),dr!==null&&li(dr)&&(dr=null),Ki.forEach(no),$n.forEach(no)}function hr(s,a){s.blockedOn===a&&(s.blockedOn=null,$l||($l=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uc)))}function fr(s){function a(g){return hr(g,s)}if(0<xr.length){hr(xr[0],s);for(var u=1;u<xr.length;u++){var f=xr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(qt!==null&&hr(qt,s),cr!==null&&hr(cr,s),dr!==null&&hr(dr,s),Ki.forEach(a),$n.forEach(a),u=0;u<Ar.length;u++)f=Ar[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Ar.length&&(u=Ar[0],u.blockedOn===null);)Fc(u),u.blockedOn===null&&Ar.shift()}var ui=H.ReactCurrentBatchConfig,Qi=!0;function dt(s,a,u,f){var g=Be,_=ui.transition;ui.transition=null;try{Be=1,Yl(s,a,u,f)}finally{Be=g,ui.transition=_}}function ep(s,a,u,f){var g=Be,_=ui.transition;ui.transition=null;try{Be=4,Yl(s,a,u,f)}finally{Be=g,ui.transition=_}}function Yl(s,a,u,f){if(Qi){var g=ca(s,a,u,f);if(g===null)dp(s,a,f,ro,u),Lc(s,f);else if(Zf(g,s,a,u,f))f.stopPropagation();else if(Lc(s,f),a&4&&-1<Jf.indexOf(s)){for(;g!==null;){var _=ou(g);if(_!==null&&Mc(_),_=ca(s,a,u,f),_===null&&dp(s,a,f,ro,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else dp(s,a,f,null,u)}}var ro=null;function ca(s,a,u,f){if(ro=null,s=Zo(f),s=oo(s),s!==null)if(a=lr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Xs(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ro=s,null}function ql(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pc()){case Js:return 1;case Wi:return 4;case Hn:case zl:return 16;case xc:return 536870912;default:return 16}default:return 16}}var On=null,da=null,En=null;function Kl(){if(En)return En;var s,a=da,u=a.length,f,g="value"in On?On.value:On.textContent,_=g.length;for(s=0;s<u&&a[s]===g[s];s++);var S=u-s;for(f=1;f<=S&&a[u-f]===g[_-f];f++);return En=g.slice(s,1<f?1-f:void 0)}function ha(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function br(){return!0}function Ql(){return!1}function Kt(s){function a(u,f,g,_,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?br:Ql,this.isPropagationStopped=Ql,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),a}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Kt(pr),Rr=ae({},pr,{view:0,detail:0}),tp=Kt(Rr),pa,ci,Gi,io=ae({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gi&&(Gi&&s.type==="mousemove"?(pa=s.screenX-Gi.screenX,ci=s.screenY-Gi.screenY):ci=pa=0,Gi=s),pa)},movementY:function(s){return"movementY"in s?s.movementY:ci}}),ma=Kt(io),Gl=ae({},io,{dataTransfer:0}),jc=Kt(Gl),ga=ae({},Rr,{relatedTarget:0}),ya=Kt(ga),Bc=ae({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),di=Kt(Bc),Wc=ae({},pr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zc=Kt(Wc),Hc=ae({},pr,{data:0}),Xl=Kt(Hc),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=$c[s])?!!a[s]:!1}function Mr(){return Yc}var h=ae({},Rr,{key:function(s){if(s.key){var a=va[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(s){return s.type==="keypress"?ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Kt(h),T=ae({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Kt(T),W=ae({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),Q=Kt(W),le=ae({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=Kt(le),Ot=ae({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Kt(Ot),jt=[9,13,27,32],Pt=c&&"CompositionEvent"in window,Yn=null;c&&"documentMode"in document&&(Yn=document.documentMode);var Vn=c&&"TextEvent"in window&&!Yn,so=c&&(!Pt||Yn&&8<Yn&&11>=Yn),_a=" ",Av=!1;function bv(s,a){switch(s){case"keyup":return jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wa=!1;function KC(s,a){switch(s){case"compositionend":return Rv(a);case"keypress":return a.which!==32?null:(Av=!0,_a);case"textInput":return s=a.data,s===_a&&Av?null:s;default:return null}}function QC(s,a){if(wa)return s==="compositionend"||!Pt&&bv(s,a)?(s=Kl(),En=da=On=null,wa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return so&&a.locale!=="ko"?null:a.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!GC[s.type]:a==="textarea"}function Nv(s,a,u,f){Pr(f),a=Xc(a,"onChange"),0<a.length&&(u=new fa("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var Jl=null,Zl=null;function XC(s){Jv(s,0)}function qc(s){var a=Da(s);if(zs(a))return s}function JC(s,a){if(s==="change")return a}var Ov=!1;if(c){var np;if(c){var rp="oninput"in document;if(!rp){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),rp=typeof Vv.oninput=="function"}np=rp}else np=!1;Ov=np&&(!document.documentMode||9<document.documentMode)}function Lv(){Jl&&(Jl.detachEvent("onpropertychange",Fv),Zl=Jl=null)}function Fv(s){if(s.propertyName==="value"&&qc(Zl)){var a=[];Nv(a,Zl,s,Zo(s)),Ul(XC,a)}}function ZC(s,a,u){s==="focusin"?(Lv(),Jl=a,Zl=u,Jl.attachEvent("onpropertychange",Fv)):s==="focusout"&&Lv()}function eP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qc(Zl)}function tP(s,a){if(s==="click")return qc(a)}function nP(s,a){if(s==="input"||s==="change")return qc(a)}function rP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mr=typeof Object.is=="function"?Object.is:rP;function eu(s,a){if(mr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(a,g)||!mr(s[g],a[g]))return!1}return!0}function Uv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jv(s,a){var u=Uv(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Uv(u)}}function Bv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Bv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Wv(){for(var s=window,a=ji();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ji(s.document)}return a}function ip(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function iP(s){var a=Wv(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Bv(u.ownerDocument.documentElement,u)){if(f!==null&&ip(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!s.extend&&_>f&&(g=f,f=_,_=g),g=jv(u,_);var S=jv(u,f);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sP=c&&"documentMode"in document&&11>=document.documentMode,Ta=null,sp=null,tu=null,op=!1;function zv(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;op||Ta==null||Ta!==ji(f)||(f=Ta,"selectionStart"in f&&ip(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),tu&&eu(tu,f)||(tu=f,f=Xc(sp,"onSelect"),0<f.length&&(a=new fa("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Ta)))}function Kc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ea={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},ap={},Hv={};c&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Qc(s){if(ap[s])return ap[s];if(!Ea[s])return s;var a=Ea[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Hv)return ap[s]=a[u];return s}var $v=Qc("animationend"),Yv=Qc("animationiteration"),qv=Qc("animationstart"),Kv=Qc("transitionend"),Qv=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(s,a){Qv.set(s,a),o(a,[s])}for(var lp=0;lp<Gv.length;lp++){var up=Gv[lp],oP=up.toLowerCase(),aP=up[0].toUpperCase()+up.slice(1);Xi(oP,"on"+aP)}Xi($v,"onAnimationEnd"),Xi(Yv,"onAnimationIteration"),Xi(qv,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(Kv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lP=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function Xv(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Dc(f,a,void 0,s),s.currentTarget=null}function Jv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var S=f.length-1;0<=S;S--){var R=f[S],V=R.instance,q=R.currentTarget;if(R=R.listener,V!==_&&g.isPropagationStopped())break e;Xv(g,R,q),_=V}else for(S=0;S<f.length;S++){if(R=f[S],V=R.instance,q=R.currentTarget,R=R.listener,V!==_&&g.isPropagationStopped())break e;Xv(g,R,q),_=V}}}if(ar)throw s=jl,ar=!1,jl=null,s}function at(s,a){var u=a[yp];u===void 0&&(u=a[yp]=new Set);var f=s+"__bubble";u.has(f)||(Zv(a,s,2,!1),u.add(f))}function cp(s,a,u){var f=0;a&&(f|=4),Zv(u,s,f,a)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function ru(s){if(!s[Gc]){s[Gc]=!0,n.forEach(function(u){u!=="selectionchange"&&(lP.has(u)||cp(u,!1,s),cp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Gc]||(a[Gc]=!0,cp("selectionchange",!1,a))}}function Zv(s,a,u,f){switch(ql(a)){case 1:var g=dt;break;case 4:g=ep;break;default:g=Yl}u=g.bind(null,a,u,s),g=void 0,!na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function dp(s,a,u,f,g){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var R=f.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var V=S.tag;if((V===3||V===4)&&(V=S.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;S=S.return}for(;R!==null;){if(S=oo(R),S===null)return;if(V=S.tag,V===5||V===6){f=_=S;continue e}R=R.parentNode}}f=f.return}Ul(function(){var q=_,ie=Zo(u),se=[];e:{var re=Qv.get(s);if(re!==void 0){var fe=fa,_e=s;switch(s){case"keypress":if(ha(u)===0)break e;case"keydown":case"keyup":fe=v;break;case"focusin":_e="focus",fe=ya;break;case"focusout":_e="blur",fe=ya;break;case"beforeblur":case"afterblur":fe=ya;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Q;break;case $v:case Yv:case qv:fe=di;break;case Kv:fe=tt;break;case"scroll":fe=tp;break;case"wheel":fe=He;break;case"copy":case"cut":case"paste":fe=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=I}var we=(a&4)!==0,St=!we&&s==="scroll",z=we?re!==null?re+"Capture":null:re;we=[];for(var j=q,$;j!==null;){$=j;var oe=$.stateNode;if($.tag===5&&oe!==null&&($=oe,z!==null&&(oe=Et(j,z),oe!=null&&we.push(iu(j,oe,$)))),St)break;j=j.return}0<we.length&&(re=new fe(re,_e,null,u,ie),se.push({event:re,listeners:we}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",re&&u!==qs&&(_e=u.relatedTarget||u.fromElement)&&(oo(_e)||_e[hi]))break e;if((fe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(_e=u.relatedTarget||u.toElement,fe=q,_e=_e?oo(_e):null,_e!==null&&(St=lr(_e),_e!==St||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(fe=null,_e=q),fe!==_e)){if(we=ma,oe="onMouseLeave",z="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(we=I,oe="onPointerLeave",z="onPointerEnter",j="pointer"),St=fe==null?re:Da(fe),$=_e==null?re:Da(_e),re=new we(oe,j+"leave",fe,u,ie),re.target=St,re.relatedTarget=$,oe=null,oo(ie)===q&&(we=new we(z,j+"enter",_e,u,ie),we.target=$,we.relatedTarget=St,oe=we),St=oe,fe&&_e)t:{for(we=fe,z=_e,j=0,$=we;$;$=Sa($))j++;for($=0,oe=z;oe;oe=Sa(oe))$++;for(;0<j-$;)we=Sa(we),j--;for(;0<$-j;)z=Sa(z),$--;for(;j--;){if(we===z||z!==null&&we===z.alternate)break t;we=Sa(we),z=Sa(z)}we=null}else we=null;fe!==null&&e_(se,re,fe,we,!1),_e!==null&&St!==null&&e_(se,St,_e,we,!0)}}e:{if(re=q?Da(q):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var Te=JC;else if(Mv(re))if(Ov)Te=nP;else{Te=eP;var Ie=ZC}else(fe=re.nodeName)&&fe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Te=tP);if(Te&&(Te=Te(s,q))){Nv(se,Te,u,ie);break e}Ie&&Ie(s,re,q),s==="focusout"&&(Ie=re._wrapperState)&&Ie.controlled&&re.type==="number"&&Go(re,"number",re.value)}switch(Ie=q?Da(q):window,s){case"focusin":(Mv(Ie)||Ie.contentEditable==="true")&&(Ta=Ie,sp=q,tu=null);break;case"focusout":tu=sp=Ta=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,zv(se,u,ie);break;case"selectionchange":if(sP)break;case"keydown":case"keyup":zv(se,u,ie)}var Ce;if(Pt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else wa?bv(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(so&&u.locale!=="ko"&&(wa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&wa&&(Ce=Kl()):(On=ie,da="value"in On?On.value:On.textContent,wa=!0)),Ie=Xc(q,Ae),0<Ie.length&&(Ae=new Xl(Ae,s,null,u,ie),se.push({event:Ae,listeners:Ie}),Ce?Ae.data=Ce:(Ce=Rv(u),Ce!==null&&(Ae.data=Ce)))),(Ce=Vn?KC(s,u):QC(s,u))&&(q=Xc(q,"onBeforeInput"),0<q.length&&(ie=new Xl("onBeforeInput","beforeinput",null,u,ie),se.push({event:ie,listeners:q}),ie.data=Ce))}Jv(se,a)})}function iu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Xc(s,a){for(var u=a+"Capture",f=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Et(s,u),_!=null&&f.unshift(iu(s,_,g)),_=Et(s,a),_!=null&&f.push(iu(s,_,g))),s=s.return}return f}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function e_(s,a,u,f,g){for(var _=a._reactName,S=[];u!==null&&u!==f;){var R=u,V=R.alternate,q=R.stateNode;if(V!==null&&V===f)break;R.tag===5&&q!==null&&(R=q,g?(V=Et(u,_),V!=null&&S.unshift(iu(u,V,R))):g||(V=Et(u,_),V!=null&&S.push(iu(u,V,R)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var uP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function t_(s){return(typeof s=="string"?s:""+s).replace(uP,`
`).replace(cP,"")}function Jc(s,a,u){if(a=t_(a),t_(s)!==a&&u)throw Error(t(425))}function Zc(){}var hp=null,fp=null;function pp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,dP=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(s){return n_.resolve(null).then(s).catch(fP)}:mp;function fP(s){setTimeout(function(){throw s})}function gp(s,a){var u=a,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),fr(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);fr(a)}function Ji(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function r_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ka=Math.random().toString(36).slice(2),Nr="__reactFiber$"+ka,su="__reactProps$"+ka,hi="__reactContainer$"+ka,yp="__reactEvents$"+ka,pP="__reactListeners$"+ka,mP="__reactHandles$"+ka;function oo(s){var a=s[Nr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[hi]||u[Nr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=r_(s);s!==null;){if(u=s[Nr])return u;s=r_(s)}return a}s=u,u=s.parentNode}return null}function ou(s){return s=s[Nr]||s[hi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Da(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ed(s){return s[su]||null}var vp=[],Ia=-1;function Zi(s){return{current:s}}function lt(s){0>Ia||(s.current=vp[Ia],vp[Ia]=null,Ia--)}function ot(s,a){Ia++,vp[Ia]=s.current,s.current=a}var es={},tn=Zi(es),Sn=Zi(!1),ao=es;function Ca(s,a){var u=s.type.contextTypes;if(!u)return es;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function kn(s){return s=s.childContextTypes,s!=null}function td(){lt(Sn),lt(tn)}function i_(s,a,u){if(tn.current!==es)throw Error(t(168));ot(tn,a),ot(Sn,u)}function s_(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,ze(s)||"Unknown",g));return ae({},u,f)}function nd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||es,ao=tn.current,ot(tn,s),ot(Sn,Sn.current),!0}function o_(s,a,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=s_(s,a,ao),f.__reactInternalMemoizedMergedChildContext=s,lt(Sn),lt(tn),ot(tn,s)):lt(Sn),ot(Sn,u)}var fi=null,rd=!1,_p=!1;function a_(s){fi===null?fi=[s]:fi.push(s)}function gP(s){rd=!0,a_(s)}function ts(){if(!_p&&fi!==null){_p=!0;var s=0,a=Be;try{var u=fi;for(Be=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}fi=null,rd=!1}catch(g){throw fi!==null&&(fi=fi.slice(s+1)),oa(Js,ts),g}finally{Be=a,_p=!1}}return null}var Pa=[],xa=0,id=null,sd=0,qn=[],Kn=0,lo=null,pi=1,mi="";function uo(s,a){Pa[xa++]=sd,Pa[xa++]=id,id=s,sd=a}function l_(s,a,u){qn[Kn++]=pi,qn[Kn++]=mi,qn[Kn++]=lo,lo=s;var f=pi;s=mi;var g=32-hn(f)-1;f&=~(1<<g),u+=1;var _=32-hn(a)+g;if(30<_){var S=g-g%5;_=(f&(1<<S)-1).toString(32),f>>=S,g-=S,pi=1<<32-hn(a)+g|u<<g|f,mi=_+s}else pi=1<<_|u<<g|f,mi=s}function wp(s){s.return!==null&&(uo(s,1),l_(s,1,0))}function Tp(s){for(;s===id;)id=Pa[--xa],Pa[xa]=null,sd=Pa[--xa],Pa[xa]=null;for(;s===lo;)lo=qn[--Kn],qn[Kn]=null,mi=qn[--Kn],qn[Kn]=null,pi=qn[--Kn],qn[Kn]=null}var Ln=null,Fn=null,ht=!1,gr=null;function u_(s,a){var u=Jn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function c_(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Ln=s,Fn=Ji(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Ln=s,Fn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=lo!==null?{id:pi,overflow:mi}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Jn(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Ln=s,Fn=null,!0):!1;default:return!1}}function Ep(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sp(s){if(ht){var a=Fn;if(a){var u=a;if(!c_(s,a)){if(Ep(s))throw Error(t(418));a=Ji(u.nextSibling);var f=Ln;a&&c_(s,a)?u_(f,u):(s.flags=s.flags&-4097|2,ht=!1,Ln=s)}}else{if(Ep(s))throw Error(t(418));s.flags=s.flags&-4097|2,ht=!1,Ln=s}}}function d_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ln=s}function od(s){if(s!==Ln)return!1;if(!ht)return d_(s),ht=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!pp(s.type,s.memoizedProps)),a&&(a=Fn)){if(Ep(s))throw h_(),Error(t(418));for(;a;)u_(s,a),a=Ji(a.nextSibling)}if(d_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Fn=Ji(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Fn=null}}else Fn=Ln?Ji(s.stateNode.nextSibling):null;return!0}function h_(){for(var s=Fn;s;)s=Ji(s.nextSibling)}function Aa(){Fn=Ln=null,ht=!1}function kp(s){gr===null?gr=[s]:gr.push(s)}var yP=H.ReactCurrentBatchConfig;function au(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var g=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(S){var R=g.refs;S===null?delete R[_]:R[_]=S},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function ad(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function f_(s){var a=s._init;return a(s._payload)}function p_(s){function a(z,j){if(s){var $=z.deletions;$===null?(z.deletions=[j],z.flags|=16):$.push(j)}}function u(z,j){if(!s)return null;for(;j!==null;)a(z,j),j=j.sibling;return null}function f(z,j){for(z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function g(z,j){return z=us(z,j),z.index=0,z.sibling=null,z}function _(z,j,$){return z.index=$,s?($=z.alternate,$!==null?($=$.index,$<j?(z.flags|=2,j):$):(z.flags|=2,j)):(z.flags|=1048576,j)}function S(z){return s&&z.alternate===null&&(z.flags|=2),z}function R(z,j,$,oe){return j===null||j.tag!==6?(j=mm($,z.mode,oe),j.return=z,j):(j=g(j,$),j.return=z,j)}function V(z,j,$,oe){var Te=$.type;return Te===b?ie(z,j,$.props.children,oe,$.key):j!==null&&(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ue&&f_(Te)===j.type)?(oe=g(j,$.props),oe.ref=au(z,j,$),oe.return=z,oe):(oe=bd($.type,$.key,$.props,null,z.mode,oe),oe.ref=au(z,j,$),oe.return=z,oe)}function q(z,j,$,oe){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=gm($,z.mode,oe),j.return=z,j):(j=g(j,$.children||[]),j.return=z,j)}function ie(z,j,$,oe,Te){return j===null||j.tag!==7?(j=vo($,z.mode,oe,Te),j.return=z,j):(j=g(j,$),j.return=z,j)}function se(z,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return j=mm(""+j,z.mode,$),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case J:return $=bd(j.type,j.key,j.props,null,z.mode,$),$.ref=au(z,null,j),$.return=z,$;case ne:return j=gm(j,z.mode,$),j.return=z,j;case ue:var oe=j._init;return se(z,oe(j._payload),$)}if(ri(j)||ce(j))return j=vo(j,z.mode,$,null),j.return=z,j;ad(z,j)}return null}function re(z,j,$,oe){var Te=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Te!==null?null:R(z,j,""+$,oe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return $.key===Te?V(z,j,$,oe):null;case ne:return $.key===Te?q(z,j,$,oe):null;case ue:return Te=$._init,re(z,j,Te($._payload),oe)}if(ri($)||ce($))return Te!==null?null:ie(z,j,$,oe,null);ad(z,$)}return null}function fe(z,j,$,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return z=z.get($)||null,R(j,z,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case J:return z=z.get(oe.key===null?$:oe.key)||null,V(j,z,oe,Te);case ne:return z=z.get(oe.key===null?$:oe.key)||null,q(j,z,oe,Te);case ue:var Ie=oe._init;return fe(z,j,$,Ie(oe._payload),Te)}if(ri(oe)||ce(oe))return z=z.get($)||null,ie(j,z,oe,Te,null);ad(j,oe)}return null}function _e(z,j,$,oe){for(var Te=null,Ie=null,Ce=j,Ae=j=0,zt=null;Ce!==null&&Ae<$.length;Ae++){Ce.index>Ae?(zt=Ce,Ce=null):zt=Ce.sibling;var Ge=re(z,Ce,$[Ae],oe);if(Ge===null){Ce===null&&(Ce=zt);break}s&&Ce&&Ge.alternate===null&&a(z,Ce),j=_(Ge,j,Ae),Ie===null?Te=Ge:Ie.sibling=Ge,Ie=Ge,Ce=zt}if(Ae===$.length)return u(z,Ce),ht&&uo(z,Ae),Te;if(Ce===null){for(;Ae<$.length;Ae++)Ce=se(z,$[Ae],oe),Ce!==null&&(j=_(Ce,j,Ae),Ie===null?Te=Ce:Ie.sibling=Ce,Ie=Ce);return ht&&uo(z,Ae),Te}for(Ce=f(z,Ce);Ae<$.length;Ae++)zt=fe(Ce,z,Ae,$[Ae],oe),zt!==null&&(s&&zt.alternate!==null&&Ce.delete(zt.key===null?Ae:zt.key),j=_(zt,j,Ae),Ie===null?Te=zt:Ie.sibling=zt,Ie=zt);return s&&Ce.forEach(function(cs){return a(z,cs)}),ht&&uo(z,Ae),Te}function we(z,j,$,oe){var Te=ce($);if(typeof Te!="function")throw Error(t(150));if($=Te.call($),$==null)throw Error(t(151));for(var Ie=Te=null,Ce=j,Ae=j=0,zt=null,Ge=$.next();Ce!==null&&!Ge.done;Ae++,Ge=$.next()){Ce.index>Ae?(zt=Ce,Ce=null):zt=Ce.sibling;var cs=re(z,Ce,Ge.value,oe);if(cs===null){Ce===null&&(Ce=zt);break}s&&Ce&&cs.alternate===null&&a(z,Ce),j=_(cs,j,Ae),Ie===null?Te=cs:Ie.sibling=cs,Ie=cs,Ce=zt}if(Ge.done)return u(z,Ce),ht&&uo(z,Ae),Te;if(Ce===null){for(;!Ge.done;Ae++,Ge=$.next())Ge=se(z,Ge.value,oe),Ge!==null&&(j=_(Ge,j,Ae),Ie===null?Te=Ge:Ie.sibling=Ge,Ie=Ge);return ht&&uo(z,Ae),Te}for(Ce=f(z,Ce);!Ge.done;Ae++,Ge=$.next())Ge=fe(Ce,z,Ae,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&Ce.delete(Ge.key===null?Ae:Ge.key),j=_(Ge,j,Ae),Ie===null?Te=Ge:Ie.sibling=Ge,Ie=Ge);return s&&Ce.forEach(function(GP){return a(z,GP)}),ht&&uo(z,Ae),Te}function St(z,j,$,oe){if(typeof $=="object"&&$!==null&&$.type===b&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case J:e:{for(var Te=$.key,Ie=j;Ie!==null;){if(Ie.key===Te){if(Te=$.type,Te===b){if(Ie.tag===7){u(z,Ie.sibling),j=g(Ie,$.props.children),j.return=z,z=j;break e}}else if(Ie.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ue&&f_(Te)===Ie.type){u(z,Ie.sibling),j=g(Ie,$.props),j.ref=au(z,Ie,$),j.return=z,z=j;break e}u(z,Ie);break}else a(z,Ie);Ie=Ie.sibling}$.type===b?(j=vo($.props.children,z.mode,oe,$.key),j.return=z,z=j):(oe=bd($.type,$.key,$.props,null,z.mode,oe),oe.ref=au(z,j,$),oe.return=z,z=oe)}return S(z);case ne:e:{for(Ie=$.key;j!==null;){if(j.key===Ie)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){u(z,j.sibling),j=g(j,$.children||[]),j.return=z,z=j;break e}else{u(z,j);break}else a(z,j);j=j.sibling}j=gm($,z.mode,oe),j.return=z,z=j}return S(z);case ue:return Ie=$._init,St(z,j,Ie($._payload),oe)}if(ri($))return _e(z,j,$,oe);if(ce($))return we(z,j,$,oe);ad(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,j!==null&&j.tag===6?(u(z,j.sibling),j=g(j,$),j.return=z,z=j):(u(z,j),j=mm($,z.mode,oe),j.return=z,z=j),S(z)):u(z,j)}return St}var ba=p_(!0),m_=p_(!1),ld=Zi(null),ud=null,Ra=null,Dp=null;function Ip(){Dp=Ra=ud=null}function Cp(s){var a=ld.current;lt(ld),s._currentValue=a}function Pp(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function Ma(s,a){ud=s,Dp=Ra=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Dn=!0),s.firstContext=null)}function Qn(s){var a=s._currentValue;if(Dp!==s)if(s={context:s,memoizedValue:a,next:null},Ra===null){if(ud===null)throw Error(t(308));Ra=s,ud.dependencies={lanes:0,firstContext:s}}else Ra=Ra.next=s;return a}var co=null;function xp(s){co===null?co=[s]:co.push(s)}function g_(s,a,u,f){var g=a.interleaved;return g===null?(u.next=u,xp(a)):(u.next=g.next,g.next=u),a.interleaved=u,gi(s,f)}function gi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ns=!1;function Ap(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function yi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function rs(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(qe&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,gi(s,u)}return g=f.interleaved,g===null?(a.next=a,xp(f)):(a.next=g.next,g.next=a),f.interleaved=a,gi(s,u)}function cd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Yi(s,u)}}function v_(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?g=_=a:_=_.next=a}else g=_=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function dd(s,a,u,f){var g=s.updateQueue;ns=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var V=R,q=V.next;V.next=null,S===null?_=q:S.next=q,S=V;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==S&&(R===null?ie.firstBaseUpdate=q:R.next=q,ie.lastBaseUpdate=V))}if(_!==null){var se=g.baseState;S=0,ie=q=V=null,R=_;do{var re=R.lane,fe=R.eventTime;if((f&re)===re){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var _e=s,we=R;switch(re=a,fe=u,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){se=_e.call(fe,se,re);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,re=typeof _e=="function"?_e.call(fe,se,re):_e,re==null)break e;se=ae({},se,re);break e;case 2:ns=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[R]:re.push(R))}else fe={eventTime:fe,lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(q=ie=fe,V=se):ie=ie.next=fe,S|=re;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;re=R,R=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&(V=se),g.baseState=V,g.firstBaseUpdate=q,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);po|=S,s.lanes=S,s.memoizedState=se}}function __(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var lu={},Or=Zi(lu),uu=Zi(lu),cu=Zi(lu);function ho(s){if(s===lu)throw Error(t(174));return s}function bp(s,a){switch(ot(cu,a),ot(uu,s),ot(Or,lu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Nt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Nt(a,s)}lt(Or),ot(Or,a)}function Na(){lt(Or),lt(uu),lt(cu)}function w_(s){ho(cu.current);var a=ho(Or.current),u=Nt(a,s.type);a!==u&&(ot(uu,s),ot(Or,u))}function Rp(s){uu.current===s&&(lt(Or),lt(uu))}var mt=Zi(0);function hd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Mp=[];function Np(){for(var s=0;s<Mp.length;s++)Mp[s]._workInProgressVersionPrimary=null;Mp.length=0}var fd=H.ReactCurrentDispatcher,Op=H.ReactCurrentBatchConfig,fo=0,gt=null,Vt=null,Bt=null,pd=!1,du=!1,hu=0,vP=0;function nn(){throw Error(t(321))}function Vp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!mr(s[u],a[u]))return!1;return!0}function Lp(s,a,u,f,g,_){if(fo=_,gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,fd.current=s===null||s.memoizedState===null?EP:SP,s=u(f,g),du){_=0;do{if(du=!1,hu=0,25<=_)throw Error(t(301));_+=1,Bt=Vt=null,a.updateQueue=null,fd.current=kP,s=u(f,g)}while(du)}if(fd.current=yd,a=Vt!==null&&Vt.next!==null,fo=0,Bt=Vt=gt=null,pd=!1,a)throw Error(t(300));return s}function Fp(){var s=hu!==0;return hu=0,s}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=s:Bt=Bt.next=s,Bt}function Gn(){if(Vt===null){var s=gt.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var a=Bt===null?gt.memoizedState:Bt.next;if(a!==null)Bt=a,Vt=s;else{if(s===null)throw Error(t(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Bt===null?gt.memoizedState=Bt=s:Bt=Bt.next=s}return Bt}function fu(s,a){return typeof a=="function"?a(s):a}function Up(s){var a=Gn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=Vt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var R=S=null,V=null,q=_;do{var ie=q.lane;if((fo&ie)===ie)V!==null&&(V=V.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),f=q.hasEagerState?q.eagerState:s(f,q.action);else{var se={lane:ie,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};V===null?(R=V=se,S=f):V=V.next=se,gt.lanes|=ie,po|=ie}q=q.next}while(q!==null&&q!==_);V===null?S=f:V.next=R,mr(f,a.memoizedState)||(Dn=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=V,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do _=g.lane,gt.lanes|=_,po|=_,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function jp(s){var a=Gn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,_=a.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do _=s(_,S.action),S=S.next;while(S!==g);mr(_,a.memoizedState)||(Dn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function T_(){}function E_(s,a){var u=gt,f=Gn(),g=a(),_=!mr(f.memoizedState,g);if(_&&(f.memoizedState=g,Dn=!0),f=f.queue,Bp(D_.bind(null,u,f,s),[s]),f.getSnapshot!==a||_||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,pu(9,k_.bind(null,u,f,g,a),void 0,null),Wt===null)throw Error(t(349));(fo&30)!==0||S_(u,a,g)}return g}function S_(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=gt.updateQueue,a===null?(a={lastEffect:null,stores:null},gt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function k_(s,a,u,f){a.value=u,a.getSnapshot=f,I_(a)&&C_(s)}function D_(s,a,u){return u(function(){I_(a)&&C_(s)})}function I_(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!mr(s,u)}catch{return!0}}function C_(s){var a=gi(s,1);a!==null&&wr(a,s,1,-1)}function P_(s){var a=Vr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:s},a.queue=s,s=s.dispatch=TP.bind(null,gt,s),[a.memoizedState,s]}function pu(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=gt.updateQueue,a===null?(a={lastEffect:null,stores:null},gt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function x_(){return Gn().memoizedState}function md(s,a,u,f){var g=Vr();gt.flags|=s,g.memoizedState=pu(1|a,u,void 0,f===void 0?null:f)}function gd(s,a,u,f){var g=Gn();f=f===void 0?null:f;var _=void 0;if(Vt!==null){var S=Vt.memoizedState;if(_=S.destroy,f!==null&&Vp(f,S.deps)){g.memoizedState=pu(a,u,_,f);return}}gt.flags|=s,g.memoizedState=pu(1|a,u,_,f)}function A_(s,a){return md(8390656,8,s,a)}function Bp(s,a){return gd(2048,8,s,a)}function b_(s,a){return gd(4,2,s,a)}function R_(s,a){return gd(4,4,s,a)}function M_(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function N_(s,a,u){return u=u!=null?u.concat([s]):null,gd(4,4,M_.bind(null,a,s),u)}function Wp(){}function O_(s,a){var u=Gn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Vp(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function V_(s,a){var u=Gn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Vp(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function L_(s,a,u){return(fo&21)===0?(s.baseState&&(s.baseState=!1,Dn=!0),s.memoizedState=u):(mr(u,a)||(u=to(),gt.lanes|=u,po|=u,s.baseState=!0),a)}function _P(s,a){var u=Be;Be=u!==0&&4>u?u:4,s(!0);var f=Op.transition;Op.transition={};try{s(!1),a()}finally{Be=u,Op.transition=f}}function F_(){return Gn().memoizedState}function wP(s,a,u){var f=as(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},U_(s))j_(a,u);else if(u=g_(s,a,u,f),u!==null){var g=mn();wr(u,s,f,g),B_(u,a,f)}}function TP(s,a,u){var f=as(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(U_(s))j_(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var S=a.lastRenderedState,R=_(S,u);if(g.hasEagerState=!0,g.eagerState=R,mr(R,S)){var V=a.interleaved;V===null?(g.next=g,xp(a)):(g.next=V.next,V.next=g),a.interleaved=g;return}}catch{}finally{}u=g_(s,a,g,f),u!==null&&(g=mn(),wr(u,s,f,g),B_(u,a,f))}}function U_(s){var a=s.alternate;return s===gt||a!==null&&a===gt}function j_(s,a){du=pd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function B_(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Yi(s,u)}}var yd={readContext:Qn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},EP={readContext:Qn,useCallback:function(s,a){return Vr().memoizedState=[s,a===void 0?null:a],s},useContext:Qn,useEffect:A_,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,md(4194308,4,M_.bind(null,a,s),u)},useLayoutEffect:function(s,a){return md(4194308,4,s,a)},useInsertionEffect:function(s,a){return md(4,2,s,a)},useMemo:function(s,a){var u=Vr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=Vr();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=wP.bind(null,gt,s),[f.memoizedState,s]},useRef:function(s){var a=Vr();return s={current:s},a.memoizedState=s},useState:P_,useDebugValue:Wp,useDeferredValue:function(s){return Vr().memoizedState=s},useTransition:function(){var s=P_(!1),a=s[0];return s=_P.bind(null,s[1]),Vr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=gt,g=Vr();if(ht){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Wt===null)throw Error(t(349));(fo&30)!==0||S_(f,a,u)}g.memoizedState=u;var _={value:u,getSnapshot:a};return g.queue=_,A_(D_.bind(null,f,_,s),[s]),f.flags|=2048,pu(9,k_.bind(null,f,_,u,a),void 0,null),u},useId:function(){var s=Vr(),a=Wt.identifierPrefix;if(ht){var u=mi,f=pi;u=(f&~(1<<32-hn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=hu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=vP++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},SP={readContext:Qn,useCallback:O_,useContext:Qn,useEffect:Bp,useImperativeHandle:N_,useInsertionEffect:b_,useLayoutEffect:R_,useMemo:V_,useReducer:Up,useRef:x_,useState:function(){return Up(fu)},useDebugValue:Wp,useDeferredValue:function(s){var a=Gn();return L_(a,Vt.memoizedState,s)},useTransition:function(){var s=Up(fu)[0],a=Gn().memoizedState;return[s,a]},useMutableSource:T_,useSyncExternalStore:E_,useId:F_,unstable_isNewReconciler:!1},kP={readContext:Qn,useCallback:O_,useContext:Qn,useEffect:Bp,useImperativeHandle:N_,useInsertionEffect:b_,useLayoutEffect:R_,useMemo:V_,useReducer:jp,useRef:x_,useState:function(){return jp(fu)},useDebugValue:Wp,useDeferredValue:function(s){var a=Gn();return Vt===null?a.memoizedState=s:L_(a,Vt.memoizedState,s)},useTransition:function(){var s=jp(fu)[0],a=Gn().memoizedState;return[s,a]},useMutableSource:T_,useSyncExternalStore:E_,useId:F_,unstable_isNewReconciler:!1};function yr(s,a){if(s&&s.defaultProps){a=ae({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function zp(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:ae({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var vd={isMounted:function(s){return(s=s._reactInternals)?lr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=mn(),g=as(s),_=yi(f,g);_.payload=a,u!=null&&(_.callback=u),a=rs(s,_,g),a!==null&&(wr(a,s,g,f),cd(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=mn(),g=as(s),_=yi(f,g);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=rs(s,_,g),a!==null&&(wr(a,s,g,f),cd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=mn(),f=as(s),g=yi(u,f);g.tag=2,a!=null&&(g.callback=a),a=rs(s,g,f),a!==null&&(wr(a,s,f,u),cd(a,s,f))}};function W_(s,a,u,f,g,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,S):a.prototype&&a.prototype.isPureReactComponent?!eu(u,f)||!eu(g,_):!0}function z_(s,a,u){var f=!1,g=es,_=a.contextType;return typeof _=="object"&&_!==null?_=Qn(_):(g=kn(a)?ao:tn.current,f=a.contextTypes,_=(f=f!=null)?Ca(s,g):es),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=vd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function H_(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&vd.enqueueReplaceState(a,a.state,null)}function Hp(s,a,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Ap(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Qn(_):(_=kn(a)?ao:tn.current,g.context=Ca(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zp(s,a,_,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&vd.enqueueReplaceState(g,g.state,null),dd(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Oa(s,a){try{var u="",f=a;do u+=Oe(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function $p(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Yp(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var DP=typeof WeakMap=="function"?WeakMap:Map;function $_(s,a,u){u=yi(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Dd||(Dd=!0,am=f),Yp(s,a)},u}function Y_(s,a,u){u=yi(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;u.payload=function(){return f(g)},u.callback=function(){Yp(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Yp(s,a),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),u}function q_(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new DP;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(g.add(u),s=UP.bind(null,s,a,u),a.then(s,s))}function K_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Q_(s,a,u,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=yi(-1,1),a.tag=2,rs(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var IP=H.ReactCurrentOwner,Dn=!1;function pn(s,a,u,f){a.child=s===null?m_(a,null,u,f):ba(a,s.child,u,f)}function G_(s,a,u,f,g){u=u.render;var _=a.ref;return Ma(a,g),f=Lp(s,a,u,f,_,g),u=Fp(),s!==null&&!Dn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,vi(s,a,g)):(ht&&u&&wp(a),a.flags|=1,pn(s,a,f,g),a.child)}function X_(s,a,u,f,g){if(s===null){var _=u.type;return typeof _=="function"&&!pm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,J_(s,a,_,f,g)):(s=bd(u.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:eu,u(S,f)&&s.ref===a.ref)return vi(s,a,g)}return a.flags|=1,s=us(_,f),s.ref=a.ref,s.return=a,a.child=s}function J_(s,a,u,f,g){if(s!==null){var _=s.memoizedProps;if(eu(_,f)&&s.ref===a.ref)if(Dn=!1,a.pendingProps=f=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Dn=!0);else return a.lanes=s.lanes,vi(s,a,g)}return qp(s,a,u,f,g)}function Z_(s,a,u){var f=a.pendingProps,g=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(La,Un),Un|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ot(La,Un),Un|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,ot(La,Un),Un|=f}else _!==null?(f=_.baseLanes|u,a.memoizedState=null):f=u,ot(La,Un),Un|=f;return pn(s,a,g,u),a.child}function e0(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function qp(s,a,u,f,g){var _=kn(u)?ao:tn.current;return _=Ca(a,_),Ma(a,g),u=Lp(s,a,u,f,_,g),f=Fp(),s!==null&&!Dn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,vi(s,a,g)):(ht&&f&&wp(a),a.flags|=1,pn(s,a,u,g),a.child)}function t0(s,a,u,f,g){if(kn(u)){var _=!0;nd(a)}else _=!1;if(Ma(a,g),a.stateNode===null)wd(s,a),z_(a,u,f),Hp(a,u,f,g),f=!0;else if(s===null){var S=a.stateNode,R=a.memoizedProps;S.props=R;var V=S.context,q=u.contextType;typeof q=="object"&&q!==null?q=Qn(q):(q=kn(u)?ao:tn.current,q=Ca(a,q));var ie=u.getDerivedStateFromProps,se=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==f||V!==q)&&H_(a,S,f,q),ns=!1;var re=a.memoizedState;S.state=re,dd(a,f,S,g),V=a.memoizedState,R!==f||re!==V||Sn.current||ns?(typeof ie=="function"&&(zp(a,u,ie,f),V=a.memoizedState),(R=ns||W_(a,u,R,f,re,V,q))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=V),S.props=f,S.state=V,S.context=q,f=R):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,y_(s,a),R=a.memoizedProps,q=a.type===a.elementType?R:yr(a.type,R),S.props=q,se=a.pendingProps,re=S.context,V=u.contextType,typeof V=="object"&&V!==null?V=Qn(V):(V=kn(u)?ao:tn.current,V=Ca(a,V));var fe=u.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==se||re!==V)&&H_(a,S,f,V),ns=!1,re=a.memoizedState,S.state=re,dd(a,f,S,g);var _e=a.memoizedState;R!==se||re!==_e||Sn.current||ns?(typeof fe=="function"&&(zp(a,u,fe,f),_e=a.memoizedState),(q=ns||W_(a,u,q,f,re,_e,V)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,_e,V),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,_e,V)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=_e),S.props=f,S.state=_e,S.context=V,f=q):(typeof S.componentDidUpdate!="function"||R===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),f=!1)}return Kp(s,a,u,f,_,g)}function Kp(s,a,u,f,g,_){e0(s,a);var S=(a.flags&128)!==0;if(!f&&!S)return g&&o_(a,u,!1),vi(s,a,_);f=a.stateNode,IP.current=a;var R=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&S?(a.child=ba(a,s.child,null,_),a.child=ba(a,null,R,_)):pn(s,a,R,_),a.memoizedState=f.state,g&&o_(a,u,!0),a.child}function n0(s){var a=s.stateNode;a.pendingContext?i_(s,a.pendingContext,a.pendingContext!==a.context):a.context&&i_(s,a.context,!1),bp(s,a.containerInfo)}function r0(s,a,u,f,g){return Aa(),kp(g),a.flags|=256,pn(s,a,u,f),a.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Gp(s){return{baseLanes:s,cachePool:null,transitions:null}}function i0(s,a,u){var f=a.pendingProps,g=mt.current,_=!1,S=(a.flags&128)!==0,R;if((R=S)||(R=s!==null&&s.memoizedState===null?!1:(g&2)!==0),R?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ot(mt,g&1),s===null)return Sp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=f.children,s=f.fallback,_?(f=a.mode,_=a.child,S={mode:"hidden",children:S},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=Rd(S,f,0,null),s=vo(s,f,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Gp(u),a.memoizedState=Qp,s):Xp(a,S));if(g=s.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return CP(s,a,S,f,R,g,u);if(_){_=f.fallback,S=a.mode,g=s.child,R=g.sibling;var V={mode:"hidden",children:f.children};return(S&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=V,a.deletions=null):(f=us(g,V),f.subtreeFlags=g.subtreeFlags&14680064),R!==null?_=us(R,_):(_=vo(_,S,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,S=s.child.memoizedState,S=S===null?Gp(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=s.childLanes&~u,a.memoizedState=Qp,f}return _=s.child,s=_.sibling,f=us(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function Xp(s,a){return a=Rd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function _d(s,a,u,f){return f!==null&&kp(f),ba(a,s.child,null,u),s=Xp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function CP(s,a,u,f,g,_,S){if(u)return a.flags&256?(a.flags&=-257,f=$p(Error(t(422))),_d(s,a,S,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,g=a.mode,f=Rd({mode:"visible",children:f.children},g,0,null),_=vo(_,g,S,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&ba(a,s.child,null,S),a.child.memoizedState=Gp(S),a.memoizedState=Qp,_);if((a.mode&1)===0)return _d(s,a,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var R=f.dgst;return f=R,_=Error(t(419)),f=$p(_,f,void 0),_d(s,a,S,f)}if(R=(S&s.childLanes)!==0,Dn||R){if(f=Wt,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,gi(s,g),wr(f,s,g,-1))}return fm(),f=$p(Error(t(421))),_d(s,a,S,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=jP.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,Fn=Ji(g.nextSibling),Ln=a,ht=!0,gr=null,s!==null&&(qn[Kn++]=pi,qn[Kn++]=mi,qn[Kn++]=lo,pi=s.id,mi=s.overflow,lo=a),a=Xp(a,f.children),a.flags|=4096,a)}function s0(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Pp(s.return,a,u)}function Jp(s,a,u,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function o0(s,a,u){var f=a.pendingProps,g=f.revealOrder,_=f.tail;if(pn(s,a,f.children,u),f=mt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&s0(s,u,a);else if(s.tag===19)s0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ot(mt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&hd(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Jp(a,!1,g,u,_);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&hd(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Jp(a,!0,u,null,_);break;case"together":Jp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function wd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function vi(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),po|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=us(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=us(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function PP(s,a,u){switch(a.tag){case 3:n0(a),Aa();break;case 5:w_(a);break;case 1:kn(a.type)&&nd(a);break;case 4:bp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;ot(ld,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(ot(mt,mt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?i0(s,a,u):(ot(mt,mt.current&1),s=vi(s,a,u),s!==null?s.sibling:null);ot(mt,mt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return o0(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ot(mt,mt.current),f)break;return null;case 22:case 23:return a.lanes=0,Z_(s,a,u)}return vi(s,a,u)}var a0,Zp,l0,u0;a0=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Zp=function(){},l0=function(s,a,u,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,ho(Or.current);var _=null;switch(u){case"input":g=Hs(s,g),f=Hs(s,f),_=[];break;case"select":g=ae({},g,{value:void 0}),f=ae({},f,{value:void 0}),_=[];break;case"textarea":g=xl(s,g),f=xl(s,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Zc)}Ol(u,f);var S;u=null;for(q in g)if(!f.hasOwnProperty(q)&&g.hasOwnProperty(q)&&g[q]!=null)if(q==="style"){var R=g[q];for(S in R)R.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?_||(_=[]):(_=_||[]).push(q,null));for(q in f){var V=f[q];if(R=g!=null?g[q]:void 0,f.hasOwnProperty(q)&&V!==R&&(V!=null||R!=null))if(q==="style")if(R){for(S in R)!R.hasOwnProperty(S)||V&&V.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in V)V.hasOwnProperty(S)&&R[S]!==V[S]&&(u||(u={}),u[S]=V[S])}else u||(_||(_=[]),_.push(q,u)),u=V;else q==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,R=R?R.__html:void 0,V!=null&&R!==V&&(_=_||[]).push(q,V)):q==="children"?typeof V!="string"&&typeof V!="number"||(_=_||[]).push(q,""+V):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(V!=null&&q==="onScroll"&&at("scroll",s),_||R===V||(_=[])):(_=_||[]).push(q,V))}u&&(_=_||[]).push("style",u);var q=_;(a.updateQueue=q)&&(a.flags|=4)}},u0=function(s,a,u,f){u!==f&&(a.flags|=4)};function mu(s,a){if(!ht)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function xP(s,a,u){var f=a.pendingProps;switch(Tp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return kn(a.type)&&td(),rn(a),null;case 3:return f=a.stateNode,Na(),lt(Sn),lt(tn),Np(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(od(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gr!==null&&(cm(gr),gr=null))),Zp(s,a),rn(a),null;case 5:Rp(a);var g=ho(cu.current);if(u=a.type,s!==null&&a.stateNode!=null)l0(s,a,u,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return rn(a),null}if(s=ho(Or.current),od(a)){f=a.stateNode,u=a.type;var _=a.memoizedProps;switch(f[Nr]=a,f[su]=_,s=(a.mode&1)!==0,u){case"dialog":at("cancel",f),at("close",f);break;case"iframe":case"object":case"embed":at("load",f);break;case"video":case"audio":for(g=0;g<nu.length;g++)at(nu[g],f);break;case"source":at("error",f);break;case"img":case"image":case"link":at("error",f),at("load",f);break;case"details":at("toggle",f);break;case"input":Qo(f,_),at("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},at("invalid",f);break;case"textarea":Xo(f,_),at("invalid",f)}Ol(u,_),g=null;for(var S in _)if(_.hasOwnProperty(S)){var R=_[S];S==="children"?typeof R=="string"?f.textContent!==R&&(_.suppressHydrationWarning!==!0&&Jc(f.textContent,R,s),g=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&Jc(f.textContent,R,s),g=["children",""+R]):i.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&at("scroll",f)}switch(u){case"input":Yt(f),kc(f,_,!0);break;case"textarea":Yt(f),Al(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Zc)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Mt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(u,{is:f.is}):(s=S.createElement(u),u==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,u),s[Nr]=a,s[su]=f,a0(s,a,!1,!1),a.stateNode=s;e:{switch(S=Vl(u,f),u){case"dialog":at("cancel",s),at("close",s),g=f;break;case"iframe":case"object":case"embed":at("load",s),g=f;break;case"video":case"audio":for(g=0;g<nu.length;g++)at(nu[g],s);g=f;break;case"source":at("error",s),g=f;break;case"img":case"image":case"link":at("error",s),at("load",s),g=f;break;case"details":at("toggle",s),g=f;break;case"input":Qo(s,f),g=Hs(s,f),at("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ae({},f,{value:void 0}),at("invalid",s);break;case"textarea":Xo(s,f),g=xl(s,f),at("invalid",s);break;default:g=f}Ol(u,g),R=g;for(_ in R)if(R.hasOwnProperty(_)){var V=R[_];_==="style"?Ml(s,V):_==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&bl(s,V)):_==="children"?typeof V=="string"?(u!=="textarea"||V!=="")&&Bi(s,V):typeof V=="number"&&Bi(s,""+V):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?V!=null&&_==="onScroll"&&at("scroll",s):V!=null&&F(s,_,V,S))}switch(u){case"input":Yt(s),kc(s,f,!1);break;case"textarea":Yt(s),Al(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ye(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?ii(s,!!f.multiple,_,!1):f.defaultValue!=null&&ii(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Zc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(s&&a.stateNode!=null)u0(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(u=ho(cu.current),ho(Or.current),od(a)){if(f=a.stateNode,u=a.memoizedProps,f[Nr]=a,(_=f.nodeValue!==u)&&(s=Ln,s!==null))switch(s.tag){case 3:Jc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Jc(f.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Nr]=a,a.stateNode=f}return rn(a),null;case 13:if(lt(mt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&Fn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)h_(),Aa(),a.flags|=98560,_=!1;else if(_=od(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Nr]=a}else Aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),_=!1}else gr!==null&&(cm(gr),gr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(mt.current&1)!==0?Lt===0&&(Lt=3):fm())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return Na(),Zp(s,a),s===null&&ru(a.stateNode.containerInfo),rn(a),null;case 10:return Cp(a.type._context),rn(a),null;case 17:return kn(a.type)&&td(),rn(a),null;case 19:if(lt(mt),_=a.memoizedState,_===null)return rn(a),null;if(f=(a.flags&128)!==0,S=_.rendering,S===null)if(f)mu(_,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=hd(s),S!==null){for(a.flags|=128,mu(_,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)_=u,s=f,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,s=S.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return ot(mt,mt.current&1|2),a.child}s=s.sibling}_.tail!==null&&st()>Fa&&(a.flags|=128,f=!0,mu(_,!1),a.lanes=4194304)}else{if(!f)if(s=hd(S),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),mu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!ht)return rn(a),null}else 2*st()-_.renderingStartTime>Fa&&u!==1073741824&&(a.flags|=128,f=!0,mu(_,!1),a.lanes=4194304);_.isBackwards?(S.sibling=a.child,a.child=S):(u=_.last,u!==null?u.sibling=S:a.child=S,_.last=S)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=st(),a.sibling=null,u=mt.current,ot(mt,f?u&1|2:u&1),a):(rn(a),null);case 22:case 23:return hm(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Un&1073741824)!==0&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function AP(s,a){switch(Tp(a),a.tag){case 1:return kn(a.type)&&td(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Na(),lt(Sn),lt(tn),Np(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Rp(a),null;case 13:if(lt(mt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return lt(mt),null;case 4:return Na(),null;case 10:return Cp(a.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var Td=!1,sn=!1,bP=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Va(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){wt(s,a,f)}else u.current=null}function em(s,a,u){try{u()}catch(f){wt(s,a,f)}}var c0=!1;function RP(s,a){if(hp=Qi,s=Wv(),ip(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,R=-1,V=-1,q=0,ie=0,se=s,re=null;t:for(;;){for(var fe;se!==u||g!==0&&se.nodeType!==3||(R=S+g),se!==_||f!==0&&se.nodeType!==3||(V=S+f),se.nodeType===3&&(S+=se.nodeValue.length),(fe=se.firstChild)!==null;)re=se,se=fe;for(;;){if(se===s)break t;if(re===u&&++q===g&&(R=S),re===_&&++ie===f&&(V=S),(fe=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=fe}u=R===-1||V===-1?null:{start:R,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(fp={focusedElem:s,selectionRange:u},Qi=!1,ye=a;ye!==null;)if(a=ye,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ye=s;else for(;ye!==null;){a=ye;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,St=_e.memoizedState,z=a.stateNode,j=z.getSnapshotBeforeUpdate(a.elementType===a.type?we:yr(a.type,we),St);z.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var $=a.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){wt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,ye=s;break}ye=a.return}return _e=c0,c0=!1,_e}function gu(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&em(a,u,_)}g=g.next}while(g!==f)}}function Ed(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function tm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function d0(s){var a=s.alternate;a!==null&&(s.alternate=null,d0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Nr],delete a[su],delete a[yp],delete a[pP],delete a[mP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function h0(s){return s.tag===5||s.tag===3||s.tag===4}function f0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||h0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function nm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Zc));else if(f!==4&&(s=s.child,s!==null))for(nm(s,a,u),s=s.sibling;s!==null;)nm(s,a,u),s=s.sibling}function rm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(rm(s,a,u),s=s.sibling;s!==null;)rm(s,a,u),s=s.sibling}var Qt=null,vr=!1;function is(s,a,u){for(u=u.child;u!==null;)p0(s,a,u),u=u.sibling}function p0(s,a,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Zs,u)}catch{}switch(u.tag){case 5:sn||Va(u,a);case 6:var f=Qt,g=vr;Qt=null,is(s,a,u),Qt=f,vr=g,Qt!==null&&(vr?(s=Qt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Qt.removeChild(u.stateNode));break;case 18:Qt!==null&&(vr?(s=Qt,u=u.stateNode,s.nodeType===8?gp(s.parentNode,u):s.nodeType===1&&gp(s,u),fr(s)):gp(Qt,u.stateNode));break;case 4:f=Qt,g=vr,Qt=u.stateNode.containerInfo,vr=!0,is(s,a,u),Qt=f,vr=g;break;case 0:case 11:case 14:case 15:if(!sn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&em(u,a,S),g=g.next}while(g!==f)}is(s,a,u);break;case 1:if(!sn&&(Va(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(R){wt(u,a,R)}is(s,a,u);break;case 21:is(s,a,u);break;case 22:u.mode&1?(sn=(f=sn)||u.memoizedState!==null,is(s,a,u),sn=f):is(s,a,u);break;default:is(s,a,u)}}function m0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new bP),a.forEach(function(f){var g=BP.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function _r(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=s,S=a,R=S;e:for(;R!==null;){switch(R.tag){case 5:Qt=R.stateNode,vr=!1;break e;case 3:Qt=R.stateNode.containerInfo,vr=!0;break e;case 4:Qt=R.stateNode.containerInfo,vr=!0;break e}R=R.return}if(Qt===null)throw Error(t(160));p0(_,S,g),Qt=null,vr=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(q){wt(g,a,q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)g0(a,s),a=a.sibling}function g0(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_r(a,s),Lr(s),f&4){try{gu(3,s,s.return),Ed(3,s)}catch(we){wt(s,s.return,we)}try{gu(5,s,s.return)}catch(we){wt(s,s.return,we)}}break;case 1:_r(a,s),Lr(s),f&512&&u!==null&&Va(u,u.return);break;case 5:if(_r(a,s),Lr(s),f&512&&u!==null&&Va(u,u.return),s.flags&32){var g=s.stateNode;try{Bi(g,"")}catch(we){wt(s,s.return,we)}}if(f&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,S=u!==null?u.memoizedProps:_,R=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&Cl(g,_),Vl(R,S);var q=Vl(R,_);for(S=0;S<V.length;S+=2){var ie=V[S],se=V[S+1];ie==="style"?Ml(g,se):ie==="dangerouslySetInnerHTML"?bl(g,se):ie==="children"?Bi(g,se):F(g,ie,se,q)}switch(R){case"input":Pl(g,_);break;case"textarea":Jo(g,_);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var fe=_.value;fe!=null?ii(g,!!_.multiple,fe,!1):re!==!!_.multiple&&(_.defaultValue!=null?ii(g,!!_.multiple,_.defaultValue,!0):ii(g,!!_.multiple,_.multiple?[]:"",!1))}g[su]=_}catch(we){wt(s,s.return,we)}}break;case 6:if(_r(a,s),Lr(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(we){wt(s,s.return,we)}}break;case 3:if(_r(a,s),Lr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{fr(a.containerInfo)}catch(we){wt(s,s.return,we)}break;case 4:_r(a,s),Lr(s);break;case 13:_r(a,s),Lr(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(om=st())),f&4&&m0(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(sn=(q=sn)||ie,_r(a,s),sn=q):_r(a,s),Lr(s),f&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ie&&(s.mode&1)!==0)for(ye=s,ie=s.child;ie!==null;){for(se=ye=ie;ye!==null;){switch(re=ye,fe=re.child,re.tag){case 0:case 11:case 14:case 15:gu(4,re,re.return);break;case 1:Va(re,re.return);var _e=re.stateNode;if(typeof _e.componentWillUnmount=="function"){f=re,u=re.return;try{a=f,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(we){wt(f,u,we)}}break;case 5:Va(re,re.return);break;case 22:if(re.memoizedState!==null){_0(se);continue}}fe!==null?(fe.return=re,ye=fe):_0(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{g=se.stateNode,q?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=se.stateNode,V=se.memoizedProps.style,S=V!=null&&V.hasOwnProperty("display")?V.display:null,R.style.display=Rl("display",S))}catch(we){wt(s,s.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=q?"":se.memoizedProps}catch(we){wt(s,s.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:_r(a,s),Lr(s),f&4&&m0(s);break;case 21:break;default:_r(a,s),Lr(s)}}function Lr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(h0(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Bi(g,""),f.flags&=-33);var _=f0(s);rm(s,_,g);break;case 3:case 4:var S=f.stateNode.containerInfo,R=f0(s);nm(s,R,S);break;default:throw Error(t(161))}}catch(V){wt(s,s.return,V)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function MP(s,a,u){ye=s,y0(s)}function y0(s,a,u){for(var f=(s.mode&1)!==0;ye!==null;){var g=ye,_=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Td;if(!S){var R=g.alternate,V=R!==null&&R.memoizedState!==null||sn;R=Td;var q=sn;if(Td=S,(sn=V)&&!q)for(ye=g;ye!==null;)S=ye,V=S.child,S.tag===22&&S.memoizedState!==null?w0(g):V!==null?(V.return=S,ye=V):w0(g);for(;_!==null;)ye=_,y0(_),_=_.sibling;ye=g,Td=R,sn=q}v0(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,ye=_):v0(s)}}function v0(s){for(;ye!==null;){var a=ye;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:sn||Ed(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!sn)if(u===null)f.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:yr(a.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&__(a,_,f);break;case 3:var S=a.updateQueue;if(S!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}__(a,S,u)}break;case 5:var R=a.stateNode;if(u===null&&a.flags&4){u=R;var V=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&u.focus();break;case"img":V.src&&(u.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var q=a.alternate;if(q!==null){var ie=q.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&fr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||a.flags&512&&tm(a)}catch(re){wt(a,a.return,re)}}if(a===s){ye=null;break}if(u=a.sibling,u!==null){u.return=a.return,ye=u;break}ye=a.return}}function _0(s){for(;ye!==null;){var a=ye;if(a===s){ye=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ye=u;break}ye=a.return}}function w0(s){for(;ye!==null;){var a=ye;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Ed(4,a)}catch(V){wt(a,u,V)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(V){wt(a,g,V)}}var _=a.return;try{tm(a)}catch(V){wt(a,_,V)}break;case 5:var S=a.return;try{tm(a)}catch(V){wt(a,S,V)}}}catch(V){wt(a,a.return,V)}if(a===s){ye=null;break}var R=a.sibling;if(R!==null){R.return=a.return,ye=R;break}ye=a.return}}var NP=Math.ceil,Sd=H.ReactCurrentDispatcher,im=H.ReactCurrentOwner,Xn=H.ReactCurrentBatchConfig,qe=0,Wt=null,xt=null,Gt=0,Un=0,La=Zi(0),Lt=0,yu=null,po=0,kd=0,sm=0,vu=null,In=null,om=0,Fa=1/0,_i=null,Dd=!1,am=null,ss=null,Id=!1,os=null,Cd=0,_u=0,lm=null,Pd=-1,xd=0;function mn(){return(qe&6)!==0?st():Pd!==-1?Pd:Pd=st()}function as(s){return(s.mode&1)===0?1:(qe&2)!==0&&Gt!==0?Gt&-Gt:yP.transition!==null?(xd===0&&(xd=to()),xd):(s=Be,s!==0||(s=window.event,s=s===void 0?16:ql(s.type)),s)}function wr(s,a,u,f){if(50<_u)throw _u=0,lm=null,Error(t(185));$i(s,u,f),((qe&2)===0||s!==Wt)&&(s===Wt&&((qe&2)===0&&(kd|=u),Lt===4&&ls(s,Gt)),Cn(s,f),u===1&&qe===0&&(a.mode&1)===0&&(Fa=st()+500,rd&&ts()))}function Cn(s,a){var u=s.callbackNode;ai(s,a);var f=eo(s,s===Wt?Gt:0);if(f===0)u!==null&&Wl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Wl(u),a===1)s.tag===0?gP(E0.bind(null,s)):a_(E0.bind(null,s)),hP(function(){(qe&6)===0&&ts()}),u=null;else{switch(qi(f)){case 1:u=Js;break;case 4:u=Wi;break;case 16:u=Hn;break;case 536870912:u=xc;break;default:u=Hn}u=A0(u,T0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function T0(s,a){if(Pd=-1,xd=0,(qe&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ua()&&s.callbackNode!==u)return null;var f=eo(s,s===Wt?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Ad(s,f);else{a=f;var g=qe;qe|=2;var _=k0();(Wt!==s||Gt!==a)&&(_i=null,Fa=st()+500,go(s,a));do try{LP();break}catch(R){S0(s,R)}while(!0);Ip(),Sd.current=_,qe=g,xt!==null?a=0:(Wt=null,Gt=0,a=Lt)}if(a!==0){if(a===2&&(g=Nn(s),g!==0&&(f=g,a=um(s,g))),a===1)throw u=yu,go(s,0),ls(s,f),Cn(s,st()),u;if(a===6)ls(s,f);else{if(g=s.current.alternate,(f&30)===0&&!OP(g)&&(a=Ad(s,f),a===2&&(_=Nn(s),_!==0&&(f=_,a=um(s,_))),a===1))throw u=yu,go(s,0),ls(s,f),Cn(s,st()),u;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:yo(s,In,_i);break;case 3:if(ls(s,f),(f&130023424)===f&&(a=om+500-st(),10<a)){if(eo(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){mn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=mp(yo.bind(null,s,In,_i),a);break}yo(s,In,_i);break;case 4:if(ls(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var S=31-hn(f);_=1<<S,S=a[S],S>g&&(g=S),f&=~_}if(f=g,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*NP(f/1960))-f,10<f){s.timeoutHandle=mp(yo.bind(null,s,In,_i),f);break}yo(s,In,_i);break;case 5:yo(s,In,_i);break;default:throw Error(t(329))}}}return Cn(s,st()),s.callbackNode===u?T0.bind(null,s):null}function um(s,a){var u=vu;return s.current.memoizedState.isDehydrated&&(go(s,a).flags|=256),s=Ad(s,a),s!==2&&(a=In,In=u,a!==null&&cm(a)),s}function cm(s){In===null?In=s:In.push.apply(In,s)}function OP(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!mr(_(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ls(s,a){for(a&=~sm,a&=~kd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-hn(a),f=1<<u;s[u]=-1,a&=~f}}function E0(s){if((qe&6)!==0)throw Error(t(327));Ua();var a=eo(s,0);if((a&1)===0)return Cn(s,st()),null;var u=Ad(s,a);if(s.tag!==0&&u===2){var f=Nn(s);f!==0&&(a=f,u=um(s,f))}if(u===1)throw u=yu,go(s,0),ls(s,a),Cn(s,st()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,yo(s,In,_i),Cn(s,st()),null}function dm(s,a){var u=qe;qe|=1;try{return s(a)}finally{qe=u,qe===0&&(Fa=st()+500,rd&&ts())}}function mo(s){os!==null&&os.tag===0&&(qe&6)===0&&Ua();var a=qe;qe|=1;var u=Xn.transition,f=Be;try{if(Xn.transition=null,Be=1,s)return s()}finally{Be=f,Xn.transition=u,qe=a,(qe&6)===0&&ts()}}function hm(){Un=La.current,lt(La)}function go(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,dP(u)),xt!==null)for(u=xt.return;u!==null;){var f=u;switch(Tp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&td();break;case 3:Na(),lt(Sn),lt(tn),Np();break;case 5:Rp(f);break;case 4:Na();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:Cp(f.type._context);break;case 22:case 23:hm()}u=u.return}if(Wt=s,xt=s=us(s.current,null),Gt=Un=a,Lt=0,yu=null,sm=kd=po=0,In=vu=null,co!==null){for(a=0;a<co.length;a++)if(u=co[a],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var S=_.next;_.next=g,f.next=S}u.pending=f}co=null}return s}function S0(s,a){do{var u=xt;try{if(Ip(),fd.current=yd,pd){for(var f=gt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}pd=!1}if(fo=0,Bt=Vt=gt=null,du=!1,hu=0,im.current=null,u===null||u.return===null){Lt=1,yu=a,xt=null;break}e:{var _=s,S=u.return,R=u,V=a;if(a=Gt,R.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var q=V,ie=R,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=K_(S);if(fe!==null){fe.flags&=-257,Q_(fe,S,R,_,a),fe.mode&1&&q_(_,q,a),a=fe,V=q;var _e=a.updateQueue;if(_e===null){var we=new Set;we.add(V),a.updateQueue=we}else _e.add(V);break e}else{if((a&1)===0){q_(_,q,a),fm();break e}V=Error(t(426))}}else if(ht&&R.mode&1){var St=K_(S);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Q_(St,S,R,_,a),kp(Oa(V,R));break e}}_=V=Oa(V,R),Lt!==4&&(Lt=2),vu===null?vu=[_]:vu.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var z=$_(_,V,a);v_(_,z);break e;case 1:R=V;var j=_.type,$=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ss===null||!ss.has($)))){_.flags|=65536,a&=-a,_.lanes|=a;var oe=Y_(_,R,a);v_(_,oe);break e}}_=_.return}while(_!==null)}I0(u)}catch(Te){a=Te,xt===u&&u!==null&&(xt=u=u.return);continue}break}while(!0)}function k0(){var s=Sd.current;return Sd.current=yd,s===null?yd:s}function fm(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Wt===null||(po&268435455)===0&&(kd&268435455)===0||ls(Wt,Gt)}function Ad(s,a){var u=qe;qe|=2;var f=k0();(Wt!==s||Gt!==a)&&(_i=null,go(s,a));do try{VP();break}catch(g){S0(s,g)}while(!0);if(Ip(),qe=u,Sd.current=f,xt!==null)throw Error(t(261));return Wt=null,Gt=0,Lt}function VP(){for(;xt!==null;)D0(xt)}function LP(){for(;xt!==null&&!Cc();)D0(xt)}function D0(s){var a=x0(s.alternate,s,Un);s.memoizedProps=s.pendingProps,a===null?I0(s):xt=a,im.current=null}function I0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=xP(u,a,Un),u!==null){xt=u;return}}else{if(u=AP(u,a),u!==null){u.flags&=32767,xt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Lt=6,xt=null;return}}if(a=a.sibling,a!==null){xt=a;return}xt=a=s}while(a!==null);Lt===0&&(Lt=5)}function yo(s,a,u){var f=Be,g=Xn.transition;try{Xn.transition=null,Be=1,FP(s,a,u,f)}finally{Xn.transition=g,Be=f}return null}function FP(s,a,u,f){do Ua();while(os!==null);if((qe&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(it(s,_),s===Wt&&(xt=Wt=null,Gt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Id||(Id=!0,A0(Hn,function(){return Ua(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Xn.transition,Xn.transition=null;var S=Be;Be=1;var R=qe;qe|=4,im.current=null,RP(s,u),g0(u,s),iP(fp),Qi=!!hp,fp=hp=null,s.current=u,MP(u),Gf(),qe=R,Be=S,Xn.transition=_}else s.current=u;if(Id&&(Id=!1,os=s,Cd=g),_=s.pendingLanes,_===0&&(ss=null),Ac(u.stateNode),Cn(s,st()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Dd)throw Dd=!1,s=am,am=null,s;return(Cd&1)!==0&&s.tag!==0&&Ua(),_=s.pendingLanes,(_&1)!==0?s===lm?_u++:(_u=0,lm=s):_u=0,ts(),null}function Ua(){if(os!==null){var s=qi(Cd),a=Xn.transition,u=Be;try{if(Xn.transition=null,Be=16>s?16:s,os===null)var f=!1;else{if(s=os,os=null,Cd=0,(qe&6)!==0)throw Error(t(331));var g=qe;for(qe|=4,ye=s.current;ye!==null;){var _=ye,S=_.child;if((ye.flags&16)!==0){var R=_.deletions;if(R!==null){for(var V=0;V<R.length;V++){var q=R[V];for(ye=q;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:gu(8,ie,_)}var se=ie.child;if(se!==null)se.return=ie,ye=se;else for(;ye!==null;){ie=ye;var re=ie.sibling,fe=ie.return;if(d0(ie),ie===q){ye=null;break}if(re!==null){re.return=fe,ye=re;break}ye=fe}}}var _e=_.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var St=we.sibling;we.sibling=null,we=St}while(we!==null)}}ye=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,ye=S;else e:for(;ye!==null;){if(_=ye,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:gu(9,_,_.return)}var z=_.sibling;if(z!==null){z.return=_.return,ye=z;break e}ye=_.return}}var j=s.current;for(ye=j;ye!==null;){S=ye;var $=S.child;if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,ye=$;else e:for(S=j;ye!==null;){if(R=ye,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Ed(9,R)}}catch(Te){wt(R,R.return,Te)}if(R===S){ye=null;break e}var oe=R.sibling;if(oe!==null){oe.return=R.return,ye=oe;break e}ye=R.return}}if(qe=g,ts(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Zs,s)}catch{}f=!0}return f}finally{Be=u,Xn.transition=a}}return!1}function C0(s,a,u){a=Oa(u,a),a=$_(s,a,1),s=rs(s,a,1),a=mn(),s!==null&&($i(s,1,a),Cn(s,a))}function wt(s,a,u){if(s.tag===3)C0(s,s,u);else for(;a!==null;){if(a.tag===3){C0(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ss===null||!ss.has(f))){s=Oa(u,s),s=Y_(a,s,1),a=rs(a,s,1),s=mn(),a!==null&&($i(a,1,s),Cn(a,s));break}}a=a.return}}function UP(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=mn(),s.pingedLanes|=s.suspendedLanes&u,Wt===s&&(Gt&u)===u&&(Lt===4||Lt===3&&(Gt&130023424)===Gt&&500>st()-om?go(s,0):sm|=u),Cn(s,a)}function P0(s,a){a===0&&((s.mode&1)===0?a=1:(a=la,la<<=1,(la&130023424)===0&&(la=4194304)));var u=mn();s=gi(s,a),s!==null&&($i(s,a,u),Cn(s,u))}function jP(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),P0(s,u)}function BP(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),P0(s,u)}var x0;x0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Sn.current)Dn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Dn=!1,PP(s,a,u);Dn=(s.flags&131072)!==0}else Dn=!1,ht&&(a.flags&1048576)!==0&&l_(a,sd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;wd(s,a),s=a.pendingProps;var g=Ca(a,tn.current);Ma(a,u),g=Lp(null,a,f,s,g,u);var _=Fp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,kn(f)?(_=!0,nd(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ap(a),g.updater=vd,a.stateNode=g,g._reactInternals=a,Hp(a,f,s,u),a=Kp(null,a,f,!0,_,u)):(a.tag=0,ht&&_&&wp(a),pn(null,a,g,u),a=a.child),a;case 16:f=a.elementType;e:{switch(wd(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=zP(f),s=yr(f,s),g){case 0:a=qp(null,a,f,s,u);break e;case 1:a=t0(null,a,f,s,u);break e;case 11:a=G_(null,a,f,s,u);break e;case 14:a=X_(null,a,f,yr(f.type,s),u);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:yr(f,g),qp(s,a,f,g,u);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:yr(f,g),t0(s,a,f,g,u);case 3:e:{if(n0(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,g=_.element,y_(s,a),dd(a,f,null,u);var S=a.memoizedState;if(f=S.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=Oa(Error(t(423)),a),a=r0(s,a,f,u,g);break e}else if(f!==g){g=Oa(Error(t(424)),a),a=r0(s,a,f,u,g);break e}else for(Fn=Ji(a.stateNode.containerInfo.firstChild),Ln=a,ht=!0,gr=null,u=m_(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Aa(),f===g){a=vi(s,a,u);break e}pn(s,a,f,u)}a=a.child}return a;case 5:return w_(a),s===null&&Sp(a),f=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,S=g.children,pp(f,g)?S=null:_!==null&&pp(f,_)&&(a.flags|=32),e0(s,a),pn(s,a,S,u),a.child;case 6:return s===null&&Sp(a),null;case 13:return i0(s,a,u);case 4:return bp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=ba(a,null,f,u):pn(s,a,f,u),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:yr(f,g),G_(s,a,f,g,u);case 7:return pn(s,a,a.pendingProps,u),a.child;case 8:return pn(s,a,a.pendingProps.children,u),a.child;case 12:return pn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,_=a.memoizedProps,S=g.value,ot(ld,f._currentValue),f._currentValue=S,_!==null)if(mr(_.value,S)){if(_.children===g.children&&!Sn.current){a=vi(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var R=_.dependencies;if(R!==null){S=_.child;for(var V=R.firstContext;V!==null;){if(V.context===f){if(_.tag===1){V=yi(-1,u&-u),V.tag=2;var q=_.updateQueue;if(q!==null){q=q.shared;var ie=q.pending;ie===null?V.next=V:(V.next=ie.next,ie.next=V),q.pending=V}}_.lanes|=u,V=_.alternate,V!==null&&(V.lanes|=u),Pp(_.return,u,a),R.lanes|=u;break}V=V.next}}else if(_.tag===10)S=_.type===a.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(t(341));S.lanes|=u,R=S.alternate,R!==null&&(R.lanes|=u),Pp(S,u,a),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===a){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}pn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Ma(a,u),g=Qn(g),f=f(g),a.flags|=1,pn(s,a,f,u),a.child;case 14:return f=a.type,g=yr(f,a.pendingProps),g=yr(f.type,g),X_(s,a,f,g,u);case 15:return J_(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:yr(f,g),wd(s,a),a.tag=1,kn(f)?(s=!0,nd(a)):s=!1,Ma(a,u),z_(a,f,g),Hp(a,f,g,u),Kp(null,a,f,!0,s,u);case 19:return o0(s,a,u);case 22:return Z_(s,a,u)}throw Error(t(156,a.tag))};function A0(s,a){return oa(s,a)}function WP(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(s,a,u,f){return new WP(s,a,u,f)}function pm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zP(s){if(typeof s=="function")return pm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===O)return 11;if(s===De)return 14}return 2}function us(s,a){var u=s.alternate;return u===null?(u=Jn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function bd(s,a,u,f,g,_){var S=2;if(f=s,typeof s=="function")pm(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case b:return vo(u.children,g,_,a);case k:S=8,g|=8;break;case P:return s=Jn(12,u,a,g|2),s.elementType=P,s.lanes=_,s;case A:return s=Jn(13,u,a,g),s.elementType=A,s.lanes=_,s;case pe:return s=Jn(19,u,a,g),s.elementType=pe,s.lanes=_,s;case de:return Rd(u,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:S=10;break e;case N:S=9;break e;case O:S=11;break e;case De:S=14;break e;case ue:S=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Jn(S,u,a,g),a.elementType=s,a.type=f,a.lanes=_,a}function vo(s,a,u,f){return s=Jn(7,s,f,a),s.lanes=u,s}function Rd(s,a,u,f){return s=Jn(22,s,f,a),s.elementType=de,s.lanes=u,s.stateNode={isHidden:!1},s}function mm(s,a,u){return s=Jn(6,s,null,a),s.lanes=u,s}function gm(s,a,u){return a=Jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function HP(s,a,u,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function ym(s,a,u,f,g,_,S,R,V){return s=new HP(s,a,u,R,V),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Jn(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(_),s}function $P(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function b0(s){if(!s)return es;s=s._reactInternals;e:{if(lr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(kn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(kn(u))return s_(s,u,a)}return a}function R0(s,a,u,f,g,_,S,R,V){return s=ym(u,f,!0,s,g,_,S,R,V),s.context=b0(null),u=s.current,f=mn(),g=as(u),_=yi(f,g),_.callback=a??null,rs(u,_,g),s.current.lanes=g,$i(s,g,f),Cn(s,f),s}function Md(s,a,u,f){var g=a.current,_=mn(),S=as(g);return u=b0(u),a.context===null?a.context=u:a.pendingContext=u,a=yi(_,S),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=rs(g,a,S),s!==null&&(wr(s,g,S,_),cd(s,g,S)),S}function Nd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function M0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function vm(s,a){M0(s,a),(s=s.alternate)&&M0(s,a)}function YP(){return null}var N0=typeof reportError=="function"?reportError:function(s){console.error(s)};function _m(s){this._internalRoot=s}Od.prototype.render=_m.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Md(s,a,null,null)},Od.prototype.unmount=_m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mo(function(){Md(null,s,null,null)}),a[hi]=null}};function Od(s){this._internalRoot=s}Od.prototype.unstable_scheduleHydration=function(s){if(s){var a=Oc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ar.length&&a!==0&&a<Ar[u].priority;u++);Ar.splice(u,0,s),u===0&&Fc(s)}};function wm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function O0(){}function qP(s,a,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var q=Nd(S);_.call(q)}}var S=R0(a,f,s,0,null,!1,!1,"",O0);return s._reactRootContainer=S,s[hi]=S.current,ru(s.nodeType===8?s.parentNode:s),mo(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var R=f;f=function(){var q=Nd(V);R.call(q)}}var V=ym(s,0,!1,null,null,!1,!1,"",O0);return s._reactRootContainer=V,s[hi]=V.current,ru(s.nodeType===8?s.parentNode:s),mo(function(){Md(a,V,u,f)}),V}function Ld(s,a,u,f,g){var _=u._reactRootContainer;if(_){var S=_;if(typeof g=="function"){var R=g;g=function(){var V=Nd(S);R.call(V)}}Md(a,S,s,g)}else S=qP(u,a,s,g,f);return Nd(S)}Mc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=zi(a.pendingLanes);u!==0&&(Yi(a,u|1),Cn(a,st()),(qe&6)===0&&(Fa=st()+500,ts()))}break;case 13:mo(function(){var f=gi(s,1);if(f!==null){var g=mn();wr(f,s,1,g)}}),vm(s,1)}},ua=function(s){if(s.tag===13){var a=gi(s,134217728);if(a!==null){var u=mn();wr(a,s,134217728,u)}vm(s,134217728)}},Nc=function(s){if(s.tag===13){var a=as(s),u=gi(s,a);if(u!==null){var f=mn();wr(u,s,a,f)}vm(s,a)}},Oc=function(){return Be},Vc=function(s,a){var u=Be;try{return Be=s,a()}finally{Be=u}},ea=function(s,a,u){switch(a){case"input":if(Pl(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var g=ed(f);if(!g)throw Error(t(90));zs(f),Pl(f,g)}}}break;case"textarea":Jo(s,u);break;case"select":a=u.value,a!=null&&ii(s,!!u.multiple,a,!1)}},Ks=dm,Fl=mo;var KP={usingClientEntryPoint:!1,Events:[ou,Da,ed,Pr,Ll,dm]},wu={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Bl(s),s===null?null:s.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||YP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Zs=Fd.inject(QP),Mn=Fd}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP,Pn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(a))throw Error(t(200));return $P(s,a,null,u)},Pn.createRoot=function(s,a){if(!wm(s))throw Error(t(299));var u=!1,f="",g=N0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=ym(s,1,!1,null,null,u,!1,f,g),s[hi]=a.current,ru(s.nodeType===8?s.parentNode:s),new _m(a)},Pn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Bl(a),s=s===null?null:s.stateNode,s},Pn.flushSync=function(s){return mo(s)},Pn.hydrate=function(s,a,u){if(!Vd(a))throw Error(t(200));return Ld(null,s,a,!0,u)},Pn.hydrateRoot=function(s,a,u){if(!wm(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",S=N0;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),a=R0(a,null,s,1,u??null,g,!1,_,S),s[hi]=a.current,ru(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Od(a)},Pn.render=function(s,a,u){if(!Vd(a))throw Error(t(200));return Ld(null,s,a,!1,u)},Pn.unmountComponentAtNode=function(s){if(!Vd(s))throw Error(t(40));return s._reactRootContainer?(mo(function(){Ld(null,null,s,!1,function(){s._reactRootContainer=null,s[hi]=null})}),!0):!1},Pn.unstable_batchedUpdates=dm,Pn.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!Vd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ld(s,a,u,!1,f)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var z0;function cS(){if(z0)return Sm.exports;z0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=ox(),Sm.exports}var H0;function ax(){if(H0)return Ud;H0=1;var r=cS();return Ud.createRoot=r.createRoot,Ud.hydrateRoot=r.hydrateRoot,Ud}var lx=ax();const ux=Gg(lx),dS="/assets/logo-C7DZ37zN.png",cx=()=>K.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-text transition-all duration-500",children:[K.jsx("img",{src:dS,alt:"Milan Pilates Logo",className:"w-52 mb-6 animate-pulse"}),K.jsx("p",{className:"text-muted text-sm",children:"טוען את האפליקציה..."})]}),hS=({title:r})=>K.jsx("header",{className:"bg-blue-600 text-white p-4 shadow-md",children:K.jsx("h1",{className:"text-xl font-bold text-center",children:r})}),dx=()=>{};var $0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},hx=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},pS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,p=d?r[i+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,E=p&63;d||(E=64,l||(w=64)),n.push(t[m],t[y],t[w],t[E])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(fS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const p=i<r.length?t[r.charAt(i)]:64;++i;const y=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||p==null||y==null)throw new fx;const w=o<<2|c>>4;if(n.push(w),p!==64){const E=c<<4&240|p>>2;if(n.push(E),y!==64){const D=p<<6&192|y;n.push(D)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const px=function(r){const e=fS(r);return pS.encodeByteArray(e,!0)},Eh=function(r){return px(r).replace(/\./g,"")},mS=function(r){try{return pS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=()=>mx().__FIREBASE_DEFAULTS__,yx=()=>{if(typeof process>"u"||typeof $0>"u")return;const r=$0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&mS(r[1]);return e&&JSON.parse(e)},df=()=>{try{return dx()||gx()||yx()||vx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gS=r=>{var e,t;return(t=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},yS=r=>{const e=gS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},vS=()=>{var r;return(r=df())===null||r===void 0?void 0:r.config},_S=r=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Eh(JSON.stringify(t)),Eh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Tx(){var r;const e=(r=df())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ex(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dx(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ix(){return!Tx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cx(){try{return typeof indexedDB=="object"}catch{return!1}}function Px(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="FirebaseError";class ei extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=xx,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Ax(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ei(i,c,n)}}function Ax(r,e){return r.replace(bx,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const bx=/\{\$([^}]+)}/g;function Rx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ro(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(Y0(o)&&Y0(l)){if(!Ro(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function Y0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Mx(r,e){const t=new Nx(r,e);return t.subscribe.bind(t)}class Nx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Ox(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Im),i.error===void 0&&(i.error=Im),i.complete===void 0&&(i.complete=Im);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ox(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new _x;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fx(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Lx(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lx(r){return r===wo?void 0:r}function Fx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const jx={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Bx=Ue.INFO,Wx={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},zx=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=Wx[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=Bx,this._logHandler=zx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Hx=(r,e)=>e.some(t=>r instanceof t);let q0,K0;function $x(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yx(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TS=new WeakMap,ig=new WeakMap,ES=new WeakMap,Cm=new WeakMap,Zg=new WeakMap;function qx(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(Ts(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&TS.set(t,r)}).catch(()=>{}),Zg.set(e,r),e}function Kx(r){if(ig.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});ig.set(r,e)}let sg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ig.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ES.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Qx(r){sg=r(sg)}function Gx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Pm(this),e,...t);return ES.set(n,e.sort?e.sort():[e]),Ts(n)}:Yx().includes(r)?function(...e){return r.apply(Pm(this),e),Ts(TS.get(this))}:function(...e){return Ts(r.apply(Pm(this),e))}}function Xx(r){return typeof r=="function"?Gx(r):(r instanceof IDBTransaction&&Kx(r),Hx(r,$x())?new Proxy(r,sg):r)}function Ts(r){if(r instanceof IDBRequest)return qx(r);if(Cm.has(r))return Cm.get(r);const e=Xx(r);return e!==r&&(Cm.set(r,e),Zg.set(e,r)),e}const Pm=r=>Zg.get(r);function Jx(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=Ts(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Ts(l.result),d.oldVersion,d.newVersion,Ts(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Zx=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],xm=new Map;function Q0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=eA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Zx.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&d.done]))[0]};return xm.set(e,o),o}Qx(r=>({...r,get:(e,t,n)=>Q0(e,t)||r.get(e,t,n),has:(e,t)=>!!Q0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nA(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function nA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",G0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Jg("@firebase/app"),rA="@firebase/app-compat",iA="@firebase/analytics-compat",sA="@firebase/analytics",oA="@firebase/app-check-compat",aA="@firebase/app-check",lA="@firebase/auth",uA="@firebase/auth-compat",cA="@firebase/database",dA="@firebase/data-connect",hA="@firebase/database-compat",fA="@firebase/functions",pA="@firebase/functions-compat",mA="@firebase/installations",gA="@firebase/installations-compat",yA="@firebase/messaging",vA="@firebase/messaging-compat",_A="@firebase/performance",wA="@firebase/performance-compat",TA="@firebase/remote-config",EA="@firebase/remote-config-compat",SA="@firebase/storage",kA="@firebase/storage-compat",DA="@firebase/firestore",IA="@firebase/vertexai",CA="@firebase/firestore-compat",PA="firebase",xA="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",AA={[og]:"fire-core",[rA]:"fire-core-compat",[sA]:"fire-analytics",[iA]:"fire-analytics-compat",[aA]:"fire-app-check",[oA]:"fire-app-check-compat",[lA]:"fire-auth",[uA]:"fire-auth-compat",[cA]:"fire-rtdb",[dA]:"fire-data-connect",[hA]:"fire-rtdb-compat",[fA]:"fire-fn",[pA]:"fire-fn-compat",[mA]:"fire-iid",[gA]:"fire-iid-compat",[yA]:"fire-fcm",[vA]:"fire-fcm-compat",[_A]:"fire-perf",[wA]:"fire-perf-compat",[TA]:"fire-rc",[EA]:"fire-rc-compat",[SA]:"fire-gcs",[kA]:"fire-gcs-compat",[DA]:"fire-fst",[CA]:"fire-fst-compat",[IA]:"fire-vertex","fire-js":"fire-js",[PA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,bA=new Map,lg=new Map;function X0(r,e){try{r.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Mo(r){const e=r.name;if(lg.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,r);for(const t of Sh.values())X0(t,r);for(const t of bA.values())X0(t,r);return!0}function hf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Tr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new ic("app","Firebase",RA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=xA;function SS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(t||(t=vS()),!t)throw Es.create("no-options");const o=Sh.get(i);if(o){if(Ro(t,o.options)&&Ro(n,o.config))return o;throw Es.create("duplicate-app",{appName:i})}const l=new Ux(i);for(const d of lg.values())l.addComponent(d);const c=new MA(t,n,l);return Sh.set(i,c),c}function ey(r=ag){const e=Sh.get(r);if(!e&&r===ag&&vS())return SS();if(!e)throw Es.create("no-app",{appName:r});return e}function Hr(r,e,t){var n;let i=(n=AA[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(c.join(" "));return}Mo(new Ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firebase-heartbeat-database",OA=1,Hu="firebase-heartbeat-store";let Am=null;function kS(){return Am||(Am=Jx(NA,OA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Es.create("idb-open",{originalErrorMessage:r.message})})),Am}async function VA(r){try{const t=(await kS()).transaction(Hu),n=await t.objectStore(Hu).get(DS(r));return await t.done,n}catch(e){if(e instanceof ei)Ri.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function J0(r,e){try{const n=(await kS()).transaction(Hu,"readwrite");await n.objectStore(Hu).put(e,DS(r)),await n.done}catch(t){if(t instanceof ei)Ri.warn(t.message);else{const n=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(n.message)}}}function DS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1024,FA=30;class UA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BA(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Z0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>FA){const l=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ri.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z0(),{heartbeatsToSend:n,unsentEntries:i}=jA(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ri.warn(t),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function jA(r,e=LA){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),ew(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ew(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class BA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cx()?Px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return J0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return J0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ew(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function WA(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(r){Mo(new Ps("platform-logger",e=>new tA(e),"PRIVATE")),Mo(new Ps("heartbeat",e=>new UA(e),"PRIVATE")),Hr(og,G0,r),Hr(og,G0,"esm2017"),Hr("fire-js","")}zA("");var HA="firebase",$A="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(HA,$A,"app");var tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,IS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,k){function P(){}P.prototype=k.prototype,b.D=k.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(M,N,O){for(var A=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)A[pe-2]=arguments[pe];return k.prototype[N].apply(M,A)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,k,P){P||(P=0);var M=Array(16);if(typeof k=="string")for(var N=0;16>N;++N)M[N]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(N=0;16>N;++N)M[N]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=b.g[0],P=b.g[1],N=b.g[2];var O=b.g[3],A=k+(O^P&(N^O))+M[0]+3614090360&4294967295;k=P+(A<<7&4294967295|A>>>25),A=O+(N^k&(P^N))+M[1]+3905402710&4294967295,O=k+(A<<12&4294967295|A>>>20),A=N+(P^O&(k^P))+M[2]+606105819&4294967295,N=O+(A<<17&4294967295|A>>>15),A=P+(k^N&(O^k))+M[3]+3250441966&4294967295,P=N+(A<<22&4294967295|A>>>10),A=k+(O^P&(N^O))+M[4]+4118548399&4294967295,k=P+(A<<7&4294967295|A>>>25),A=O+(N^k&(P^N))+M[5]+1200080426&4294967295,O=k+(A<<12&4294967295|A>>>20),A=N+(P^O&(k^P))+M[6]+2821735955&4294967295,N=O+(A<<17&4294967295|A>>>15),A=P+(k^N&(O^k))+M[7]+4249261313&4294967295,P=N+(A<<22&4294967295|A>>>10),A=k+(O^P&(N^O))+M[8]+1770035416&4294967295,k=P+(A<<7&4294967295|A>>>25),A=O+(N^k&(P^N))+M[9]+2336552879&4294967295,O=k+(A<<12&4294967295|A>>>20),A=N+(P^O&(k^P))+M[10]+4294925233&4294967295,N=O+(A<<17&4294967295|A>>>15),A=P+(k^N&(O^k))+M[11]+2304563134&4294967295,P=N+(A<<22&4294967295|A>>>10),A=k+(O^P&(N^O))+M[12]+1804603682&4294967295,k=P+(A<<7&4294967295|A>>>25),A=O+(N^k&(P^N))+M[13]+4254626195&4294967295,O=k+(A<<12&4294967295|A>>>20),A=N+(P^O&(k^P))+M[14]+2792965006&4294967295,N=O+(A<<17&4294967295|A>>>15),A=P+(k^N&(O^k))+M[15]+1236535329&4294967295,P=N+(A<<22&4294967295|A>>>10),A=k+(N^O&(P^N))+M[1]+4129170786&4294967295,k=P+(A<<5&4294967295|A>>>27),A=O+(P^N&(k^P))+M[6]+3225465664&4294967295,O=k+(A<<9&4294967295|A>>>23),A=N+(k^P&(O^k))+M[11]+643717713&4294967295,N=O+(A<<14&4294967295|A>>>18),A=P+(O^k&(N^O))+M[0]+3921069994&4294967295,P=N+(A<<20&4294967295|A>>>12),A=k+(N^O&(P^N))+M[5]+3593408605&4294967295,k=P+(A<<5&4294967295|A>>>27),A=O+(P^N&(k^P))+M[10]+38016083&4294967295,O=k+(A<<9&4294967295|A>>>23),A=N+(k^P&(O^k))+M[15]+3634488961&4294967295,N=O+(A<<14&4294967295|A>>>18),A=P+(O^k&(N^O))+M[4]+3889429448&4294967295,P=N+(A<<20&4294967295|A>>>12),A=k+(N^O&(P^N))+M[9]+568446438&4294967295,k=P+(A<<5&4294967295|A>>>27),A=O+(P^N&(k^P))+M[14]+3275163606&4294967295,O=k+(A<<9&4294967295|A>>>23),A=N+(k^P&(O^k))+M[3]+4107603335&4294967295,N=O+(A<<14&4294967295|A>>>18),A=P+(O^k&(N^O))+M[8]+1163531501&4294967295,P=N+(A<<20&4294967295|A>>>12),A=k+(N^O&(P^N))+M[13]+2850285829&4294967295,k=P+(A<<5&4294967295|A>>>27),A=O+(P^N&(k^P))+M[2]+4243563512&4294967295,O=k+(A<<9&4294967295|A>>>23),A=N+(k^P&(O^k))+M[7]+1735328473&4294967295,N=O+(A<<14&4294967295|A>>>18),A=P+(O^k&(N^O))+M[12]+2368359562&4294967295,P=N+(A<<20&4294967295|A>>>12),A=k+(P^N^O)+M[5]+4294588738&4294967295,k=P+(A<<4&4294967295|A>>>28),A=O+(k^P^N)+M[8]+2272392833&4294967295,O=k+(A<<11&4294967295|A>>>21),A=N+(O^k^P)+M[11]+1839030562&4294967295,N=O+(A<<16&4294967295|A>>>16),A=P+(N^O^k)+M[14]+4259657740&4294967295,P=N+(A<<23&4294967295|A>>>9),A=k+(P^N^O)+M[1]+2763975236&4294967295,k=P+(A<<4&4294967295|A>>>28),A=O+(k^P^N)+M[4]+1272893353&4294967295,O=k+(A<<11&4294967295|A>>>21),A=N+(O^k^P)+M[7]+4139469664&4294967295,N=O+(A<<16&4294967295|A>>>16),A=P+(N^O^k)+M[10]+3200236656&4294967295,P=N+(A<<23&4294967295|A>>>9),A=k+(P^N^O)+M[13]+681279174&4294967295,k=P+(A<<4&4294967295|A>>>28),A=O+(k^P^N)+M[0]+3936430074&4294967295,O=k+(A<<11&4294967295|A>>>21),A=N+(O^k^P)+M[3]+3572445317&4294967295,N=O+(A<<16&4294967295|A>>>16),A=P+(N^O^k)+M[6]+76029189&4294967295,P=N+(A<<23&4294967295|A>>>9),A=k+(P^N^O)+M[9]+3654602809&4294967295,k=P+(A<<4&4294967295|A>>>28),A=O+(k^P^N)+M[12]+3873151461&4294967295,O=k+(A<<11&4294967295|A>>>21),A=N+(O^k^P)+M[15]+530742520&4294967295,N=O+(A<<16&4294967295|A>>>16),A=P+(N^O^k)+M[2]+3299628645&4294967295,P=N+(A<<23&4294967295|A>>>9),A=k+(N^(P|~O))+M[0]+4096336452&4294967295,k=P+(A<<6&4294967295|A>>>26),A=O+(P^(k|~N))+M[7]+1126891415&4294967295,O=k+(A<<10&4294967295|A>>>22),A=N+(k^(O|~P))+M[14]+2878612391&4294967295,N=O+(A<<15&4294967295|A>>>17),A=P+(O^(N|~k))+M[5]+4237533241&4294967295,P=N+(A<<21&4294967295|A>>>11),A=k+(N^(P|~O))+M[12]+1700485571&4294967295,k=P+(A<<6&4294967295|A>>>26),A=O+(P^(k|~N))+M[3]+2399980690&4294967295,O=k+(A<<10&4294967295|A>>>22),A=N+(k^(O|~P))+M[10]+4293915773&4294967295,N=O+(A<<15&4294967295|A>>>17),A=P+(O^(N|~k))+M[1]+2240044497&4294967295,P=N+(A<<21&4294967295|A>>>11),A=k+(N^(P|~O))+M[8]+1873313359&4294967295,k=P+(A<<6&4294967295|A>>>26),A=O+(P^(k|~N))+M[15]+4264355552&4294967295,O=k+(A<<10&4294967295|A>>>22),A=N+(k^(O|~P))+M[6]+2734768916&4294967295,N=O+(A<<15&4294967295|A>>>17),A=P+(O^(N|~k))+M[13]+1309151649&4294967295,P=N+(A<<21&4294967295|A>>>11),A=k+(N^(P|~O))+M[4]+4149444226&4294967295,k=P+(A<<6&4294967295|A>>>26),A=O+(P^(k|~N))+M[11]+3174756917&4294967295,O=k+(A<<10&4294967295|A>>>22),A=N+(k^(O|~P))+M[2]+718787259&4294967295,N=O+(A<<15&4294967295|A>>>17),A=P+(O^(N|~k))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+k&4294967295,b.g[1]=b.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+O&4294967295}n.prototype.u=function(b,k){k===void 0&&(k=b.length);for(var P=k-this.blockSize,M=this.B,N=this.h,O=0;O<k;){if(N==0)for(;O<=P;)i(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<k;)if(M[N++]=b.charCodeAt(O++),N==this.blockSize){i(this,M),N=0;break}}else for(;O<k;)if(M[N++]=b[O++],N==this.blockSize){i(this,M),N=0;break}}this.h=N,this.o+=k},n.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var k=1;k<b.length-8;++k)b[k]=0;var P=8*this.o;for(k=b.length-8;k<b.length;++k)b[k]=P&255,P/=256;for(this.u(b),b=Array(16),k=P=0;4>k;++k)for(var M=0;32>M;M+=8)b[P++]=this.g[k]>>>M&255;return b};function o(b,k){var P=c;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=k(b)}function l(b,k){this.h=k;for(var P=[],M=!0,N=b.length-1;0<=N;N--){var O=b[N]|0;M&&O==k||(P[N]=O,M=!1)}this.g=P}var c={};function d(b){return-128<=b&&128>b?o(b,function(k){return new l([k|0],0>k?-1:0)}):new l([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return y;if(0>b)return x(p(-b));for(var k=[],P=1,M=0;b>=P;M++)k[M]=b/P|0,P*=4294967296;return new l(k,0)}function m(b,k){if(b.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b.charAt(0)=="-")return x(m(b.substring(1),k));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(k,8)),M=y,N=0;N<b.length;N+=8){var O=Math.min(8,b.length-N),A=parseInt(b.substring(N,N+O),k);8>O?(O=p(Math.pow(k,O)),M=M.j(O).add(p(A))):(M=M.j(P),M=M.add(p(A)))}return M}var y=d(0),w=d(1),E=d(16777216);r=l.prototype,r.m=function(){if(C(this))return-x(this).m();for(var b=0,k=1,P=0;P<this.g.length;P++){var M=this.i(P);b+=(0<=M?M:4294967296+M)*k,k*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D(this))return"0";if(C(this))return"-"+x(this).toString(b);for(var k=p(Math.pow(b,6)),P=this,M="";;){var N=H(P,k).g;P=U(P,N.j(k));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=N,D(P))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function D(b){if(b.h!=0)return!1;for(var k=0;k<b.g.length;k++)if(b.g[k]!=0)return!1;return!0}function C(b){return b.h==-1}r.l=function(b){return b=U(this,b),C(b)?-1:D(b)?0:1};function x(b){for(var k=b.g.length,P=[],M=0;M<k;M++)P[M]=~b.g[M];return new l(P,~b.h).add(w)}r.abs=function(){return C(this)?x(this):this},r.add=function(b){for(var k=Math.max(this.g.length,b.g.length),P=[],M=0,N=0;N<=k;N++){var O=M+(this.i(N)&65535)+(b.i(N)&65535),A=(O>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);M=A>>>16,O&=65535,A&=65535,P[N]=A<<16|O}return new l(P,P[P.length-1]&-2147483648?-1:0)};function U(b,k){return b.add(x(k))}r.j=function(b){if(D(this)||D(b))return y;if(C(this))return C(b)?x(this).j(x(b)):x(x(this).j(b));if(C(b))return x(this.j(x(b)));if(0>this.l(E)&&0>b.l(E))return p(this.m()*b.m());for(var k=this.g.length+b.g.length,P=[],M=0;M<2*k;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<b.g.length;N++){var O=this.i(M)>>>16,A=this.i(M)&65535,pe=b.i(N)>>>16,De=b.i(N)&65535;P[2*M+2*N]+=A*De,B(P,2*M+2*N),P[2*M+2*N+1]+=O*De,B(P,2*M+2*N+1),P[2*M+2*N+1]+=A*pe,B(P,2*M+2*N+1),P[2*M+2*N+2]+=O*pe,B(P,2*M+2*N+2)}for(M=0;M<k;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=k;M<2*k;M++)P[M]=0;return new l(P,0)};function B(b,k){for(;(b[k]&65535)!=b[k];)b[k+1]+=b[k]>>>16,b[k]&=65535,k++}function F(b,k){this.g=b,this.h=k}function H(b,k){if(D(k))throw Error("division by zero");if(D(b))return new F(y,y);if(C(b))return k=H(x(b),k),new F(x(k.g),x(k.h));if(C(k))return k=H(b,x(k)),new F(x(k.g),k.h);if(30<b.g.length){if(C(b)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var P=w,M=k;0>=M.l(b);)P=J(P),M=J(M);var N=ne(P,1),O=ne(M,1);for(M=ne(M,2),P=ne(P,2);!D(M);){var A=O.add(M);0>=A.l(b)&&(N=N.add(P),O=A),M=ne(M,1),P=ne(P,1)}return k=U(b,N.j(k)),new F(N,k)}for(N=y;0<=b.l(k);){for(P=Math.max(1,Math.floor(b.m()/k.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=p(P),A=O.j(k);C(A)||0<A.l(b);)P-=M,O=p(P),A=O.j(k);D(O)&&(O=w),N=N.add(O),b=U(b,A)}return new F(N,b)}r.A=function(b){return H(this,b).h},r.and=function(b){for(var k=Math.max(this.g.length,b.g.length),P=[],M=0;M<k;M++)P[M]=this.i(M)&b.i(M);return new l(P,this.h&b.h)},r.or=function(b){for(var k=Math.max(this.g.length,b.g.length),P=[],M=0;M<k;M++)P[M]=this.i(M)|b.i(M);return new l(P,this.h|b.h)},r.xor=function(b){for(var k=Math.max(this.g.length,b.g.length),P=[],M=0;M<k;M++)P[M]=this.i(M)^b.i(M);return new l(P,this.h^b.h)};function J(b){for(var k=b.g.length+1,P=[],M=0;M<k;M++)P[M]=b.i(M)<<1|b.i(M-1)>>>31;return new l(P,b.h)}function ne(b,k){var P=k>>5;k%=32;for(var M=b.g.length-P,N=[],O=0;O<M;O++)N[O]=0<k?b.i(O+P)>>>k|b.i(O+P+1)<<32-k:b.i(O+P);return new l(N,b.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,IS=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Ss=l}).apply(typeof tw<"u"?tw:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CS,Pu,PS,ih,ug,xS,AS,bS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function i(h,v){if(v)e:{var T=n;h=h.split(".");for(var I=0;I<h.length-1;I++){var W=h[I];if(!(W in T))break e;T=T[W]}h=h[h.length-1],I=T[h],v=v(I),v!=I&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var T=0,I=!1,W={next:function(){if(!I&&T<h.length){var Q=T++;return{value:v(Q,h[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(h){return h||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,T){return h.call.apply(h.bind,arguments)}function y(h,v,T){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),h.apply(v,W)}}return function(){return h.apply(v,arguments)}}function w(h,v,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function E(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function D(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(I,W,Q){for(var le=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)le[tt-2]=arguments[tt];return v.prototype[W].apply(I,le)}}function C(h){const v=h.length;if(0<v){const T=Array(v);for(let I=0;I<v;I++)T[I]=h[I];return T}return[]}function x(h,v){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(d(I)){const W=h.length||0,Q=I.length||0;h.length=W+Q;for(let le=0;le<Q;le++)h[W+le]=I[le]}else h.push(I)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var J=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ne(h,v,T){for(const I in h)v.call(T,h[I],I,h)}function b(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function k(h){const v={};for(const T in h)v[T]=h[T];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let T,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(T in I)h[T]=I[T];for(let Q=0;Q<P.length;Q++)T=P[Q],Object.prototype.hasOwnProperty.call(I,T)&&(h[T]=I[T])}}function N(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function O(h){c.setTimeout(()=>{throw h},0)}function A(){var h=ce;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class pe{constructor(){this.h=this.g=null}add(v,T){const I=De.get();I.set(v,T),this.h?this.h.next=I:this.g=I,this.h=I}}var De=new U(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,X=!1,ce=new pe,ae=()=>{const h=c.Promise.resolve(void 0);de=()=>{h.then(L)}};var L=()=>{for(var h;h=A();){try{h.h.call(h.g)}catch(T){O(T)}var v=De;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}X=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return h}();function Oe(h,v){if(Se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(J){e:{try{H(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ve[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Oe.aa.h.call(this)}}D(Oe,Se);var Ve={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Je(h,v,T,I,W){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!I,this.ha=W,this.key=++Ye,this.da=this.fa=!1}function pt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Yt(h){this.src=h,this.g={},this.h=0}Yt.prototype.add=function(h,v,T,I,W){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var le=ji(h,v,I,W);return-1<le?(v=h[le],T||(v.fa=!1)):(v=new Je(v,this.src,Q,!!I,W),v.fa=T,h.push(v)),v};function zs(h,v){var T=v.type;if(T in h.g){var I=h.g[T],W=Array.prototype.indexOf.call(I,v,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(I,W,1),Q&&(pt(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ji(h,v,T,I){for(var W=0;W<h.length;++W){var Q=h[W];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==I)return W}return-1}var Hs="closure_lm_"+(1e6*Math.random()|0),Qo={};function Cl(h,v,T,I,W){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Cl(h,v[Q],T,I,W);return null}return T=Al(T),h&&h[ze]?h.K(v,T,p(I)?!!I.capture:!1,W):Pl(h,v,T,!1,I,W)}function Pl(h,v,T,I,W,Q){if(!v)throw Error("Invalid event type");var le=p(W)?!!W.capture:!!W,tt=Xo(h);if(tt||(h[Hs]=tt=new Yt(h)),T=tt.add(v,T,I,le,Q),T.proxy)return T;if(I=kc(),T.proxy=I,I.src=h,I.listener=T,h.addEventListener)Ne||(W=le),W===void 0&&(W=!1),h.addEventListener(v.toString(),I,W);else if(h.attachEvent)h.attachEvent(ii(v.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function kc(){function h(T){return v.call(h.src,h.listener,T)}const v=xl;return h}function Go(h,v,T,I,W){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Go(h,v[Q],T,I,W);else I=p(I)?!!I.capture:!!I,T=Al(T),h&&h[ze]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],T=ji(Q,T,I,W),-1<T&&(pt(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Xo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ji(v,T,I,W)),(T=-1<h?v[h]:null)&&ri(T))}function ri(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ze])zs(v.i,h);else{var T=h.type,I=h.proxy;v.removeEventListener?v.removeEventListener(T,I,h.capture):v.detachEvent?v.detachEvent(ii(T),I):v.addListener&&v.removeListener&&v.removeListener(I),(T=Xo(v))?(zs(T,h),T.h==0&&(T.src=null,v[Hs]=null)):pt(h)}}}function ii(h){return h in Qo?Qo[h]:Qo[h]="on"+h}function xl(h,v){if(h.da)h=!0;else{v=new Oe(v,this);var T=h.listener,I=h.ha||h.src;h.fa&&ri(h),h=T.call(I,v)}return h}function Xo(h){return h=h[Hs],h instanceof Yt?h:null}var Jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Al(h){return typeof h=="function"?h:(h[Jo]||(h[Jo]=function(v){return h.handleEvent(v)}),h[Jo])}function Mt(){Z.call(this),this.i=new Yt(this),this.M=this,this.F=null}D(Mt,Z),Mt.prototype[ze]=!0,Mt.prototype.removeEventListener=function(h,v,T,I){Go(this,h,v,T,I)};function Nt(h,v){var T,I=h.F;if(I)for(T=[];I;I=I.F)T.push(I);if(h=h.M,I=v.type||v,typeof v=="string")v=new Se(v,h);else if(v instanceof Se)v.target=v.target||h;else{var W=v;v=new Se(I,h),M(v,W)}if(W=!0,T)for(var Q=T.length-1;0<=Q;Q--){var le=v.g=T[Q];W=si(le,I,!0,v)&&W}if(le=v.g=h,W=si(le,I,!0,v)&&W,W=si(le,I,!1,v)&&W,T)for(Q=0;Q<T.length;Q++)le=v.g=T[Q],W=si(le,I,!1,v)&&W}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],I=0;I<T.length;I++)pt(T[I]);delete h.g[v],h.h--}}this.F=null},Mt.prototype.K=function(h,v,T,I){return this.i.add(String(h),v,!1,T,I)},Mt.prototype.L=function(h,v,T,I){return this.i.add(String(h),v,!0,T,I)};function si(h,v,T,I){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Q=0;Q<v.length;++Q){var le=v[Q];if(le&&!le.da&&le.capture==T){var tt=le.listener,Ot=le.ha||le.src;le.fa&&zs(h.i,le),W=tt.call(Ot,I)!==!1&&W}}return W&&!I.defaultPrevented}function bl(h,v,T){if(typeof h=="function")T&&(h=w(h,T));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(h,v||0)}function Bi(h){h.g=bl(()=>{h.g=null,h.i&&(h.i=!1,Bi(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class $s extends Z{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Bi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(h){Z.call(this),this.h=h,this.g={}}D(Ys,Z);var Rl=[];function Ml(h){ne(h.g,function(v,T){this.g.hasOwnProperty(T)&&ri(v)},h),h.g={}}Ys.prototype.N=function(){Ys.aa.N.call(this),Ml(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nl=c.JSON.stringify,Ol=c.JSON.parse,Vl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function qs(){}qs.prototype.h=null;function Zo(h){return h.h||(h.h=h.i())}function ea(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){Se.call(this,"d")}D(Cr,Se);function ta(){Se.call(this,"c")}D(ta,Se);var Pr={},Ll=null;function Ks(){return Ll=Ll||new Mt}Pr.La="serverreachability";function Fl(h){Se.call(this,Pr.La,h)}D(Fl,Se);function oi(h){const v=Ks();Nt(v,new Fl(v))}Pr.STAT_EVENT="statevent";function Ul(h,v){Se.call(this,Pr.STAT_EVENT,h),this.stat=v}D(Ul,Se);function Et(h){const v=Ks();Nt(v,new Ul(v,h))}Pr.Ma="timingevent";function na(h,v){Se.call(this,Pr.Ma,h),this.size=v}D(na,Se);function or(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Qs(){this.g=!0}Qs.prototype.xa=function(){this.g=!1};function Gs(h,v,T,I,W,Q){h.info(function(){if(h.g)if(Q)for(var le="",tt=Q.split("&"),Ot=0;Ot<tt.length;Ot++){var He=tt[Ot].split("=");if(1<He.length){var jt=He[0];He=He[1];var Pt=jt.split("_");le=2<=Pt.length&&Pt[1]=="type"?le+(jt+"="+He+"&"):le+(jt+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+v+`
`+T+`
`+le})}function ra(h,v,T,I,W,Q,le){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+v+`
`+T+`
`+Q+" "+le})}function ar(h,v,T,I){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qf(h,T)+(I?" "+I:"")})}function jl(h,v){h.info(function(){return"TIMEOUT: "+v})}Qs.prototype.info=function(){};function Qf(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var I=T[h];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<W.length;le++)W[le]=""}}}}return Nl(T)}catch{return v}}var ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function Xs(){}D(Xs,qs),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},lr=new Xs;function ur(h,v,T,I){this.j=h,this.i=v,this.l=T,this.R=I||1,this.U=new Ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ic}function Ic(){this.i=null,this.g="",this.h=!1}var Bl={},sa={};function oa(h,v,T){h.L=1,h.v=Yi(Nn(v)),h.m=T,h.P=!0,Wl(h,null)}function Wl(h,v){h.F=Date.now(),st(h),h.A=Nn(h.v);var T=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),Ki(T.i,"t",I),h.C=0,T=h.j.J,h.h=new Ic,h.g=Hc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new $s(w(h.Y,h,h.g),h.O)),v=h.U,T=h.g,I=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Rl[0]=W.toString()),W=Rl);for(var Q=0;Q<W.length;Q++){var le=Cl(T,W[Q],I||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.H?k(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),oi(),Gs(h.i,h.u,h.A,h.l,h.R,h.m)}ur.prototype.ca=function(h){h=h.target;const v=this.M;v&&En(h)==3?v.j():this.Y(h)},ur.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=En(this.g);var v=this.g.Ba();const Yn=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Kl(this.g)))){this.J||Pt!=4||v==7||(v==8||0>=Yn?oi(3):oi(2)),Js(this);var T=this.g.Z();this.X=T;t:if(Cc(this)){var I=Kl(this.g);h="";var W=I.length,Q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Wi(this);var le="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,h+=this.h.i.decode(I[v],{stream:!(Q&&v==W-1)});I.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=T==200,ra(this.i,this.u,this.A,this.l,this.R,Pt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ot=this.g;if((tt=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(tt)){var He=tt;break t}}He=null}if(T=He)ar(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zl(this,T);else{this.o=!1,this.s=3,Et(12),Hn(this),Wi(this);break e}}if(this.P){T=!0;let Vn;for(;!this.J&&this.C<le.length;)if(Vn=Gf(this,le),Vn==sa){Pt==4&&(this.s=4,Et(14),T=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Bl){this.s=4,Et(15),ar(this.i,this.l,le,"[Invalid Chunk]"),T=!1;break}else ar(this.i,this.l,Vn,null),zl(this,Vn);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||le.length!=0||this.h.h||(this.s=1,Et(16),T=!1),this.o=this.o&&T,!T)ar(this.i,this.l,le,"[Invalid Chunked Response]"),Hn(this),Wi(this);else if(0<le.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Gl(jt),jt.M=!0,Et(11))}}else ar(this.i,this.l,le,null),zl(this,le);Pt==4&&Hn(this),this.o&&!this.J&&(Pt==4?ya(this.j,this):(this.o=!1,st(this)))}else ha(this.g),T==400&&0<le.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Hn(this),Wi(this)}}}catch{}finally{}};function Cc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Gf(h,v){var T=h.C,I=v.indexOf(`
`,T);return I==-1?sa:(T=Number(v.substring(T,I)),isNaN(T)?Bl:(I+=1,I+T>v.length?sa:(v=v.slice(I,I+T),h.C=I+T,v)))}ur.prototype.cancel=function(){this.J=!0,Hn(this)};function st(h){h.S=Date.now()+h.I,Pc(h,h.I)}function Pc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=or(w(h.ba,h),v)}function Js(h){h.B&&(c.clearTimeout(h.B),h.B=null)}ur.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(jl(this.i,this.A),this.L!=2&&(oi(),Et(17)),Hn(this),this.s=2,Wi(this)):Pc(this,this.S-h)};function Wi(h){h.j.G==0||h.J||ya(h.j,h)}function Hn(h){Js(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ml(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function zl(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||hn(T.h,h))){if(!h.K&&hn(T.h,h)&&T.G==3){try{var I=T.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)ga(T),pr(T);else break e;ma(T),Et(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=or(w(T.Za,T),6e3));if(1>=Ac(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else di(T,11)}else if((h.K||T.g==h)&&ga(T),!B(v))for(W=T.Da.g.parse(v),v=0;v<W.length;v++){let He=W[v];if(T.T=He[0],He=He[1],T.G==2)if(He[0]=="c"){T.K=He[1],T.ia=He[2];const jt=He[3];jt!=null&&(T.la=jt,T.j.info("VER="+T.la));const Pt=He[4];Pt!=null&&(T.Aa=Pt,T.j.info("SVER="+T.Aa));const Yn=He[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(I=1.5*Yn,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const Vn=h.g;if(Vn){const so=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var Q=I.h;Q.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Hl(Q,Q.h),Q.h=null))}if(I.D){const _a=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(I.ya=_a,it(I.I,I.D,_a))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var le=h;if(I.qa=zc(I,I.J?I.ia:null,I.W),le.K){bc(I.h,le);var tt=le,Ot=I.L;Ot&&(tt.I=Ot),tt.B&&(Js(tt),st(tt)),I.g=le}else io(I);0<T.i.length&&Rr(T)}else He[0]!="stop"&&He[0]!="close"||di(T,7);else T.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?di(T,7):Kt(T):He[0]!="noop"&&T.l&&T.l.ta(He),T.v=0)}}oi(4)}catch{}}var xc=class{constructor(h,v){this.g=h,this.map=v}};function Zs(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ac(h){return h.h?1:h.g?h.g.size:0}function hn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Hl(h,v){h.g?h.g.add(v):h.h=v}function bc(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Zs.prototype.cancel=function(){if(this.i=Rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return C(h.i)}function aa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],T=h.length,I=0;I<T;I++)v.push(h[I]);return v}v=[],T=0;for(I in h)v[T++]=h[I];return v}function la(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const I in h)v[T++]=I;return v}}}function zi(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=la(h),I=aa(h),W=I.length,Q=0;Q<W;Q++)v.call(void 0,I[Q],T&&T[Q],h)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xf(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var I=h[T].indexOf("="),W=null;if(0<=I){var Q=h[T].substring(0,I);W=h[T].substring(I+1)}else Q=h[T];v(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ai(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ai){this.h=h.h,to(this,h.j),this.o=h.o,this.g=h.g,Hi(this,h.s),this.l=h.l;var v=h.i,T=new xr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),$i(this,T),this.m=h.m}else h&&(v=String(h).match(eo))?(this.h=!1,to(this,v[1]||"",!0),this.o=Be(v[2]||""),this.g=Be(v[3]||"",!0),Hi(this,v[4]),this.l=Be(v[5]||"",!0),$i(this,v[6]||"",!0),this.m=Be(v[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}ai.prototype.toString=function(){var h=[],v=this.j;v&&h.push(qi(v,ua,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(qi(v,ua,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(qi(T,T.charAt(0)=="/"?Oc:Nc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",qi(T,$l)),h.join("")};function Nn(h){return new ai(h)}function to(h,v,T){h.j=T?Be(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Hi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function $i(h,v,T){v instanceof xr?(h.i=v,Ar(h.i,h.h)):(T||(v=qi(v,Vc)),h.i=new xr(v,h.h))}function it(h,v,T){h.i.set(v,T)}function Yi(h){return it(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Be(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qi(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Mc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ua=/[#\/\?@]/g,Nc=/[#\?:]/g,Oc=/[#\?]/g,Vc=/[#\?@]/g,$l=/#/g;function xr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function qt(h){h.g||(h.g=new Map,h.h=0,h.i&&Xf(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}r=xr.prototype,r.add=function(h,v){qt(this),this.i=null,h=$n(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function cr(h,v){qt(h),v=$n(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function dr(h,v){return qt(h),v=$n(h,v),h.g.has(v)}r.forEach=function(h,v){qt(this),this.g.forEach(function(T,I){T.forEach(function(W){h.call(v,W,I,this)},this)},this)},r.na=function(){qt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let I=0;I<v.length;I++){const W=h[I];for(let Q=0;Q<W.length;Q++)T.push(v[I])}return T},r.V=function(h){qt(this);let v=[];if(typeof h=="string")dr(this,h)&&(v=v.concat(this.g.get($n(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},r.set=function(h,v){return qt(this),this.i=null,h=$n(this,h),dr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ki(h,v,T){cr(h,v),0<T.length&&(h.i=null,h.g.set($n(h,v),C(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var I=v[T];const Q=encodeURIComponent(String(I)),le=this.V(I);for(I=0;I<le.length;I++){var W=Q;le[I]!==""&&(W+="="+encodeURIComponent(String(le[I]))),h.push(W)}}return this.i=h.join("&")};function $n(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ar(h,v){v&&!h.j&&(qt(h),h.i=null,h.g.forEach(function(T,I){var W=I.toLowerCase();I!=W&&(cr(this,I),Ki(this,W,T))},h)),h.j=v}function Jf(h,v){const T=new Qs;if(c.Image){const I=new Image;I.onload=E(Tn,T,"TestLoadImage: loaded",!0,v,I),I.onerror=E(Tn,T,"TestLoadImage: error",!1,v,I),I.onabort=E(Tn,T,"TestLoadImage: abort",!1,v,I),I.ontimeout=E(Tn,T,"TestLoadImage: timeout",!1,v,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else v(!1)}function Lc(h,v){const T=new Qs,I=new AbortController,W=setTimeout(()=>{I.abort(),Tn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:I.signal}).then(Q=>{clearTimeout(W),Q.ok?Tn(T,"TestPingServer: ok",!0,v):Tn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Tn(T,"TestPingServer: error",!1,v)})}function Tn(h,v,T,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(T)}catch{}}function Zf(){this.g=new Vl}function Fc(h,v,T){const I=T||"";try{zi(h,function(W,Q){let le=W;p(W)&&(le=Nl(W)),v.push(I+Q+"="+encodeURIComponent(le))})}catch(W){throw v.push(I+"type="+encodeURIComponent("_badmap")),W}}function li(h){this.l=h.Ub||null,this.j=h.eb||!1}D(li,qs),li.prototype.g=function(){return new no(this.l,this.j)},li.prototype.i=function(h){return function(){return h}}({});function no(h,v){Mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(no,Mt),r=no.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,fr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?hr(this):fr(this),this.readyState==3&&Uc(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,hr(this))},r.Qa=function(h){this.g&&(this.response=h,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fr(h)}r.setRequestHeader=function(h,v){this.u.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function fr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ui(h){let v="";return ne(h,function(T,I){v+=I,v+=":",v+=T,v+=`\r
`}),v}function Qi(h,v,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=ui(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):it(h,v,T))}function dt(h){Mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(dt,Mt);var ep=/^https?$/i,Yl=["POST","PUT"];r=dt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,v,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?Zo(this.o):Zo(lr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){ro(this,Q);return}if(h=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)T.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())T.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Yl,v,void 0))||I||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of T)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){ro(this,Q)}};function ro(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ca(h),On(h)}function ca(h){h.A||(h.A=!0,Nt(h,"complete"),Nt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Nt(this,"complete"),Nt(this,"abort"),On(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ql(this):this.bb())},r.bb=function(){ql(this)};function ql(h){if(h.h&&typeof l<"u"&&(!h.v[1]||En(h)!=4||h.Z()!=2)){if(h.u&&En(h)==4)bl(h.Ea,0,h);else if(Nt(h,"readystatechange"),En(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var I;if(I=le===0){var W=String(h.D).match(eo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),I=!ep.test(W?W.toLowerCase():"")}T=I}if(T)Nt(h,"complete"),Nt(h,"success");else{h.m=6;try{var Q=2<En(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",ca(h)}}finally{On(h)}}}}function On(h,v){if(h.g){da(h);const T=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Nt(h,"ready");try{T.onreadystatechange=I}catch{}}}function da(h){h.I&&(c.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function En(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ol(v)}};function Kl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ha(h){const v={};h=(h.g&&2<=En(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(B(h[I]))continue;var T=N(h[I]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[W]||[];v[W]=Q,Q.push(T)}b(v,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ql(h){this.Aa=0,this.i=[],this.j=new Qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,h),this.cb=br("retryDelaySeedMs",1e4,h),this.Wa=br("forwardChannelMaxRetries",2,h),this.wa=br("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(h&&h.concurrentRequestLimit),this.Da=new Zf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ql.prototype,r.la=8,r.G=1,r.connect=function(h,v,T,I){Et(0),this.W=h,this.H=v||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=zc(this,null,this.W),Rr(this)};function Kt(h){if(fa(h),h.G==3){var v=h.U++,T=Nn(h.I);if(it(T,"SID",h.K),it(T,"RID",v),it(T,"TYPE","terminate"),ci(h,T),v=new ur(h,h.j,v),v.L=2,v.v=Yi(Nn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=Hc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),st(v)}Wc(h)}function pr(h){h.g&&(Gl(h),h.g.cancel(),h.g=null)}function fa(h){pr(h),h.u&&(c.clearTimeout(h.u),h.u=null),ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Rr(h){if(!Mn(h.h)&&!h.s){h.s=!0;var v=h.Ga;de||ae(),X||(de(),X=!0),ce.add(v,h),h.B=0}}function tp(h,v){return Ac(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=or(w(h.Ga,h,v),Bc(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new ur(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=k(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Gi(this,W,v),T=Nn(this.I),it(T,"RID",h),it(T,"CVER",22),this.D&&it(T,"X-HTTP-Session-Id",this.D),ci(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(ui(Q)))+"&"+v:this.m&&Qi(T,this.m,Q)),Hl(this.h,W),this.Ua&&it(T,"TYPE","init"),this.P?(it(T,"$req",v),it(T,"SID","null"),W.T=!0,oa(W,T,null)):oa(W,T,v),this.G=2}}else this.G==3&&(h?pa(this,h):this.i.length==0||Mn(this.h)||pa(this))};function pa(h,v){var T;v?T=v.l:T=h.U++;const I=Nn(h.I);it(I,"SID",h.K),it(I,"RID",T),it(I,"AID",h.T),ci(h,I),h.m&&h.o&&Qi(I,h.m,h.o),T=new ur(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Gi(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Hl(h.h,T),oa(T,I,v)}function ci(h,v){h.H&&ne(h.H,function(T,I){it(v,I,T)}),h.l&&zi({},function(T,I){it(v,I,T)})}function Gi(h,v,T){T=Math.min(h.i.length,T);var I=h.l?w(h.l.Na,h.l,h):null;e:{var W=h.i;let Q=-1;for(;;){const le=["count="+T];Q==-1?0<T?(Q=W[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let tt=!0;for(let Ot=0;Ot<T;Ot++){let He=W[Ot].g;const jt=W[Ot].map;if(He-=Q,0>He)Q=Math.max(0,W[Ot].g-100),tt=!1;else try{Fc(jt,le,"req"+He+"_")}catch{I&&I(jt)}}if(tt){I=le.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,I}function io(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;de||ae(),X||(de(),X=!0),ce.add(v,h),h.v=0}}function ma(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=or(w(h.Fa,h),Bc(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=or(w(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),pr(this),jc(this))};function Gl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function jc(h){h.g=new ur(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Nn(h.qa);it(v,"RID","rpc"),it(v,"SID",h.K),it(v,"AID",h.T),it(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&it(v,"TO",h.ja),it(v,"TYPE","xmlhttp"),ci(h,v),h.m&&h.o&&Qi(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Yi(Nn(v)),T.m=null,T.P=!0,Wl(T,h)}r.Za=function(){this.C!=null&&(this.C=null,pr(this),ma(this),Et(19))};function ga(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ya(h,v){var T=null;if(h.g==v){ga(h),Gl(h),h.g=null;var I=2}else if(hn(h.h,v))T=v.D,bc(h.h,v),I=1;else return;if(h.G!=0){if(v.o)if(I==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var W=h.B;I=Ks(),Nt(I,new na(I,T)),Rr(h)}else io(h);else if(W=v.s,W==3||W==0&&0<v.X||!(I==1&&tp(h,v)||I==2&&ma(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),W){case 1:di(h,5);break;case 4:di(h,10);break;case 3:di(h,6);break;default:di(h,2)}}}function Bc(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function di(h,v){if(h.j.info("Error code "+v),v==2){var T=w(h.fb,h),I=h.Xa;const W=!I;I=new ai(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||to(I,"https"),Yi(I),W?Jf(I.toString(),T):Lc(I.toString(),T)}else Et(2);h.G=0,h.l&&h.l.sa(v),Wc(h),fa(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Wc(h){if(h.G=0,h.ka=[],h.l){const v=Rc(h.h);(v.length!=0||h.i.length!=0)&&(x(h.ka,v),x(h.ka,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.ra()}}function zc(h,v,T){var I=T instanceof ai?Nn(T):new ai(T);if(I.g!="")v&&(I.g=v+"."+I.g),Hi(I,I.s);else{var W=c.location;I=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Q=new ai(null);I&&to(Q,I),v&&(Q.g=v),W&&Hi(Q,W),T&&(Q.l=T),I=Q}return T=h.D,v=h.ya,T&&v&&it(I,T,v),it(I,"VER",h.la),ci(h,I),I}function Hc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new dt(new li({eb:T})):new dt(h.pa),v.Ha(h.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}r=Xl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function va(){}va.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){Mt.call(this),this.g=new Ql(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!B(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Mr(this)}D(fn,Mt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Kt(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Nl(h),h=T);v.i.push(new xc(v.Ya++,h)),v.G==3&&Rr(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,fn.aa.N.call(this)};function $c(h){Cr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}D($c,Cr);function Yc(){ta.call(this),this.status=1}D(Yc,ta);function Mr(h){this.g=h}D(Mr,Xl),Mr.prototype.ua=function(){Nt(this.g,"a")},Mr.prototype.ta=function(h){Nt(this.g,new $c(h))},Mr.prototype.sa=function(h){Nt(this.g,new Yc)},Mr.prototype.ra=function(){Nt(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,bS=function(){return new va},AS=function(){return Ks()},xS=Pr,ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,ih=ia,Dc.COMPLETE="complete",PS=Dc,ea.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Pu=ea,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,CS=dt}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});const nw="@firebase/firestore",rw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Jg("@firebase/firestore");function Ba(){return No.logLevel}function ge(r,...e){if(No.logLevel<=Ue.DEBUG){const t=e.map(ty);No.debug(`Firestore (${wl}): ${r}`,...t)}}function Mi(r,...e){if(No.logLevel<=Ue.ERROR){const t=e.map(ty);No.error(`Firestore (${wl}): ${r}`,...t)}}function rl(r,...e){if(No.logLevel<=Ue.WARN){const t=e.map(ty);No.warn(`Firestore (${wl}): ${r}`,...t)}}function ty(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r="Unexpected state"){const e=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+r;throw Mi(e),new Error(e)}function et(r,e){r||xe()}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class qA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KA{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ki,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ki)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(et(typeof n.accessToken=="string"),new RS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new ln(e)}}class QA{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GA{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new QA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XA{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const n=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new iw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=JA(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%62))}return n}}function We(r,e){return r<e?-1:r>e?1:0}function il(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-62135596800,ow=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ow);return new Ft(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sw)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ft(0,0))}static max(){return new Re(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__name__";class Fr{constructor(e,t,n){t===void 0?t=0:t>e.length&&xe(),n===void 0?n=e.length-t:n>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=Fr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Fr.isNumericId(e),i=Fr.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class ut extends Fr{construct(e,t,n){return new ut(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const ZA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Fr{construct(e,t,n){return new Jt(e,t,n)}static isValidIdentifier(e){return ZA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aw}static keyField(){return new Jt([aw])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(ut.fromString(e))}static fromName(e){return new ke(ut.fromString(e).popFirst(5))}static empty(){return new ke(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function eb(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(n===1e9?new Ft(t+1,0):new Ft(t,n));return new xs(i,ke.empty(),e)}function tb(r){return new xs(r.readTime,r.key,$u)}class xs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new xs(Re.min(),ke.empty(),$u)}static max(){return new xs(Re.max(),ke.empty(),$u)}}function nb(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(r.documentKey,e.documentKey),t!==0?t:We(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ib{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==rb)throw r;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,n)=>{t(e)})}static reject(e){return new ee((t,n)=>{n(e)})}static waitFor(e){return new ee((t,n)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=ee.resolve(!1);for(const n of e)t=t.next(i=>i?ee.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new ee((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++c,c===o&&n(l)},m=>i(m))}})}static doWhile(e,t){return new ee((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function sb(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ff.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=-1;function pf(r){return r==null}function kh(r){return r===0&&1/r==-1/0}function ob(r){return typeof r=="number"&&Number.isInteger(r)&&!kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="";function ab(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=lw(e)),e=lb(r.get(t),e);return lw(e)}function lb(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case NS:t+="";break;default:t+=o}}return t}function lw(r){return r+NS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function js(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function OS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??Xt.RED,this.left=i??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new Xt(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,n,i,o){return this}insert(e,t,n){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Ut(Jt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VS("Invalid base64 string: "+o):o}}(e);return new en(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const ub=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(r){if(et(!!r),typeof r=="string"){let e=0;const t=ub.exec(r);if(et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bs(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="server_timestamp",FS="__type__",US="__previous_value__",jS="__local_write_time__";function ry(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[FS])===null||t===void 0?void 0:t.stringValue)===LS}function mf(r){const e=r.mapValue.fields[US];return ry(e)?mf(e):e}function Yu(r){const e=As(r.mapValue.fields[jS].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t,n,i,o,l,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}const Dh="(default)";class qu{constructor(e,t){this.projectId=e,this.database=t||Dh}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="__type__",db="__max__",Wd={mapValue:{}},WS="__vector__",Ih="value";function Rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ry(r)?4:fb(r)?9007199254740991:hb(r)?10:11:xe()}function Xr(r,e){if(r===e)return!0;const t=Rs(r);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yu(r).isEqual(Yu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=As(i.timestampValue),c=As(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return bs(i.bytesValue).isEqual(bs(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return kt(i.geoPointValue.latitude)===kt(o.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return kt(i.integerValue)===kt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=kt(i.doubleValue),c=kt(o.doubleValue);return l===c?kh(l)===kh(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return il(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(uw(l)!==uw(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Xr(l[d],c[d])))return!1;return!0}(r,e);default:return xe()}}function Ku(r,e){return(r.values||[]).find(t=>Xr(t,e))!==void 0}function sl(r,e){if(r===e)return 0;const t=Rs(r),n=Rs(e);if(t!==n)return We(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(r.booleanValue,e.booleanValue);case 2:return function(o,l){const c=kt(o.integerValue||o.doubleValue),d=kt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return dw(r.timestampValue,e.timestampValue);case 4:return dw(Yu(r),Yu(e));case 5:return We(r.stringValue,e.stringValue);case 6:return function(o,l){const c=bs(o),d=bs(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=We(c[p],d[p]);if(m!==0)return m}return We(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const c=We(kt(o.latitude),kt(l.latitude));return c!==0?c:We(kt(o.longitude),kt(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hw(r.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,p,m;const y=o.fields||{},w=l.fields||{},E=(c=y[Ih])===null||c===void 0?void 0:c.arrayValue,D=(d=w[Ih])===null||d===void 0?void 0:d.arrayValue,C=We(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=D==null?void 0:D.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:hw(E,D)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===Wd.mapValue&&l===Wd.mapValue)return 0;if(o===Wd.mapValue)return 1;if(l===Wd.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const w=We(d[y],m[y]);if(w!==0)return w;const E=sl(c[d[y]],p[m[y]]);if(E!==0)return E}return We(d.length,m.length)}(r.mapValue,e.mapValue);default:throw xe()}}function dw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return We(r,e);const t=As(r),n=As(e),i=We(t.seconds,n.seconds);return i!==0?i:We(t.nanos,n.nanos)}function hw(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=sl(t[i],n[i]);if(o)return o}return We(t.length,n.length)}function ol(r){return cg(r)}function cg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=As(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return bs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ke.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=cg(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${cg(t.fields[l])}`;return i+"}"}(r.mapValue):xe()}function sh(r){switch(Rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return bs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+sh(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return js(n.fields,(o,l)=>{i+=o.length+sh(l)}),i}(r.mapValue);default:throw xe()}}function fw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dg(r){return!!r&&"integerValue"in r}function iy(r){return!!r&&"arrayValue"in r}function pw(r){return!!r&&"nullValue"in r}function mw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function hb(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BS])===null||t===void 0?void 0:t.stringValue)===WS}function Ou(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return js(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Ou(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ou(r.arrayValue.values[t]);return e}return Object.assign({},r)}function fb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===db}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(t)}setAll(e){let t=Jt.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=Ou(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){js(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new An(Ou(this.value))}}function zS(r){const e=[];return js(r.fields,(t,n)=>{const i=new Jt([t]);if(oh(n)){const o=zS(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),An.empty(),0)}static newFoundDocument(e,t,n,i){return new un(e,1,t,Re.min(),n,i,0)}static newNoDocument(e,t){return new un(e,2,t,Re.min(),Re.min(),An.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Re.min(),Re.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.position=e,this.inclusive=t}}function gw(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=ke.comparator(ke.fromName(l.referenceValue),t.key):n=sl(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function yw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function pb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class Rt extends HS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new gb(e,t,n):t==="array-contains"?new _b(e,n):t==="in"?new wb(e,n):t==="not-in"?new Tb(e,n):t==="array-contains-any"?new Eb(e,n):new Rt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new yb(e,n):new vb(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sl(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends HS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new kr(e,t)}matches(e){return $S(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $S(r){return r.op==="and"}function YS(r){return mb(r)&&$S(r)}function mb(r){for(const e of r.filters)if(e instanceof kr)return!1;return!0}function hg(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+ol(r.value);if(YS(r))return r.filters.map(e=>hg(e)).join(",");{const e=r.filters.map(t=>hg(t)).join(",");return`${r.op}(${e})`}}function qS(r,e){return r instanceof Rt?function(n,i){return i instanceof Rt&&n.op===i.op&&n.field.isEqual(i.field)&&Xr(n.value,i.value)}(r,e):r instanceof kr?function(n,i){return i instanceof kr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,c)=>o&&qS(l,i.filters[c]),!0):!1}(r,e):void xe()}function KS(r){return r instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${ol(t.value)}`}(r):r instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(KS).join(" ,")+"}"}(r):"Filter"}class gb extends Rt{constructor(e,t,n){super(e,t,n),this.key=ke.fromName(n.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class yb extends Rt{constructor(e,t){super(e,"in",t),this.keys=QS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vb extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=QS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QS(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>ke.fromName(n.referenceValue))}class _b extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iy(t)&&Ku(t.arrayValue,this.value)}}class wb extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ku(this.value.arrayValue,t)}}class Tb extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ku(this.value.arrayValue,t)}}class Eb extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Ku(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function vw(r,e=null,t=[],n=[],i=null,o=null,l=null){return new Sb(r,e,t,n,i,o,l)}function sy(r){const e=Me(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>hg(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>ol(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>ol(n)).join(",")),e.le=t}return e.le}function oy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!pb(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!qS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yw(r.startAt,e.startAt)&&yw(r.endAt,e.endAt)}function fg(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function kb(r,e,t,n,i,o,l,c){return new oc(r,e,t,n,i,o,l,c)}function ay(r){return new oc(r)}function _w(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GS(r){return r.collectionGroup!==null}function Vu(r){const e=Me(r);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ut(Jt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Ph(o,n))}),t.has(Jt.keyField().canonicalString())||e.he.push(new Ph(Jt.keyField(),n))}return e.he}function $r(r){const e=Me(r);return e.Pe||(e.Pe=Db(e,Vu(r))),e.Pe}function Db(r,e){if(r.limitType==="F")return vw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ph(i.field,o)});const t=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return vw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function pg(r,e){const t=r.filters.concat([e]);return new oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function mg(r,e,t){return new oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gf(r,e){return oy($r(r),$r(e))&&r.limitType===e.limitType}function XS(r){return`${sy($r(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>KS(i)).join(", ")}]`),pf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ol(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ol(i)).join(",")),`Target(${n})`}($r(r))}; limitType=${r.limitType})`}function yf(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ke.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of Vu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const p=gw(l,c,d);return l.inclusive?p<=0:p<0}(n.startAt,Vu(n),i)||n.endAt&&!function(l,c,d){const p=gw(l,c,d);return l.inclusive?p>=0:p>0}(n.endAt,Vu(n),i))}(r,e)}function Ib(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function JS(r){return(e,t)=>{let n=!1;for(const i of Vu(r)){const o=Cb(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Cb(r,e,t){const n=r.field.isKeyField()?ke.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),p=c.data.field(o);return d!==null&&p!==null?sl(d,p):xe()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return OS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new _t(ke.comparator);function Ni(){return Pb}const ZS=new _t(ke.comparator);function xu(...r){let e=ZS;for(const t of r)e=e.insert(t.key,t);return e}function ek(r){let e=ZS;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function ko(){return Lu()}function tk(){return Lu()}function Lu(){return new Wo(r=>r.toString(),(r,e)=>r.isEqual(e))}const xb=new _t(ke.comparator),Ab=new Ut(ke.comparator);function je(...r){let e=Ab;for(const t of r)e=e.add(t);return e}const bb=new Ut(We);function Rb(){return bb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function nk(r){return{integerValue:""+r}}function Mb(r,e){return ob(e)?nk(e):ly(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function Nb(r,e,t){return r instanceof xh?function(i,o){const l={fields:{[FS]:{stringValue:LS},[jS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ry(o)&&(o=mf(o)),o&&(l.fields[US]=o),{mapValue:l}}(t,e):r instanceof Qu?ik(r,e):r instanceof Gu?sk(r,e):function(i,o){const l=rk(i,o),c=ww(l)+ww(i.Ie);return dg(l)&&dg(i.Ie)?nk(c):ly(i.serializer,c)}(r,e)}function Ob(r,e,t){return r instanceof Qu?ik(r,e):r instanceof Gu?sk(r,e):t}function rk(r,e){return r instanceof Ah?function(n){return dg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class xh extends vf{}class Qu extends vf{constructor(e){super(),this.elements=e}}function ik(r,e){const t=ok(e);for(const n of r.elements)t.some(i=>Xr(i,n))||t.push(n);return{arrayValue:{values:t}}}class Gu extends vf{constructor(e){super(),this.elements=e}}function sk(r,e){let t=ok(e);for(const n of r.elements)t=t.filter(i=>!Xr(i,n));return{arrayValue:{values:t}}}class Ah extends vf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ww(r){return kt(r.integerValue||r.doubleValue)}function ok(r){return iy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Vb(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Qu&&i instanceof Qu||n instanceof Gu&&i instanceof Gu?il(n.elements,i.elements,Xr):n instanceof Ah&&i instanceof Ah?Xr(n.Ie,i.Ie):n instanceof xh&&i instanceof xh}(r.transform,e.transform)}class Lb{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _f{}function ak(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new uy(r.key,ir.none()):new ac(r.key,r.data,ir.none());{const t=r.data,n=An.empty();let i=new Ut(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new Bs(r.key,n,new jn(i.toArray()),ir.none())}}function Fb(r,e,t){r instanceof ac?function(i,o,l){const c=i.value.clone(),d=Ew(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof Bs?function(i,o,l){if(!ah(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Ew(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(lk(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Fu(r,e,t,n){return r instanceof ac?function(o,l,c,d){if(!ah(o.precondition,l))return c;const p=o.value.clone(),m=Sw(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Bs?function(o,l,c,d){if(!ah(o.precondition,l))return c;const p=Sw(o.fieldTransforms,d,l),m=l.data;return m.setAll(lk(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(r,e,t,n):function(o,l,c){return ah(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function Ub(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=rk(n.transform,i||null);o!=null&&(t===null&&(t=An.empty()),t.set(n.field,o))}return t||null}function Tw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&il(n,i,(o,l)=>Vb(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ac extends _f{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bs extends _f{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function lk(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Ew(r,e,t){const n=new Map;et(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,Ob(l,c,t[i]))}return n}function Sw(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,Nb(o,l,e))}return n}class uy extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jb extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Fb(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tk();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=ak(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Re.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(t,n)=>Tw(t,n))&&il(this.baseMutations,e.baseMutations,(t,n)=>Tw(t,n))}}class cy{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){et(e.mutations.length===n.length);let i=function(){return xb}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new cy(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,$e;function Hb(r){switch(r){case te.OK:return xe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe()}}function uk(r){if(r===void 0)return Mi("GRPC error has no .code"),te.UNKNOWN;switch(r){case At.OK:return te.OK;case At.CANCELLED:return te.CANCELLED;case At.UNKNOWN:return te.UNKNOWN;case At.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case At.INTERNAL:return te.INTERNAL;case At.UNAVAILABLE:return te.UNAVAILABLE;case At.UNAUTHENTICATED:return te.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case At.NOT_FOUND:return te.NOT_FOUND;case At.ALREADY_EXISTS:return te.ALREADY_EXISTS;case At.PERMISSION_DENIED:return te.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case At.ABORTED:return te.ABORTED;case At.OUT_OF_RANGE:return te.OUT_OF_RANGE;case At.UNIMPLEMENTED:return te.UNIMPLEMENTED;case At.DATA_LOSS:return te.DATA_LOSS;default:return xe()}}($e=At||(At={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Ss([4294967295,4294967295],0);function kw(r){const e=$b().encode(r),t=new IS;return t.update(e),new Uint8Array(t.digest())}function Dw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ss([t,n],0),new Ss([i,o],0)]}class dy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Au(`Invalid padding: ${t}`);if(n<0)throw new Au(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Au(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ss.fromNumber(this.Ee)}Ae(e,t,n){let i=e.add(t.multiply(Ss.fromNumber(n)));return i.compare(Yb)===1&&(i=new Ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=kw(e),[n,i]=Dw(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(n,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new dy(o,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=kw(e),[n,i]=Dw(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(n,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wf(Re.min(),i,new _t(We),Ni(),je())}}class lc{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new lc(n,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,n,i){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=i}}class ck{constructor(e,t){this.targetId=e,this.ge=t}}class dk{constructor(e,t,n=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Iw{constructor(){this.pe=0,this.ye=Cw(),this.we=en.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=je(),t=je(),n=je();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:xe()}}),new lc(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=Cw()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class qb{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=zd(),this.Ke=zd(),this.Ue=new _t(We)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,n=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(fg(o))if(n===0){const l=new ke(o.path);this.ze(t,l,un.newNoDocument(l,Re.min()))}else et(n===1);else{const l=this.et(t);if(l!==n){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=bs(n).toUint8Array()}catch(d){if(d instanceof VS)return rl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new dy(l,i,o)}catch(d){return rl(d instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&fg(c.target)){const d=new ke(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,un.newNoDocument(d,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let n=je();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new wf(e,t,this.Ue,this.Qe,n);return this.Qe=Ni(),this.$e=zd(),this.Ke=zd(),this.Ue=new _t(We),i}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Iw,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Ut(We),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ut(We),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Iw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function zd(){return new _t(ke.comparator)}function Cw(){return new _t(ke.comparator)}const Kb={asc:"ASCENDING",desc:"DESCENDING"},Qb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gb={and:"AND",or:"OR"};class Xb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gg(r,e){return r.useProto3Json||pf(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hk(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Jb(r,e){return bh(r,e.toTimestamp())}function Yr(r){return et(!!r),Re.fromTimestamp(function(t){const n=As(t);return new Ft(n.seconds,n.nanos)}(r))}function hy(r,e){return yg(r,e).canonicalString()}function yg(r,e){const t=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function fk(r){const e=ut.fromString(r);return et(vk(e)),e}function vg(r,e){return hy(r.databaseId,e.path)}function bm(r,e){const t=fk(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ke(mk(t))}function pk(r,e){return hy(r.databaseId,e)}function Zb(r){const e=fk(r);return e.length===4?ut.emptyPath():mk(e)}function _g(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mk(r){return et(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Pw(r,e,t){return{name:vg(r,e),fields:t.value.mapValue.fields}}function eR(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(et(m===void 0||typeof m=="string"),en.fromBase64String(m||"")):(et(m===void 0||m instanceof Buffer||m instanceof Uint8Array),en.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?te.UNKNOWN:uk(p.code);return new ve(m,p.message||"")}(l);t=new dk(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=bm(r,n.document.name),o=Yr(n.document.updateTime),l=n.document.createTime?Yr(n.document.createTime):Re.min(),c=new An({mapValue:{fields:n.document.fields}}),d=un.newFoundDocument(i,o,l,c),p=n.targetIds||[],m=n.removedTargetIds||[];t=new lh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=bm(r,n.document),o=n.readTime?Yr(n.readTime):Re.min(),l=un.newNoDocument(i,o),c=n.removedTargetIds||[];t=new lh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=bm(r,n.document),o=n.removedTargetIds||[];t=new lh([],o,i,null)}else{if(!("filter"in e))return xe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new zb(i,o),c=n.targetId;t=new ck(c,l)}}return t}function tR(r,e){let t;if(e instanceof ac)t={update:Pw(r,e.key,e.value)};else if(e instanceof uy)t={delete:vg(r,e.key)};else if(e instanceof Bs)t={update:Pw(r,e.key,e.data),updateMask:cR(e.fieldMask)};else{if(!(e instanceof jb))return xe();t={verify:vg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const c=l.transform;if(c instanceof xh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ah)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw xe()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Jb(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(r,e.precondition)),t}function nR(r,e){return r&&r.length>0?(et(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?Yr(i.updateTime):Yr(o);return l.isEqual(Re.min())&&(l=Yr(o)),new Lb(l,i.transformResults||[])}(t,e))):[]}function rR(r,e){return{documents:[pk(r,e.path)]}}function iR(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=pk(r,i);const o=function(p){if(p.length!==0)return yk(kr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:za(w.field),direction:aR(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=gg(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function sR(r){let e=Zb(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){et(n===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const w=gk(y);return w instanceof kr&&YS(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(w=>function(D){return new Ph(Ha(D.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,pf(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(y){const w=!!y.before,E=y.values||[];return new Ch(E,w)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const w=!y.before,E=y.values||[];return new Ch(E,w)}(t.endAt)),kb(e,i,l,o,c,"F",d,p)}function oR(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gk(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Ha(t.unaryFilter.field);return Rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ha(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ha(t.unaryFilter.field);return Rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ha(t.unaryFilter.field);return Rt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(r):r.fieldFilter!==void 0?function(t){return Rt.create(Ha(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(n=>gk(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(r):xe()}function aR(r){return Kb[r]}function lR(r){return Qb[r]}function uR(r){return Gb[r]}function za(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Jt.fromServerFormat(r.fieldPath)}function yk(r){return r instanceof Rt?function(t){if(t.op==="=="){if(mw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NAN"}};if(pw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NAN"}};if(pw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(t.field),op:lR(t.op),value:t.value}}}(r):r instanceof kr?function(t){const n=t.getFilters().map(i=>yk(i));return n.length===1?n[0]:{compositeFilter:{op:uR(t.op),filters:n}}}(r):xe()}function cR(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vk(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,n,i,o=Re.min(),l=Re.min(),c=en.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.Tt=e}}function hR(r){const e=sR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.Tn=new pR}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(xs.min())}updateCollectionGroup(e,t,n){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class pR{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ut(ut.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ut(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_k=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(_k,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new al(0)}static Un(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="LruGarbageCollector",mR=1048576;function bw([r,e],[t,n]){const i=We(r,t);return i===0?We(e,n):i}class gR{constructor(e){this.Hn=e,this.buffer=new Ut(bw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();bw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yR{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(Aw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?ge(Aw,"Ignoring IndexedDB error during garbage collection: ",t):await Tl(t)}await this.er(3e5)})}}class vR{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(ff.ae);const n=new gR(t);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(xw)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,i,o,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,t))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(p=Date.now(),Ba()<=Ue.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function _R(r,e){return new vR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.changes=new Wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ee.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Fu(n.mutation,i,jn.empty(),Ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,je()).next(()=>n))}getLocalViewOfDocuments(e,t,n=je()){const i=ko();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=xu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=ko();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,je()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let o=Ni();const l=Lu(),c=function(){return Lu()}();return t.forEach((d,p)=>{const m=n.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Bs)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Fu(m.mutation,p,m.mutation.getFieldMask(),Ft.now())):l.set(p.key,jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return c.set(p,new TR(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Lu();let i=new _t((l,c)=>l-c),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=n.get(d)||jn.empty();m=c.applyToLocalView(p,m),n.set(d,m);const y=(i.get(c.batchId)||je()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,y=tk();m.forEach(w=>{if(!o.has(w)){const E=ak(t.get(w),n.get(w));E!==null&&y.set(w,E),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ee.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):ee.resolve(ko());let c=$u,d=o;return l.next(p=>ee.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{d=d.insert(m,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,je())).next(m=>({batchId:c,changes:ek(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(n=>{let i=xu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=xu();return this.indexManager.getCollectionParents(e,o).next(c=>ee.forEach(c,d=>{const p=function(y,w){return new oc(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next(m=>{m.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,un.newInvalidDocument(m)))});let c=xu();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Fu(m.mutation,p,jn.empty(),Ft.now()),yf(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:hR(i.bundledQuery),readTime:Yr(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.overlays=new _t(ke.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ko();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Et(e,t,o)}),ee.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(n)),ee.resolve()}getOverlaysForCollection(e,t,n){const i=ko(),o=t.length+1,l=new ke(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new _t((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let m=o.get(p.largestBatchId);m===null&&(m=ko(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=ko(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return ee.resolve(c)}Et(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new Wb(t,n));let o=this.Rr.get(t);o===void 0&&(o=je(),this.Rr.set(t,o)),this.Rr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.Vr=new Ut(Ht.mr),this.gr=new Ut(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Ht(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Ht(e,t))}br(e,t){e.forEach(n=>this.removeReference(n,t))}Sr(e){const t=new ke(new ut([])),n=new Ht(t,e),i=new Ht(t,e+1),o=[];return this.gr.forEachInRange([n,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ke(new ut([])),n=new Ht(t,e),i=new Ht(t,e+1);let o=je();return this.gr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Ht(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ke.comparator(e.key,t.key)||We(e.Cr,t.Cr)}static pr(e,t){return We(e.Cr,t.Cr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ut(Ht.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Bb(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Ht(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Nr(n),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ny:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ht(t,0),i=new Ht(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([n,i],l=>{const c=this.Or(l.Cr);o.push(c)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ut(We);return t.forEach(i=>{const o=new Ht(i,0),l=new Ht(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{n=n.add(c.Cr)})}),ee.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;ke.isDocumentKey(o)||(o=o.child(""));const l=new Ht(new ke(o),0);let c=new Ut(We);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.Cr)),!0)},l),ee.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return ee.forEach(t.mutations,i=>{const o=new Ht(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Ht(t,0),i=this.Mr.firstAfterOrEqual(n);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.kr=e,this.docs=function(){return new _t(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ee.resolve(n?n.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let n=Ni();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),ee.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Ni();const l=t.path,c=new ke(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||nb(tb(m),n)<=0||(i.has(m.key)||yf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,t,n,i){xe()}qr(e,t){return ee.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new PR(this)}getSize(e){return ee.resolve(this.size)}}class PR extends wR{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.persistence=e,this.Qr=new Wo(t=>sy(t),oy),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new fy,this.targetCount=0,this.Ur=al.Kn()}forEachTarget(e,t){return this.Qr.forEach((n,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new al(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return ee.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),ee.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return ee.resolve(n)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ff(0),this.zr=!1,this.zr=!0,this.jr=new DR,this.referenceDelegate=e(this),this.Hr=new xR(this),this.indexManager=new fR,this.remoteDocumentCache=function(i){return new CR(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new dR(t),this.Yr=new SR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new IR(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){ge("MemoryPersistence","Starting transaction:",e);const i=new AR(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return ee.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class AR extends ib{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.ti=new fy,this.ni=null}static ri(e){return new py(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),ee.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,n=>{const i=ke.fromPath(n);return this.si(e,i).next(o=>{o||t.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Rh{constructor(e,t){this.persistence=e,this.oi=new Wo(n=>ab(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=_R(this,t)}static ri(e,t){return new Rh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(o=>o?ee.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(n++,o.removeEntry(l,Re.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}ar(e,t,n){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ee.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=i}static Yi(e,t){let n=je(),i=je();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new my(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ix()?8:sb(cn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new bR;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,n,i){return n.documentReadCount<this.es?(Ba()<=Ue.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Ba()<=Ue.DEBUG&&ge("QueryEngine","Query:",Wa(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(Ba()<=Ue.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(t))):ee.resolve())}rs(e,t){if(_w(t))return ee.resolve(null);let n=$r(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mg(t,null,"F"),n=$r(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=je(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const p=this.cs(t,c);return this.ls(t,p,l,d.readTime)?this.rs(e,mg(t,null,"F")):this.hs(e,p,t,d)}))})))}ss(e,t,n,i){return _w(t)||i.isEqual(Re.min())?ee.resolve(null):this.ns.getDocuments(e,n).next(o=>{const l=this.cs(t,o);return this.ls(t,l,n,i)?ee.resolve(null):(Ba()<=Ue.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wa(t)),this.hs(e,l,t,eb(i,$u)).next(c=>c))})}cs(e,t){let n=new Ut(JS(e));return t.forEach((i,o)=>{yf(e,o)&&(n=n.add(o))}),n}ls(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,n){return Ba()<=Ue.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Wa(t)),this.ns.getDocumentsMatchingQuery(e,t,xs.min(),n)}hs(e,t,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="LocalStore",MR=3e8;class NR{constructor(e,t,n,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new _t(We),this.Is=new Wo(o=>sy(o),oy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ER(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function OR(r,e,t,n){return new NR(r,e,t,n)}async function Tk(r,e){const t=Me(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],c=[];let d=je();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(n,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function VR(r,e){const t=Me(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const y=p.batch,w=y.keys();let E=ee.resolve();return w.forEach(D=>{E=E.next(()=>m.getEntry(d,D)).next(C=>{const x=p.docVersions.get(D);et(x!==null),C.version.compareTo(x)<0&&(y.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),m.addEntry(C)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function Ek(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function LR(r,e){const t=Me(r),n=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((m,y)=>{const w=i.get(y);if(!w)return;c.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,y)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(en.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,n)),i=i.insert(y,E),function(C,x,U){return C.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=MR?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(w,E,m)&&c.push(t.Hr.updateTargetData(o,E))});let d=Ni(),p=je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(FR(o,l,e.documentUpdates).next(m=>{d=m.Vs,p=m.fs})),!n.isEqual(Re.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(m)}return ee.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.Ts=i,o))}function FR(r,e,t){let n=je(),i=je();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=Ni();return t.forEach((c,d)=>{const p=o.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ge(gy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function UR(r,e){const t=Me(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=ny),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function jR(r,e){const t=Me(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Hr.getTargetData(n,e).next(o=>o?(i=o,ee.resolve(i)):t.Hr.allocateTargetId(n).next(l=>(i=new _s(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function wg(r,e,t){const n=Me(r),i=n.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!El(l))throw l;ge(gy,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function Rw(r,e,t){const n=Me(r);let i=Re.min(),o=je();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const y=Me(d),w=y.Is.get(m);return w!==void 0?ee.resolve(y.Ts.get(w)):y.Hr.getTargetData(p,m)}(n,l,$r(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>n.Ps.getDocumentsMatchingQuery(l,e,t?i:Re.min(),t?o:je())).next(c=>(BR(n,Ib(e),c),{documents:c,gs:o})))}function BR(r,e,t){let n=r.Es.get(e)||Re.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Es.set(e,n)}class Mw{constructor(){this.activeTargetIds=Rb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WR{constructor(){this.ho=new Mw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Mw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="ConnectivityMonitor";class Ow{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd=null;function Tg(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",HR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===Dh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}bo(e,t,n,i,o){const l=Tg(),c=this.So(e,t.toUriEncodedString());ge(Rm,`Sending RPC '${e}' ${l}:`,c,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,c,d,n).then(p=>(ge(Rm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw rl(Rm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",n),p})}Co(e,t,n,i,o,l){return this.bo(e,t,n,i,o)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}So(e,t){const n=HR[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class qR extends $R{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,i){const o=Tg();return new Promise((l,c)=>{const d=new CS;d.setWithCredentials(!0),d.listenOnce(PS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ih.NO_ERROR:const m=d.getResponseJson();ge(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case ih.TIMEOUT:ge(on,`RPC '${e}' ${o} timed out`),c(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const y=d.getStatus();if(ge(on,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const D=function(x){const U=x.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(U)>=0?U:te.UNKNOWN}(E.status);c(new ve(D,E.message))}else c(new ve(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ve(te.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ge(on,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ge(on,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,n,15)})}Wo(e,t,n){const i=Tg(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=bS(),c=AS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const m=o.join("");ge(on,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);let w=!1,E=!1;const D=new YR({Fo:x=>{E?ge(on,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(w||(ge(on,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),ge(on,`RPC '${e}' stream ${i} sending:`,x),y.send(x))},Mo:()=>y.close()}),C=(x,U,B)=>{x.listen(U,F=>{try{B(F)}catch(H){setTimeout(()=>{throw H},0)}})};return C(y,Pu.EventType.OPEN,()=>{E||(ge(on,`RPC '${e}' stream ${i} transport opened.`),D.Qo())}),C(y,Pu.EventType.CLOSE,()=>{E||(E=!0,ge(on,`RPC '${e}' stream ${i} transport closed`),D.Ko())}),C(y,Pu.EventType.ERROR,x=>{E||(E=!0,rl(on,`RPC '${e}' stream ${i} transport errored:`,x),D.Ko(new ve(te.UNAVAILABLE,"The operation could not be completed")))}),C(y,Pu.EventType.MESSAGE,x=>{var U;if(!E){const B=x.data[0];et(!!B);const F=B,H=(F==null?void 0:F.error)||((U=F[0])===null||U===void 0?void 0:U.error);if(H){ge(on,`RPC '${e}' stream ${i} received error:`,H);const J=H.status;let ne=function(P){const M=At[P];if(M!==void 0)return uk(M)}(J),b=H.message;ne===void 0&&(ne=te.INTERNAL,b="Unknown error status: "+J+" with message "+H.message),E=!0,D.Ko(new ve(ne,b)),y.close()}else ge(on,`RPC '${e}' stream ${i} received:`,B),D.Uo(B)}}),C(c,xS.STAT_EVENT,x=>{x.stat===ug.PROXY?ge(on,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===ug.NOPROXY&&ge(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(r){return new Xb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,n=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-n);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="PersistentStream";class kk{constructor(e,t,n,i,o,l,c,d){this.Ti=e,this.n_=n,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Sk(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===t&&this.V_(n,i)},n=>{e(()=>{const i=new ve(te.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(Vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ge(Vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KR extends kk{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=eR(this.serializer,e),n=function(o){if(!("targetChange"in o))return Re.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Re.min():l.readTime?Yr(l.readTime):Re.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=_g(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=fg(d)?{documents:rR(o,d)}:{query:iR(o,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=hk(o,l.resumeToken);const p=gg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Re.min())>0){c.readTime=bh(o,l.snapshotVersion.toTimestamp());const p=gg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const n=oR(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=_g(this.serializer),t.removeTarget=e,this.I_(t)}}class QR extends kk{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=nR(e.writeResults,e.commitTime),n=Yr(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=_g(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>tR(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{}class XR extends GR{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(e,yg(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(te.UNKNOWN,o.toString())})}Co(e,t,n,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,yg(t,n),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(t),this.N_=!1):ge("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class ZR{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{n.enqueueAndForget(async()=>{zo(this)&&(ge(Oo,"Restarting streams for network reachability change."),await async function(d){const p=Me(d);p.W_.add(4),await uc(p),p.j_.set("Unknown"),p.W_.delete(4),await Ef(p)}(this))})}),this.j_=new JR(n,i)}}async function Ef(r){if(zo(r))for(const e of r.G_)await e(!0)}async function uc(r){for(const e of r.G_)await e(!1)}function Dk(r,e){const t=Me(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),wy(t)?_y(t):Sl(t).c_()&&vy(t,e))}function yy(r,e){const t=Me(r),n=Sl(t);t.U_.delete(e),n.c_()&&Ik(t,e),t.U_.size===0&&(n.c_()?n.P_():zo(t)&&t.j_.set("Unknown"))}function vy(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sl(r).y_(e)}function Ik(r,e){r.H_.Ne(e),Sl(r).w_(e)}function _y(r){r.H_=new qb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Sl(r).start(),r.j_.B_()}function wy(r){return zo(r)&&!Sl(r).u_()&&r.U_.size>0}function zo(r){return Me(r).W_.size===0}function Ck(r){r.H_=void 0}async function e1(r){r.j_.set("Online")}async function t1(r){r.U_.forEach((e,t)=>{vy(r,e)})}async function n1(r,e){Ck(r),wy(r)?(r.j_.q_(e),_y(r)):r.j_.set("Unknown")}async function r1(r,e,t){if(r.j_.set("Online"),e instanceof dk&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(r,e)}catch(n){ge(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Mh(r,n)}else if(e instanceof lh?r.H_.We(e):e instanceof ck?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Re.min()))try{const n=await Ek(r.localStore);t.compareTo(n)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.U_.get(p);m&&o.U_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=o.U_.get(d);if(!m)return;o.U_.set(d,m.withResumeToken(en.EMPTY_BYTE_STRING,m.snapshotVersion)),Ik(o,d);const y=new _s(m.target,d,p,m.sequenceNumber);vy(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){ge(Oo,"Failed to raise snapshot:",n),await Mh(r,n)}}async function Mh(r,e,t){if(!El(e))throw e;r.W_.add(1),await uc(r),r.j_.set("Offline"),t||(t=()=>Ek(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ge(Oo,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Ef(r)})}function Pk(r,e){return e().catch(t=>Mh(r,t,e))}async function Sf(r){const e=Me(r),t=Ms(e);let n=e.K_.length>0?e.K_[e.K_.length-1].batchId:ny;for(;i1(e);)try{const i=await UR(e.localStore,n);if(i===null){e.K_.length===0&&t.P_();break}n=i.batchId,s1(e,i)}catch(i){await Mh(e,i)}xk(e)&&Ak(e)}function i1(r){return zo(r)&&r.K_.length<10}function s1(r,e){r.K_.push(e);const t=Ms(r);t.c_()&&t.b_&&t.S_(e.mutations)}function xk(r){return zo(r)&&!Ms(r).u_()&&r.K_.length>0}function Ak(r){Ms(r).start()}async function o1(r){Ms(r).C_()}async function a1(r){const e=Ms(r);for(const t of r.K_)e.S_(t.mutations)}async function l1(r,e,t){const n=r.K_.shift(),i=cy.from(n,e,t);await Pk(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Sf(r)}async function u1(r,e){e&&Ms(r).b_&&await async function(n,i){if(function(l){return Hb(l)&&l!==te.ABORTED}(i.code)){const o=n.K_.shift();Ms(n).h_(),await Pk(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sf(n)}}(r,e),xk(r)&&Ak(r)}async function Lw(r,e){const t=Me(r);t.asyncQueue.verifyOperationInProgress(),ge(Oo,"RemoteStore received new credentials");const n=zo(t);t.W_.add(3),await uc(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ef(t)}async function c1(r,e){const t=Me(r);e?(t.W_.delete(2),await Ef(t)):e||(t.W_.add(2),await uc(t),t.j_.set("Unknown"))}function Sl(r){return r.J_||(r.J_=function(t,n,i){const o=Me(t);return o.M_(),new KR(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{xo:e1.bind(null,r),No:t1.bind(null,r),Lo:n1.bind(null,r),p_:r1.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),wy(r)?_y(r):r.j_.set("Unknown")):(await r.J_.stop(),Ck(r))})),r.J_}function Ms(r){return r.Y_||(r.Y_=function(t,n,i){const o=Me(t);return o.M_(),new QR(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:o1.bind(null,r),Lo:u1.bind(null,r),D_:a1.bind(null,r),v_:l1.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Sf(r)):(await r.Y_.stop(),r.K_.length>0&&(ge(Oo,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new Ty(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),El(r))return new ve(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ke.comparator(t.key,n.key):(t,n)=>ke.comparator(t.key,n.key),this.keyedMap=xu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Xa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Z_=new _t(ke.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class ll{constructor(e,t,n,i,o,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ll(e,t,Xa.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class h1{constructor(){this.queries=Uw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const i=Me(t),o=i.queries;i.queries=Uw(),o.forEach((l,c)=>{for(const d of c.ta)d.onError(n)})})(this,new ve(te.ABORTED,"Firestore shutting down"))}}function Uw(){return new Wo(r=>XS(r),gf)}async function bk(r,e){const t=Me(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(n=2):(o=new d1,n=e.ra()?0:1);try{switch(n){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Ey(l,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Sy(t)}async function Rk(r,e){const t=Me(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function f1(r,e){const t=Me(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(n=!0);l.ea=i}}n&&Sy(t)}function p1(r,e,t){const n=Me(r),i=n.queries.get(e);if(i)for(const o of i.ta)o.onError(t);n.queries.delete(e)}function Sy(r){r.ia.forEach(e=>{e.next()})}var Eg,jw;(jw=Eg||(Eg={}))._a="default",jw.Cache="cache";class Mk{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ll(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.key=e}}class Ok{constructor(e){this.key=e}}class m1{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=JS(e),this.wa=new Xa(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new Fw,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const w=i.get(m),E=yf(this.query,y)?y:null,D=!!w&&this.mutatedKeys.has(w.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let x=!1;w&&E?w.data.isEqual(E.data)?D!==C&&(n.track({type:3,doc:E}),x=!0):this.va(w,E)||(n.track({type:2,doc:E}),x=!0,(d&&this.ya(E,d)>0||p&&this.ya(E,p)<0)&&(c=!0)):!w&&E?(n.track({type:0,doc:E}),x=!0):w&&!E&&(n.track({type:1,doc:w}),x=!0,(d||p)&&(c=!0)),x&&(E?(l=l.add(E),o=C?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{wa:l,Da:n,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(E,D){const C=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return C(E)-C(D)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(n),i=i!=null&&i;const c=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new ll(this.query,e.wa,o,l,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Fw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new Ok(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new Nk(n))}),t}Oa(e){this.fa=e.gs,this.pa=je();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ll.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ky="SyncEngine";class g1{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class y1{constructor(e){this.key=e,this.Ba=!1}}class v1{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Wo(c=>XS(c),gf),this.qa=new Map,this.Qa=new Set,this.$a=new _t(ke.comparator),this.Ka=new Map,this.Ua=new fy,this.Wa={},this.Ga=new Map,this.za=al.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _1(r,e,t=!0){const n=Bk(r);let i;const o=n.ka.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Vk(n,e,t,!0),i}async function w1(r,e){const t=Bk(r);await Vk(t,e,!0,!1)}async function Vk(r,e,t,n){const i=await jR(r.localStore,$r(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await T1(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&Dk(r.remoteStore,i),c}async function T1(r,e,t,n,i){r.Ha=(y,w,E)=>async function(C,x,U,B){let F=x.view.Sa(U);F.ls&&(F=await Rw(C.localStore,x.query,!1).then(({documents:b})=>x.view.Sa(b,F)));const H=B&&B.targetChanges.get(x.targetId),J=B&&B.targetMismatches.get(x.targetId)!=null,ne=x.view.applyChanges(F,C.isPrimaryClient,H,J);return Ww(C,x.targetId,ne.Ma),ne.snapshot}(r,y,w,E);const o=await Rw(r.localStore,e,!0),l=new m1(e,o.gs),c=l.Sa(o.documents),d=lc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),p=l.applyChanges(c,r.isPrimaryClient,d);Ww(r,t,p.Ma);const m=new g1(e,t,l);return r.ka.set(e,m),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),p.snapshot}async function E1(r,e,t){const n=Me(r),i=n.ka.get(e),o=n.qa.get(i.targetId);if(o.length>1)return n.qa.set(i.targetId,o.filter(l=>!gf(l,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await wg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&yy(n.remoteStore,i.targetId),Sg(n,i.targetId)}).catch(Tl)):(Sg(n,i.targetId),await wg(n.localStore,i.targetId,!0))}async function S1(r,e){const t=Me(r),n=t.ka.get(e),i=t.qa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),yy(t.remoteStore,n.targetId))}async function k1(r,e,t){const n=b1(r);try{const i=await function(l,c){const d=Me(l),p=Ft.now(),m=c.reduce((E,D)=>E.add(D.key),je());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let D=Ni(),C=je();return d.ds.getEntries(E,m).next(x=>{D=x,D.forEach((U,B)=>{B.isValidDocument()||(C=C.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,D)).next(x=>{y=x;const U=[];for(const B of c){const F=Ub(B,y.get(B.key).overlayedDocument);F!=null&&U.push(new Bs(B.key,F,zS(F.value.mapValue),ir.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,U,c)}).next(x=>{w=x;const U=x.applyToLocalDocumentSet(y,C);return d.documentOverlayCache.saveOverlays(E,x.batchId,U)})}).then(()=>({batchId:w.batchId,changes:ek(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new _t(We)),p=p.insert(c,d),l.Wa[l.currentUser.toKey()]=p}(n,i.batchId,t),await cc(n,i.changes),await Sf(n.remoteStore)}catch(i){const o=Ey(i,"Failed to persist write");t.reject(o)}}async function Lk(r,e){const t=Me(r);try{const n=await LR(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?et(l.Ba):i.removedDocuments.size>0&&(et(l.Ba),l.Ba=!1))}),await cc(t,n,e)}catch(n){await Tl(n)}}function Bw(r,e,t){const n=Me(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Me(l);d.onlineState=c;let p=!1;d.queries.forEach((m,y)=>{for(const w of y.ta)w.sa(c)&&(p=!0)}),p&&Sy(d)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function D1(r,e,t){const n=Me(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Ka.get(e),o=i&&i.key;if(o){let l=new _t(ke.comparator);l=l.insert(o,un.newNoDocument(o,Re.min()));const c=je().add(o),d=new wf(Re.min(),new Map,new _t(We),l,c);await Lk(n,d),n.$a=n.$a.remove(o),n.Ka.delete(e),Dy(n)}else await wg(n.localStore,e,!1).then(()=>Sg(n,e,t)).catch(Tl)}async function I1(r,e){const t=Me(r),n=e.batch.batchId;try{const i=await VR(t.localStore,e);Uk(t,n,null),Fk(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await cc(t,i)}catch(i){await Tl(i)}}async function C1(r,e,t){const n=Me(r);try{const i=await function(l,c){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(et(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(n.localStore,e);Uk(n,e,t),Fk(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await cc(n,i)}catch(i){await Tl(i)}}function Fk(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function Uk(r,e,t){const n=Me(r);let i=n.Wa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function Sg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(n=>{r.Ua.containsKey(n)||jk(r,n)})}function jk(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(yy(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),Dy(r))}function Ww(r,e,t){for(const n of t)n instanceof Nk?(r.Ua.addReference(n.key,e),P1(r,n)):n instanceof Ok?(ge(ky,"Document no longer in limbo: "+n.key),r.Ua.removeReference(n.key,e),r.Ua.containsKey(n.key)||jk(r,n.key)):xe()}function P1(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(ge(ky,"New document in limbo: "+t),r.Qa.add(n),Dy(r))}function Dy(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ke(ut.fromString(e)),n=r.za.next();r.Ka.set(n,new y1(t)),r.$a=r.$a.insert(t,n),Dk(r.remoteStore,new _s($r(ay(t.path)),n,"TargetPurposeLimboResolution",ff.ae))}}async function cc(r,e,t){const n=Me(r),i=[],o=[],l=[];n.ka.isEmpty()||(n.ka.forEach((c,d)=>{l.push(n.Ha(d,e,t).then(p=>{var m;if((p||t)&&n.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){i.push(p);const y=my.Yi(d.targetId,p);o.push(y)}}))}),await Promise.all(l),n.La.p_(i),await async function(d,p){const m=Me(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ee.forEach(p,w=>ee.forEach(w.Hi,E=>m.persistence.referenceDelegate.addReference(y,w.targetId,E)).next(()=>ee.forEach(w.Ji,E=>m.persistence.referenceDelegate.removeReference(y,w.targetId,E)))))}catch(y){if(!El(y))throw y;ge(gy,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const E=m.Ts.get(w),D=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(D);m.Ts=m.Ts.insert(w,C)}}}(n.localStore,o))}async function x1(r,e){const t=Me(r);if(!t.currentUser.isEqual(e)){ge(ky,"User change. New user:",e.toKey());const n=await Tk(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(d=>{d.reject(new ve(te.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await cc(t,n.Rs)}}function A1(r,e){const t=Me(r),n=t.Ka.get(e);if(n&&n.Ba)return je().add(n.key);{let i=je();const o=t.qa.get(e);if(!o)return i;for(const l of o){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function Bk(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D1.bind(null,e),e.La.p_=f1.bind(null,e.eventManager),e.La.Ja=p1.bind(null,e.eventManager),e}function b1(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C1.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return OR(this.persistence,new RR,e.initialUser,this.serializer)}Xa(e){return new wk(py.ri,this.serializer)}Za(e){return new WR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class R1 extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof Rh);const n=this.persistence.referenceDelegate.garbageCollector;return new yR(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new wk(n=>Rh.ri(n,t),this.serializer)}}class kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Bw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=x1.bind(null,this.syncEngine),await c1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h1}()}createDatastore(e){const t=Tf(e.databaseInfo.databaseId),n=function(o){return new qR(o)}(e.databaseInfo);return function(o,l,c,d){return new XR(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,c){return new ZR(n,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Bw(this.syncEngine,t,0),function(){return Ow.D()?new Ow:new zR}())}createSyncEngine(e,t){return function(i,o,l,c,d,p,m){const y=new v1(i,o,l,c,d,p);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Me(i);ge(Oo,"RemoteStore shutting down."),o.W_.add(5),await uc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kg.provider={build:()=>new kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class M1{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=MS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{ge(Ns,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(ge(Ns,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ey(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Ns,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Tk(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function zw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await N1(r);ge(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Lw(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>Lw(e.remoteStore,i)),r._onlineComponents=e}async function N1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Ns,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;rl("Error using user provided cache. Falling back to memory cache: "+t),await Nm(r,new Nh)}}else ge(Ns,"Using default OfflineComponentProvider"),await Nm(r,new R1(void 0));return r._offlineComponents}async function zk(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Ns,"Using user provided OnlineComponentProvider"),await zw(r,r._uninitializedComponentsProvider._online)):(ge(Ns,"Using default OnlineComponentProvider"),await zw(r,new kg))),r._onlineComponents}function O1(r){return zk(r).then(e=>e.syncEngine)}async function Hk(r){const e=await zk(r),t=e.eventManager;return t.onListen=_1.bind(null,e.syncEngine),t.onUnlisten=E1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S1.bind(null,e.syncEngine),t}function V1(r,e,t={}){const n=new ki;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new Wk({next:w=>{m.su(),l.enqueueAndForget(()=>Rk(o,y));const E=w.docs.has(c);!E&&w.fromCache?p.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?p.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new Mk(ay(c.path),m,{includeMetadataChanges:!0,Ta:!0});return bk(o,y)}(await Hk(r),r.asyncQueue,e,t,n)),n.promise}function L1(r,e,t={}){const n=new ki;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new Wk({next:w=>{m.su(),l.enqueueAndForget(()=>Rk(o,y)),w.fromCache&&d.source==="server"?p.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new Mk(c,m,{includeMetadataChanges:!0,Ta:!0});return bk(o,y)}(await Hk(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(r,e,t){if(!t)throw new ve(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function F1(r,e,t,n){if(e===!0&&n===!0)throw new ve(te.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $w(r){if(!ke.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yw(r){if(ke.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe()}function Dr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kf(r);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="firestore.googleapis.com",qw=!0;class Kw{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qk,this.ssl=qw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_k;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mR)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$k((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new YA;switch(n.type){case"firstParty":return new GA(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Hw.get(t);n&&(ge("ComponentProvider","Removing Datastore"),Hw.delete(t),n.terminate())}(this),Promise.resolve()}}function U1(r,e,t,n={}){var i;const o=(r=Dr(r,Df))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==qk&&o.host!==c&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:n});if(!Ro(d,l)&&(r._setSettings(d),n.mockUserToken)){let p,m;if(typeof n.mockUserToken=="string")p=n.mockUserToken,m=ln.MOCK_USER;else{p=wS(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ln(y)}r._authCredentials=new qA(new RS(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kl(this.firestore,e,this._query)}}class wn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ks extends kl{constructor(e,t,n){super(e,t,ay(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ke(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function Vo(r,e,...t){if(r=dn(r),Yk("collection","path",e),r instanceof Df){const n=ut.fromString(e,...t);return Yw(n),new ks(r,null,n)}{if(!(r instanceof wn||r instanceof ks))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ut.fromString(e,...t));return Yw(n),new ks(r.firestore,null,n)}}function Os(r,e,...t){if(r=dn(r),arguments.length===1&&(e=MS.newId()),Yk("doc","path",e),r instanceof Df){const n=ut.fromString(e,...t);return $w(n),new wn(r,null,new ke(n))}{if(!(r instanceof wn||r instanceof ks))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ut.fromString(e,...t));return $w(n),new wn(r.firestore,r instanceof ks?r.converter:null,new ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="AsyncQueue";class Gw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Sk(this,"async_queue_retry"),this.bu=()=>{const n=Mm();n&&ge(Qw,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.Su=e;const t=Mm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Mm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ki;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!El(e))throw e;ge(Qw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw Mi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Ty.createAndSchedule(this,e,t,n,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ho extends Df{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Gw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gw(e),this._firestoreClient=void 0,await e}}}function j1(r,e){const t=typeof r=="object"?r:ey(),n=typeof r=="string"?r:Dh,i=hf(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=yS("firestore");o&&U1(i,...o)}return i}function Iy(r){if(r._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||B1(r),r._firestoreClient}function B1(r){var e,t,n;const i=r._freezeSettings(),o=function(c,d,p,m){return new cb(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$k(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new M1(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(en.fromBase64String(e))}catch(t){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ul(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=/^__.*__$/;class z1{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ac(e,this.data,t,this.fieldTransforms)}}class Kk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Qk(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Ay{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Ku(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Qk(this.Lu)&&W1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class H1{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Tf(e)}ju(e,t,n,i=!1){return new Ay({Lu:e,methodName:t,zu:n,path:Jt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(r){const e=r._freezeSettings(),t=Tf(r._databaseId);return new H1(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Gk(r,e,t,n,i,o={}){const l=r.ju(o.merge||o.mergeFields?2:0,e,t,i);by("Data must be an object, but it was:",l,n);const c=Xk(n,l);let d,p;if(o.merge)d=new jn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const w=Dg(e,y,t);if(!l.contains(w))throw new ve(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Zk(m,w)||m.push(w)}d=new jn(m),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new z1(new An(c),d,p)}class Pf extends Cy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}function $1(r,e,t,n){const i=r.ju(1,e,t);by("Data must be an object, but it was:",i,n);const o=[],l=An.empty();js(n,(d,p)=>{const m=Ry(e,d,t);p=dn(p);const y=i.Ku(m);if(p instanceof Pf)o.push(m);else{const w=dc(p,y);w!=null&&(o.push(m),l.set(m,w))}});const c=new jn(o);return new Kk(l,c,i.fieldTransforms)}function Y1(r,e,t,n,i,o){const l=r.ju(1,e,t),c=[Dg(e,n,t)],d=[i];if(o.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Dg(e,o[w])),d.push(o[w+1]);const p=[],m=An.empty();for(let w=c.length-1;w>=0;--w)if(!Zk(p,c[w])){const E=c[w];let D=d[w];D=dn(D);const C=l.Ku(E);if(D instanceof Pf)p.push(E);else{const x=dc(D,C);x!=null&&(p.push(E),m.set(E,x))}}const y=new jn(p);return new Kk(m,y,l.fieldTransforms)}function q1(r,e,t,n=!1){return dc(t,r.ju(n?4:3,e))}function dc(r,e){if(Jk(r=dn(r)))return by("Unsupported field value:",e,r),Xk(r,e);if(r instanceof Cy)return function(n,i){if(!Qk(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const c of n){let d=dc(c,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Mb(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Ft.fromDate(n);return{timestampValue:bh(i.serializer,o)}}if(n instanceof Ft){const o=new Ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bh(i.serializer,o)}}if(n instanceof Py)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ul)return{bytesValue:hk(i.serializer,n._byteString)};if(n instanceof wn){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hy(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof xy)return function(l,c){return{mapValue:{fields:{[BS]:{stringValue:WS},[Ih]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return ly(c.serializer,p)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${kf(n)}`)}(r,e)}function Xk(r,e){const t={};return OS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(r,(n,i)=>{const o=dc(i,e.qu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function Jk(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ft||r instanceof Py||r instanceof ul||r instanceof wn||r instanceof Cy||r instanceof xy)}function by(r,e,t){if(!Jk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=kf(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function Dg(r,e,t){if((e=dn(e))instanceof If)return e._internalPath;if(typeof e=="string")return Ry(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,t)}const K1=new RegExp("[~\\*/\\[\\]]");function Ry(r,e,t){if(e.search(K1)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new If(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Oh(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new ve(te.INVALID_ARGUMENT,c+r+d)}function Zk(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(My("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q1 extends eD{data(){return super.data()}}function My(r,e){return typeof e=="string"?Ry(r,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class X1 extends Ny{}function J1(r,e,...t){let n=[];e instanceof Ny&&n.push(e),n=n.concat(t),function(o){const l=o.filter(d=>d instanceof Oy).length,c=o.filter(d=>d instanceof xf).length;if(l>1||l>0&&c>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class xf extends X1{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xf(e,t,n)}_apply(e){const t=this._parse(e);return tD(e._query,t),new kl(e.firestore,e.converter,pg(e._query,t))}_parse(e){const t=Cf(e.firestore);return function(o,l,c,d,p,m,y){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Jw(y,m);const D=[];for(const C of y)D.push(Xw(d,o,C));w={arrayValue:{values:D}}}else w=Xw(d,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Jw(y,m),w=q1(c,l,y,m==="in"||m==="not-in");return Rt.create(p,m,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Z1(r,e,t){const n=e,i=My("where",r);return xf._create(i,n,t)}class Oy extends Ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Oy(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)tD(l,d),l=pg(l,d)}(e._query,t),new kl(e.firestore,e.converter,pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xw(r,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GS(e)&&t.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ut.fromString(t));if(!ke.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return fw(r,new ke(n))}if(t instanceof wn)return fw(r,t._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(t)}.`)}function Jw(r,e){if(!Array.isArray(r)||r.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tD(r,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eM{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return js(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[Ih].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>kt(l.doubleValue));return new xy(o)}convertGeoPoint(e){return new Py(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=As(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ut.fromString(e);et(vk(n));const i=new qu(n.get(1),n.get(3)),o=new ke(n.popFirst(5));return i.isEqual(t)||Mi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rD extends eD{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(My("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class uh extends rD{data(e={}){return super.data(e)}}class tM{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new uh(this._firestore,this._userDataWriter,n.key,n,new bu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new uh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new uh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:nM(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(r){r=Dr(r,wn);const e=Dr(r.firestore,Ho);return V1(Iy(e),r._key).then(t=>iM(e,r,t))}class iD extends eM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function hc(r){r=Dr(r,kl);const e=Dr(r.firestore,Ho),t=Iy(e),n=new iD(e);return G1(r._query),L1(t,r._query).then(i=>new tM(e,n,r,i))}function rM(r,e,t){r=Dr(r,wn);const n=Dr(r.firestore,Ho),i=nD(r.converter,e);return Af(n,[Gk(Cf(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,ir.none())])}function sD(r,e,t,...n){r=Dr(r,wn);const i=Dr(r.firestore,Ho),o=Cf(i);let l;return l=typeof(e=dn(e))=="string"||e instanceof If?Y1(o,"updateDoc",r._key,e,t,n):$1(o,"updateDoc",r._key,e),Af(i,[l.toMutation(r._key,ir.exists(!0))])}function Ly(r){return Af(Dr(r.firestore,Ho),[new uy(r._key,ir.none())])}function oD(r,e){const t=Dr(r.firestore,Ho),n=Os(r),i=nD(r.converter,e);return Af(t,[Gk(Cf(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ir.exists(!1))]).then(()=>n)}function Af(r,e){return function(n,i){const o=new ki;return n.asyncQueue.enqueueAndForget(async()=>k1(await O1(n),i,o)),o.promise}(Iy(r),e)}function iM(r,e,t){const n=t.docs.get(e._key),i=new iD(r);return new rD(r,i,e._key,n,new bu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){wl=i})(Bo),Mo(new Ps("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new Ho(new KA(n.getProvider("auth-internal")),new XA(l,n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Hr(nw,rw,e),Hr(nw,rw,"esm2017")})();function Fy(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sM=aD,lD=new ic("auth","Firebase",aD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Jg("@firebase/auth");function oM(r,...e){Vh.logLevel<=Ue.WARN&&Vh.warn(`Auth (${Bo}): ${r}`,...e)}function ch(r,...e){Vh.logLevel<=Ue.ERROR&&Vh.error(`Auth (${Bo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(r,...e){throw Uy(r,...e)}function qr(r,...e){return Uy(r,...e)}function uD(r,e,t){const n=Object.assign(Object.assign({},sM()),{[e]:t});return new ic("auth","Firebase",n).create(e,{appName:r.name})}function Co(r){return uD(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return lD.create(r,...e)}function be(r,e,...t){if(!r)throw Uy(e,...t)}function wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function Vi(r,e){r||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function aM(){return Zw()==="http:"||Zw()==="https:"}function Zw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aM()||Sx()||"connection"in navigator)?navigator.onLine:!0}function uM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=wx()||kx()}get(){return lM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(r,e){Vi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new fc(3e4,6e4);function By(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Dl(r,e,t,n,i={}){return dD(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=sc(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:d},o);return Ex()||(p.referrerPolicy="no-referrer"),cD.fetch()(hD(r,r.config.apiHost,t,c),p)})}async function dD(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},cM),e);try{const i=new fM(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw $d(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw $d(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw $d(r,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw uD(r,m,p);Oi(r,m)}}catch(i){if(i instanceof ei)throw i;Oi(r,"network-request-failed",{message:String(i)})}}async function hM(r,e,t,n,i={}){const o=await Dl(r,e,t,n,i);return"mfaPendingCredential"in o&&Oi(r,"multi-factor-auth-required",{_serverResponse:o}),o}function hD(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?jy(r.config,i):`${r.config.apiScheme}://${i}`}class fM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(qr(this.auth,"network-request-failed")),dM.get())})}}function $d(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=qr(r,e,n);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(r,e){return Dl(r,"POST","/v1/accounts:delete",e)}async function fD(r,e){return Dl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mM(r,e=!1){const t=dn(r),n=await t.getIdToken(e),i=Wy(n);be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:Uu(Om(i.auth_time)),issuedAtTime:Uu(Om(i.iat)),expirationTime:Uu(Om(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Om(r){return Number(r)*1e3}function Wy(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=mS(t);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eT(r){const e=Wy(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ei&&gM(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function gM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Xu(r,fD(t,{idToken:n}));be(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?pD(o.providerUserInfo):[],c=_M(r.providerData,l),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,y)}async function vM(r){const e=dn(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _M(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function pD(r){return r.map(e=>{var{providerId:t}=e,n=Fy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(r,e){const t=await dD(r,{},async()=>{const n=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=hD(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",cD.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TM(r,e){return Dl(r,"POST","/v2/accounts:revokeToken",By(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=eT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await wM(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new Ja;return n&&(be(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(be(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=Fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mM(this,e)}reload(){return vM(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Co(this.auth));const e=await this.getIdToken();return await Xu(this,pM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,c,d,p,m;const y=(n=t.displayName)!==null&&n!==void 0?n:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,U=(p=t.createdAt)!==null&&p!==void 0?p:void 0,B=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:H,isAnonymous:J,providerData:ne,stsTokenManager:b}=t;be(F&&b,e,"internal-error");const k=Ja.fromJSON(this.name,b);be(typeof F=="string",e,"internal-error"),ds(y,e.name),ds(w,e.name),be(typeof H=="boolean",e,"internal-error"),be(typeof J=="boolean",e,"internal-error"),ds(E,e.name),ds(D,e.name),ds(C,e.name),ds(x,e.name),ds(U,e.name),ds(B,e.name);const P=new Ti({uid:F,auth:e,email:w,emailVerified:H,displayName:y,isAnonymous:J,photoURL:D,phoneNumber:E,tenantId:C,stsTokenManager:k,createdAt:U,lastLoginAt:B});return ne&&Array.isArray(ne)&&(P.providerData=ne.map(M=>Object.assign({},M))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,n=!1){const i=new Ja;i.updateFromServerResponse(t);const o=new Ti({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Lh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?pD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Ja;c.updateFromIdToken(n);const d=new Ti({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Map;function Ei(r){Vi(r instanceof Function,"Expected a class definition");let e=tT.get(r);return e?(Vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,tT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mD.type="NONE";const nT=mD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r,e,t){return`firebase:${r}:${e}:${t}`}class Za{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=dh(this.userKey,i.apiKey,o),this.fullPersistenceKey=dh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Za(Ei(nT),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Ei(nT);const l=dh(n,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){const y=Ti._fromJSON(e,m);p!==o&&(c=y),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Za(o,e,n):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Za(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_D(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TD(e))return"Blackberry";if(ED(e))return"Webos";if(yD(e))return"Safari";if((e.includes("chrome/")||vD(e))&&!e.includes("edge/"))return"Chrome";if(wD(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function gD(r=cn()){return/firefox\//i.test(r)}function yD(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vD(r=cn()){return/crios\//i.test(r)}function _D(r=cn()){return/iemobile/i.test(r)}function wD(r=cn()){return/android/i.test(r)}function TD(r=cn()){return/blackberry/i.test(r)}function ED(r=cn()){return/webos/i.test(r)}function zy(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EM(r=cn()){var e;return zy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SM(){return Dx()&&document.documentMode===10}function SD(r=cn()){return zy(r)||wD(r)||ED(r)||TD(r)||/windows phone/i.test(r)||_D(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(r,e=[]){let t;switch(r){case"Browser":t=rT(cn());break;case"Worker":t=`${rT(cn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(r,e={}){return Dl(r,"GET","/v2/passwordPolicy",By(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=6;class CM{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:IM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iT(this),this.idTokenSubscription=new iT(this),this.beforeStateQueue=new kM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fD(this,{idToken:e}),n=await Ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Co(this));const t=e?dn(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DM(this),t=new CM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await TM(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&oM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hy(r){return dn(r)}class iT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mx(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xM(r){$y=r}function AM(r){return $y.loadJS(r)}function bM(){return $y.gapiScript}function RM(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(r,e){const t=hf(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ro(o,e??{}))return i;Oi(i,"already-initialized")}return t.initialize({options:e})}function NM(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Ei);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function OM(r,e,t){const n=Hy(r);be(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=DD(e),{host:l,port:c}=VM(e),d=c===null?"":`:${c}`,p={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){be(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),be(Ro(p,n.config.emulator)&&Ro(m,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=p,n.emulatorConfig=m,n.settings.appVerificationDisabledForTesting=!0,LM()}function DD(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function VM(r){const e=DD(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:sT(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:sT(l)}}}function sT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LM(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,t){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r,e){return hM(r,"POST","/v1/accounts:signInWithIdp",By(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="http://localhost";class Lo extends ID{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=Fy(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Lo(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,el(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:FM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends CD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends pc{constructor(){super("facebook.com")}static credential(e){return Lo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Lo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return gs.credential(t,n)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends pc{constructor(){super("github.com")}static credential(e){return Lo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends pc{constructor(){super("twitter.com")}static credential(e,t){return Lo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return vs.credential(t,n)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Ti._fromIdTokenResponse(e,n,i),l=oT(n);return new cl({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=oT(n);return new cl({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function oT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends ei{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Fh(e,t,n,i)}}function PD(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(r,o,e,n):o})}async function UM(r,e,t=!1){const n=await Xu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return cl._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(r,e,t=!1){const{auth:n}=r;if(Tr(n.app))return Promise.reject(Co(n));const i="reauthenticate";try{const o=await Xu(r,PD(n,i,e,r),t);be(o.idToken,n,"internal-error");const l=Wy(o.idToken);be(l,n,"internal-error");const{sub:c}=l;return be(r.uid===c,n,"user-mismatch"),cl._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Oi(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(r,e,t=!1){if(Tr(r.app))return Promise.reject(Co(r));const n="signIn",i=await PD(r,n,e),o=await cl._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}function WM(r,e,t,n){return dn(r).onIdTokenChanged(e,t,n)}function zM(r,e,t){return dn(r).beforeAuthStateChanged(e,t)}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1e3,$M=10;class AD extends xD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);SM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$M):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AD.type="LOCAL";const YM=AD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends xD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bD.type="SESSION";const RD=bD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new bf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),d=await qM(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const p=Yy("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function QM(r){Kr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function GM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XM(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function JM(){return MD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebaseLocalStorageDb",ZM=1,jh="firebaseLocalStorage",OD="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rf(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function eN(){const r=indexedDB.deleteDatabase(ND);return new mc(r).toPromise()}function Pg(){const r=indexedDB.open(ND,ZM);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(jh,{keyPath:OD})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(jh)?e(n):(n.close(),await eN(),e(await Pg()))})})}async function aT(r,e,t){const n=Rf(r,!0).put({[OD]:e,value:t});return new mc(n).toPromise()}async function tN(r,e){const t=Rf(r,!1).get(e),n=await new mc(t).toPromise();return n===void 0?null:n.value}function lT(r,e){const t=Rf(r,!0).delete(e);return new mc(t).toPromise()}const nN=800,rN=3;class VD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>rN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(JM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GM(),!this.activeServiceWorker)return;this.sender=new KM(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await aT(e,Uh,"1"),await lT(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>aT(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>tN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Rf(i,!1).getAll();return new mc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VD.type="LOCAL";const iN=VD;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r,e){return e?Ei(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends ID{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oN(r){return BM(r.auth,new qy(r),r.bypassAuthState)}function aN(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),jM(t,new qy(r),r.bypassAuthState)}async function lN(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),UM(t,new qy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oN;case"linkViaPopup":case"linkViaRedirect":return lN;case"reauthViaPopup":case"reauthViaRedirect":return aN;default:Oi(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new fc(2e3,1e4);class Ya extends LD{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uN.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="pendingRedirect",hh=new Map;class dN extends LD{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const n=await hN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hN(r,e){const t=mN(e),n=pN(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function fN(r,e){hh.set(r._key(),e)}function pN(r){return Ei(r._redirectPersistence)}function mN(r){return dh(cN,r.config.apiKey,r.name)}async function gN(r,e,t=!1){if(Tr(r.app))return Promise.reject(Co(r));const n=Hy(r),i=sN(n,e),l=await new dN(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=10*60*1e3;class vN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_N(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!FD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yN&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(e))}saveEventToCache(e){this.cachedEventUids.add(uT(e)),this.lastProcessedEventTime=Date.now()}}function uT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function FD({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _N(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FD(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,e={}){return Dl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EN=/^https?/;async function SN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await wN(r);for(const t of e)try{if(kN(t))return}catch{}Oi(r,"unauthorized-domain")}function kN(r){const e=Ig(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!EN.test(t))return!1;if(TN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new fc(3e4,6e4);function cT(){const r=Kr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function IN(r){return new Promise((e,t)=>{var n,i,o;function l(){cT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cT(),t(qr(r,"network-request-failed"))},timeout:DN.get()})}if(!((i=(n=Kr().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kr().gapi)===null||o===void 0)&&o.load)l();else{const c=RM("iframefcb");return Kr()[c]=()=>{gapi.load?l():t(qr(r,"network-request-failed"))},AM(`${bM()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw fh=null,e})}let fh=null;function CN(r){return fh=fh||IN(r),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new fc(5e3,15e3),xN="__/auth/iframe",AN="emulator/auth/iframe",bN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?jy(e,AN):`https://${r.config.authDomain}/${xN}`,n={apiKey:e.apiKey,appName:r.name,v:Bo},i=RN.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${sc(n).slice(1)}`}async function NN(r){const e=await CN(r),t=Kr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:MN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bN,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=qr(r,"network-request-failed"),c=Kr().setTimeout(()=>{o(l)},PN.get());function d(){Kr().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VN=500,LN=600,FN="_blank",UN="http://localhost";class dT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jN(r,e,t,n=VN,i=LN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},ON),{width:n.toString(),height:i.toString(),top:o,left:l}),p=cn().toLowerCase();t&&(c=vD(p)?FN:t),gD(p)&&(e=e||UN,d.scrollbars="yes");const m=Object.entries(d).reduce((w,[E,D])=>`${w}${E}=${D},`,"");if(EM(p)&&c!=="_self")return BN(e||"",c),new dT(null);const y=window.open(e||"",c,m);be(y,r,"popup-blocked");try{y.focus()}catch{}return new dT(y)}function BN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="__/auth/handler",zN="emulator/auth/handler",HN=encodeURIComponent("fac");async function hT(r,e,t,n,i,o){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Bo,eventId:i};if(e instanceof CD){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",Rx(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof pc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await r._getAppCheckToken(),p=d?`#${HN}=${encodeURIComponent(d)}`:"";return`${$N(r)}?${sc(c).slice(1)}${p}`}function $N({config:r}){return r.emulator?jy(r,zN):`https://${r.authDomain}/${WN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class YN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RD,this._completeRedirectFn=gN,this._overrideRedirectResult=fN}async _openPopup(e,t,n,i){var o;Vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await hT(e,t,n,Ig(),i);return jN(e,l,Yy())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await hT(e,t,n,Ig(),i);return QM(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Vi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await NN(e),n=new vN(e);return t.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vm,{type:Vm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Vm];l!==void 0&&t(!!l),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SD()||yD()||zy()}}const qN=YN;var fT="@firebase/auth",pT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(r){Mo(new Ps("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;be(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kD(r)},p=new PM(n,i,o,d);return NM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Mo(new Ps("auth-internal",e=>{const t=Hy(e.getProvider("auth").getImmediate());return(n=>new KN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(fT,pT,QN(r)),Hr(fT,pT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=5*60,JN=_S("authIdTokenMaxAge")||XN;let mT=null;const ZN=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>JN)return;const i=t==null?void 0:t.token;mT!==i&&(mT=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eO(r=ey()){const e=hf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=MM(r,{popupRedirectResolver:qN,persistence:[iN,YM,RD]}),n=_S("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=ZN(o.toString());zM(t,l,()=>l(t.currentUser)),WM(t,c=>l(c))}}const i=gS("auth");return i&&OM(t,`http://${i}`),t}function tO(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}xM({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=qr("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",tO().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firebasestorage.googleapis.com",nO="storageBucket",rO=2*60*1e3,iO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ei{constructor(e,t,n=0){super(Lm(e),`Firebase Storage: ${t} (${Lm(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jr||(Jr={}));function Lm(r){return"storage/"+r}function sO(){const r="An unknown error occurred, please check the error payload for server response.";return new ti(Jr.UNKNOWN,r)}function oO(){return new ti(Jr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aO(){return new ti(Jr.CANCELED,"User canceled the upload/download.")}function lO(r){return new ti(Jr.INVALID_URL,"Invalid URL '"+r+"'.")}function uO(r){return new ti(Jr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function gT(r){return new ti(Jr.INVALID_ARGUMENT,r)}function jD(){return new ti(Jr.APP_DELETED,"The Firebase app was deleted.")}function cO(r){return new ti(Jr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Er.makeFromUrl(e,t)}catch{return new Er(e,"")}if(n.path==="")return n;throw uO(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const m="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${m}/b/${i}/o${w}`,"i"),D={bucket:1,path:3},C=t===UD?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",U=new RegExp(`^https?://${C}/${i}/${x}`,"i"),F=[{regex:c,indices:d,postModify:o},{regex:E,indices:D,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<F.length;H++){const J=F[H],ne=J.regex.exec(e);if(ne){const b=ne[J.indices.bucket];let k=ne[J.indices.path];k||(k=""),n=new Er(b,k),J.postModify(n);break}}if(n==null)throw lO(e);return n}}class dO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(r,e,t){let n=1,i=null,o=null,l=!1,c=0;function d(){return c===2}let p=!1;function m(...x){p||(p=!0,e.apply(null,x))}function y(x){i=setTimeout(()=>{i=null,r(E,d())},x)}function w(){o&&clearTimeout(o)}function E(x,...U){if(p){w();return}if(x){w(),m.call(null,x,...U);return}if(d()||l){w(),m.call(null,x,...U);return}n<64&&(n*=2);let F;c===1?(c=2,F=0):F=(n+Math.random())*1e3,y(F)}let D=!1;function C(x){D||(D=!0,w(),!p&&(i!==null?(x||(c=2),clearTimeout(i),y(0)):x||(c=1)))}return y(0),o=setTimeout(()=>{l=!0,C(!0)},t),C}function fO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r){return r!==void 0}function yT(r,e,t,n){if(n<e)throw gT(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw gT(`Invalid value for '${r}'. Expected ${t} or less.`)}function mO(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var Bh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,o=e.indexOf(r)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t,n,i,o,l,c,d,p,m,y,w=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,D)=>{this.resolve_=E,this.reject_=D,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Yd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Bh.NO_ERROR,d=o.getStatus();if(!c||gO(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Bh.ABORT;n(!1,new Yd(!1,null,m));return}const p=this.successCodes_.indexOf(d)!==-1;n(!0,new Yd(p,o))})},t=(n,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());pO(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=sO();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?jD():aO();l(d)}else{const d=oO();l(d)}};this.canceled_?t(!1,new Yd(!1,null,!0)):this.backoffId_=hO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function vO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function _O(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function TO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function EO(r,e,t,n,i,o,l=!0){const c=mO(r.urlParams),d=r.url+c,p=Object.assign({},r.headers);return wO(p,e),vO(p,t),_O(p,o),TO(p,n),new yO(d,r.method,p,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function kO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this._service=e,t instanceof Er?this._location=t:this._location=Er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wh(e,t)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kO(this._location.path)}get storage(){return this._service}get parent(){const e=SO(this._location.path);if(e===null)return null;const t=new Er(this._location.bucket,e);return new Wh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw cO(e)}}function vT(r,e){const t=e==null?void 0:e[nO];return t==null?null:Er.makeFromBucketSpec(t,r)}function DO(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken=typeof i=="string"?i:wS(i,r.app.options.projectId))}class IO{constructor(e,t,n,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=UD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rO,this._maxUploadRetryTime=iO,this._requests=new Set,i!=null?this._bucket=Er.makeFromBucketSpec(i,this._host):this._bucket=vT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,e):this._bucket=vT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wh(this,e)}_makeRequest(e,t,n,i,o=!0){if(this._deleted)return new dO(jD());{const l=EO(e,this._appId,n,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const _T="@firebase/storage",wT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="storage";function CO(r=ey(),e){r=dn(r);const n=hf(r,BD).getImmediate({identifier:e}),i=yS("storage");return i&&PO(n,...i),n}function PO(r,e,t,n={}){DO(r,e,t,n)}function xO(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new IO(t,n,i,e,Bo)}function AO(){Mo(new Ps(BD,xO,"PUBLIC").setMultipleInstances(!0)),Hr(_T,wT,""),Hr(_T,wT,"esm2017")}AO();const bO={apiKey:"AIzaSyBgRjJShNJqWB2nq931kKobLRHUeejW0vo",authDomain:"milan-studio-b8b4b.firebaseapp.com",projectId:"milan-studio-b8b4b",storageBucket:"milan-studio-b8b4b.firebasestorage.app",messagingSenderId:"961084768524",appId:"1:961084768524:web:2cdbc3a67dc018d8058929",measurementId:"G-8XF83E9KQY"},Ky=SS(bO),bn=j1(Ky);eO(Ky);CO(Ky);const WD=({classInfo:r,employee:e})=>{const[t,n]=Y.useState(""),i=async()=>{if(!e){n("❗ עליך להתחבר כדי להזמין מקום");return}try{const o=Os(bn,"classes",r.id),c=(await Vy(o)).data();if(!c||c.spots<=0){n("❗ אין יותר מקומות פנויים");return}await oD(Vo(bn,"bookings"),{userId:e.phone,classId:r.id,name:r.name,instructor:r.instructor,date:r.date,time:r.time,createdAt:new Date}),await sD(o,{spots:c.spots-1}),n("✔️ נרשמת בהצלחה!")}catch(o){console.error("❌ שגיאה ברישום לשיעור:",o),n("❌ שגיאה ברישום. נסה שוב")}};return K.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded shadow relative mb-4",children:[K.jsx("h2",{className:"text-lg font-bold mb-2",children:r.name}),K.jsxs("p",{children:["מדריך: ",r.instructor]}),K.jsxs("p",{children:["תאריך: ",r.date]}),K.jsxs("p",{children:["שעה: ",r.time]}),K.jsxs("p",{children:["מקומות פנויים: ",r.spots]}),t&&K.jsx("p",{className:"text-green-400 mt-2",children:t}),K.jsx("button",{onClick:i,disabled:r.spots<=0,className:`mt-3 px-4 py-2 rounded ${r.spots>0?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:r.spots>0?"הזמן מקום":"אין מקומות"})]})},zD=Y.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),Mf=Y.createContext({}),Qy=Y.createContext(null),Nf=typeof document<"u",RO=Nf?Y.useLayoutEffect:Y.useEffect,HD=Y.createContext({strict:!1}),Gy=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),MO="framerAppearId",$D="data-"+Gy(MO);function NO(r,e,t,n){const{visualElement:i}=Y.useContext(Mf),o=Y.useContext(HD),l=Y.useContext(Qy),c=Y.useContext(zD).reducedMotion,d=Y.useRef();n=n||o.renderer,!d.current&&n&&(d.current=n(r,{visualState:e,parent:i,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const p=d.current;Y.useInsertionEffect(()=>{p&&p.update(t,l)});const m=Y.useRef(!!(t[$D]&&!window.HandoffComplete));return RO(()=>{p&&(p.render(),m.current&&p.animationState&&p.animationState.animateChanges())}),Y.useEffect(()=>{p&&(p.updateFeatures(),!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),p}function qa(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function OO(r,e,t){return Y.useCallback(n=>{n&&r.mount&&r.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):qa(t)&&(t.current=n))},[e])}function Ju(r){return typeof r=="string"||Array.isArray(r)}function Of(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const Xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jy=["initial",...Xy];function Vf(r){return Of(r.animate)||Jy.some(e=>Ju(r[e]))}function YD(r){return!!(Vf(r)||r.variants)}function VO(r,e){if(Vf(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Ju(t)?t:void 0,animate:Ju(n)?n:void 0}}return r.inherit!==!1?e:{}}function LO(r){const{initial:e,animate:t}=VO(r,Y.useContext(Mf));return Y.useMemo(()=>({initial:e,animate:t}),[TT(e),TT(t)])}function TT(r){return Array.isArray(r)?r.join(" "):r}const ET={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zu={};for(const r in ET)Zu[r]={isEnabled:e=>ET[r].some(t=>!!e[t])};function FO(r){for(const e in r)Zu[e]={...Zu[e],...r[e]}}const qD=Y.createContext({}),KD=Y.createContext({}),UO=Symbol.for("motionComponentSymbol");function jO({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){r&&FO(r);function o(c,d){let p;const m={...Y.useContext(zD),...c,layoutId:BO(c)},{isStatic:y}=m,w=LO(c),E=n(c,y);if(!y&&Nf){w.visualElement=NO(i,E,m,e);const D=Y.useContext(KD),C=Y.useContext(HD).strict;w.visualElement&&(p=w.visualElement.loadFeatures(m,C,r,D))}return Y.createElement(Mf.Provider,{value:w},p&&w.visualElement?Y.createElement(p,{visualElement:w.visualElement,...m}):null,t(i,c,OO(E,w.visualElement,d),E,y,w.visualElement))}const l=Y.forwardRef(o);return l[UO]=i,l}function BO({layoutId:r}){const e=Y.useContext(qD).id;return e&&r!==void 0?e+"-"+r:r}function WO(r){function e(n,i={}){return jO(r(n,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const zO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zy(r){return typeof r!="string"||r.includes("-")?!1:!!(zO.indexOf(r)>-1||/[A-Z]/.test(r))}const zh={};function HO(r){Object.assign(zh,r)}const gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$o=new Set(gc);function QD(r,{layout:e,layoutId:t}){return $o.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!zh[r]||r==="opacity")}const Rn=r=>!!(r&&r.getVelocity),$O={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YO=gc.length;function qO(r,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,i){let o="";for(let l=0;l<YO;l++){const c=gc[l];if(r[c]!==void 0){const d=$O[c]||c;o+=`${d}(${r[c]}) `}}return e&&!r.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(r,n?"":o):t&&n&&(o="none"),o}const GD=r=>e=>typeof e=="string"&&e.startsWith(r),XD=GD("--"),xg=GD("var(--"),KO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,QO=(r,e)=>e&&typeof r=="number"?e.transform(r):r,Vs=(r,e,t)=>Math.min(Math.max(t,r),e),Yo={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},ju={...Yo,transform:r=>Vs(0,1,r)},qd={...Yo,default:1},Bu=r=>Math.round(r*1e5)/1e5,Lf=/(-)?([\d]*\.?[\d])+/g,JD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,GO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function yc(r){return typeof r=="string"}const vc=r=>({test:e=>yc(e)&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),fs=vc("deg"),Qr=vc("%"),Pe=vc("px"),XO=vc("vh"),JO=vc("vw"),ST={...Qr,parse:r=>Qr.parse(r)/100,transform:r=>Qr.transform(r*100)},kT={...Yo,transform:Math.round},ZD={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,size:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:qd,scaleX:qd,scaleY:qd,scaleZ:qd,skew:fs,skewX:fs,skewY:fs,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:ju,originX:ST,originY:ST,originZ:Pe,zIndex:kT,fillOpacity:ju,strokeOpacity:ju,numOctaves:kT};function ev(r,e,t,n){const{style:i,vars:o,transform:l,transformOrigin:c}=r;let d=!1,p=!1,m=!0;for(const y in e){const w=e[y];if(XD(y)){o[y]=w;continue}const E=ZD[y],D=QO(w,E);if($o.has(y)){if(d=!0,l[y]=D,!m)continue;w!==(E.default||0)&&(m=!1)}else y.startsWith("origin")?(p=!0,c[y]=D):i[y]=D}if(e.transform||(d||n?i.transform=qO(r.transform,t,m,n):i.transform&&(i.transform="none")),p){const{originX:y="50%",originY:w="50%",originZ:E=0}=c;i.transformOrigin=`${y} ${w} ${E}`}}const tv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eI(r,e,t){for(const n in e)!Rn(e[n])&&!QD(n,t)&&(r[n]=e[n])}function ZO({transformTemplate:r},e,t){return Y.useMemo(()=>{const n=tv();return ev(n,e,{enableHardwareAcceleration:!t},r),Object.assign({},n.vars,n.style)},[e])}function eV(r,e,t){const n=r.style||{},i={};return eI(i,n,r),Object.assign(i,ZO(r,e,t)),r.transformValues?r.transformValues(i):i}function tV(r,e,t){const n={},i=eV(r,e,t);return r.drag&&r.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(n.tabIndex=0),n.style=i,n}const nV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hh(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||nV.has(r)}let tI=r=>!Hh(r);function rV(r){r&&(tI=e=>e.startsWith("on")?!Hh(e):r(e))}try{rV(require("@emotion/is-prop-valid").default)}catch{}function iV(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(tI(i)||t===!0&&Hh(i)||!e&&!Hh(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function DT(r,e,t){return typeof r=="string"?r:Pe.transform(e+t*r)}function sV(r,e,t){const n=DT(e,r.x,r.width),i=DT(t,r.y,r.height);return`${n} ${i}`}const oV={offset:"stroke-dashoffset",array:"stroke-dasharray"},aV={offset:"strokeDashoffset",array:"strokeDasharray"};function lV(r,e,t=1,n=0,i=!0){r.pathLength=1;const o=i?oV:aV;r[o.offset]=Pe.transform(-n);const l=Pe.transform(e),c=Pe.transform(t);r[o.array]=`${l} ${c}`}function nv(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},m,y,w){if(ev(r,p,m,w),y){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:E,style:D,dimensions:C}=r;E.transform&&(C&&(D.transform=E.transform),delete E.transform),C&&(i!==void 0||o!==void 0||D.transform)&&(D.transformOrigin=sV(C,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),n!==void 0&&(E.scale=n),l!==void 0&&lV(E,l,c,d,!1)}const nI=()=>({...tv(),attrs:{}}),rv=r=>typeof r=="string"&&r.toLowerCase()==="svg";function uV(r,e,t,n){const i=Y.useMemo(()=>{const o=nI();return nv(o,e,{enableHardwareAcceleration:!1},rv(n),r.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(r.style){const o={};eI(o,r.style,r),i.style={...o,...i.style}}return i}function cV(r=!1){return(t,n,i,{latestValues:o},l)=>{const d=(Zy(t)?uV:tV)(n,o,l,t),m={...iV(n,typeof t=="string",r),...d,ref:i},{children:y}=n,w=Y.useMemo(()=>Rn(y)?y.get():y,[y]);return Y.createElement(t,{...m,children:w})}}function rI(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const o in t)r.style.setProperty(o,t[o])}const iI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sI(r,e,t,n){rI(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(iI.has(i)?i:Gy(i),e.attrs[i])}function iv(r,e){const{style:t}=r,n={};for(const i in t)(Rn(t[i])||e.style&&Rn(e.style[i])||QD(i,r))&&(n[i]=t[i]);return n}function oI(r,e){const t=iv(r,e);for(const n in r)if(Rn(r[n])||Rn(e[n])){const i=gc.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;t[i]=r[n]}return t}function sv(r,e,t,n={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),e}function dV(r){const e=Y.useRef(null);return e.current===null&&(e.current=r()),e.current}const $h=r=>Array.isArray(r),hV=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),fV=r=>$h(r)?r[r.length-1]||0:r;function ph(r){const e=Rn(r)?r.get():r;return hV(e)?e.toValue():e}function pV({scrapeMotionValuesFromProps:r,createRenderState:e,onMount:t},n,i,o){const l={latestValues:mV(n,i,o,r),renderState:e()};return t&&(l.mount=c=>t(n,c,l)),l}const aI=r=>(e,t)=>{const n=Y.useContext(Mf),i=Y.useContext(Qy),o=()=>pV(r,e,n,i);return t?o():dV(o)};function mV(r,e,t,n){const i={},o=n(r,{});for(const w in o)i[w]=ph(o[w]);let{initial:l,animate:c}=r;const d=Vf(r),p=YD(r);e&&p&&!d&&r.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const y=m?c:l;return y&&typeof y!="boolean"&&!Of(y)&&(Array.isArray(y)?y:[y]).forEach(E=>{const D=sv(r,E);if(!D)return;const{transitionEnd:C,transition:x,...U}=D;for(const B in U){let F=U[B];if(Array.isArray(F)){const H=m?F.length-1:0;F=F[H]}F!==null&&(i[B]=F)}for(const B in C)i[B]=C[B]}),i}const Dt=r=>r;class IT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function gV(r){let e=new IT,t=new IT,n=0,i=!1,o=!1;const l=new WeakSet,c={schedule:(d,p=!1,m=!1)=>{const y=m&&i,w=y?e:t;return p&&l.add(d),w.add(d)&&y&&i&&(n=e.order.length),d},cancel:d=>{t.remove(d),l.delete(d)},process:d=>{if(i){o=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),n=e.order.length,n)for(let p=0;p<n;p++){const m=e.order[p];m(d),l.has(m)&&(c.schedule(m),r())}i=!1,o&&(o=!1,c.process(d))}};return c}const Kd=["prepare","read","update","preRender","render","postRender"],yV=40;function vV(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Kd.reduce((y,w)=>(y[w]=gV(()=>t=!0),y),{}),l=y=>o[y].process(i),c=()=>{const y=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,yV),1),i.timestamp=y,i.isProcessing=!0,Kd.forEach(l),i.isProcessing=!1,t&&e&&(n=!1,r(c))},d=()=>{t=!0,n=!0,i.isProcessing||r(c)};return{schedule:Kd.reduce((y,w)=>{const E=o[w];return y[w]=(D,C=!1,x=!1)=>(t||d(),E.schedule(D,C,x)),y},{}),cancel:y=>Kd.forEach(w=>o[w].cancel(y)),state:i,steps:o}}const{schedule:ct,cancel:Li,state:an,steps:Fm}=vV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dt,!0),_V={useVisualState:aI({scrapeMotionValuesFromProps:oI,createRenderState:nI,onMount:(r,e,{renderState:t,latestValues:n})=>{ct.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),ct.render(()=>{nv(t,n,{enableHardwareAcceleration:!1},rv(e.tagName),r.transformTemplate),sI(e,t)})}})},wV={useVisualState:aI({scrapeMotionValuesFromProps:iv,createRenderState:tv})};function TV(r,{forwardMotionProps:e=!1},t,n){return{...Zy(r)?_V:wV,preloadedFeatures:t,useRender:cV(e),createVisualElement:n,Component:r}}function Si(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}const lI=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function Ff(r,e="page"){return{point:{x:r[e+"X"],y:r[e+"Y"]}}}const EV=r=>e=>lI(e)&&r(e,Ff(e));function Di(r,e,t,n){return Si(r,e,EV(t),n)}const SV=(r,e)=>t=>e(r(t)),Ds=(...r)=>r.reduce(SV);function uI(r){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=r,t):!1}}const CT=uI("dragHorizontal"),PT=uI("dragVertical");function cI(r){let e=!1;if(r==="y")e=PT();else if(r==="x")e=CT();else{const t=CT(),n=PT();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function dI(){const r=cI(!0);return r?(r(),!1):!0}class Ws{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xT(r,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(o,l)=>{if(o.pointerType==="touch"||dI())return;const c=r.getProps();r.animationState&&c.whileHover&&r.animationState.setActive("whileHover",e),c[n]&&ct.update(()=>c[n](o,l))};return Di(r.current,t,i,{passive:!r.getProps()[n]})}class kV extends Ws{mount(){this.unmount=Ds(xT(this.node,!0),xT(this.node,!1))}unmount(){}}class DV extends Ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ds(Si(this.node.current,"focus",()=>this.onFocus()),Si(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hI=(r,e)=>e?r===e?!0:hI(r,e.parentElement):!1;function Um(r,e){if(!e)return;const t=new PointerEvent("pointer"+r);e(t,Ff(t))}class IV extends Ws{constructor(){super(...arguments),this.removeStartListeners=Dt,this.removeEndListeners=Dt,this.removeAccessibleListeners=Dt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=Di(window,"pointerup",(c,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:y}=this.node.getProps();ct.update(()=>{!y&&!hI(this.node.current,c.target)?m&&m(c,d):p&&p(c,d)})},{passive:!(n.onTap||n.onPointerUp)}),l=Di(window,"pointercancel",(c,d)=>this.cancelPress(c,d),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ds(o,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||Um("up",(d,p)=>{const{onTap:m}=this.node.getProps();m&&ct.update(()=>m(d,p))})};this.removeEndListeners(),this.removeEndListeners=Si(this.node.current,"keyup",l),Um("down",(c,d)=>{this.startPress(c,d)})},t=Si(this.node.current,"keydown",e),n=()=>{this.isPressing&&Um("cancel",(o,l)=>this.cancelPress(o,l))},i=Si(this.node.current,"blur",n);this.removeAccessibleListeners=Ds(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ct.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dI()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ct.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Di(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Si(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ds(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ag=new WeakMap,jm=new WeakMap,CV=r=>{const e=Ag.get(r.target);e&&e(r)},PV=r=>{r.forEach(CV)};function xV({root:r,...e}){const t=r||document;jm.has(t)||jm.set(t,{});const n=jm.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(PV,{root:r,...e})),n[i]}function AV(r,e,t){const n=xV(e);return Ag.set(r,t),n.observe(r),()=>{Ag.delete(r),n.unobserve(r)}}const bV={some:0,all:1};class RV extends Ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:bV[i]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=p?m:y;w&&w(d)};return AV(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(MV(e,t))&&this.startObserver()}unmount(){}}function MV({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const NV={inView:{Feature:RV},tap:{Feature:IV},focus:{Feature:DV},hover:{Feature:kV}};function fI(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function OV(r){const e={};return r.values.forEach((t,n)=>e[n]=t.get()),e}function VV(r){const e={};return r.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function Uf(r,e,t){const n=r.getProps();return sv(n,e,t!==void 0?t:n.custom,OV(r),VV(r))}let ov=Dt;const Po=r=>r*1e3,Ii=r=>r/1e3,LV={current:!1},pI=r=>Array.isArray(r)&&typeof r[0]=="number";function mI(r){return!!(!r||typeof r=="string"&&gI[r]||pI(r)||Array.isArray(r)&&r.every(mI))}const Ru=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,gI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ru([0,.65,.55,1]),circOut:Ru([.55,0,1,.45]),backIn:Ru([.31,.01,.66,-.59]),backOut:Ru([.33,1.53,.69,.99])};function yI(r){if(r)return pI(r)?Ru(r):Array.isArray(r)?r.map(yI):gI[r]}function FV(r,e,t,{delay:n=0,duration:i,repeat:o=0,repeatType:l="loop",ease:c,times:d}={}){const p={[e]:t};d&&(p.offset=d);const m=yI(c);return Array.isArray(m)&&(p.easing=m),r.animate(p,{delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function UV(r,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[n]}const vI=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,jV=1e-7,BV=12;function WV(r,e,t,n,i){let o,l,c=0;do l=e+(t-e)/2,o=vI(l,n,i)-r,o>0?t=l:e=l;while(Math.abs(o)>jV&&++c<BV);return l}function _c(r,e,t,n){if(r===e&&t===n)return Dt;const i=o=>WV(o,0,1,r,t);return o=>o===0||o===1?o:vI(i(o),e,n)}const zV=_c(.42,0,1,1),HV=_c(0,0,.58,1),_I=_c(.42,0,.58,1),$V=r=>Array.isArray(r)&&typeof r[0]!="number",wI=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,TI=r=>e=>1-r(1-e),av=r=>1-Math.sin(Math.acos(r)),EI=TI(av),YV=wI(av),SI=_c(.33,1.53,.69,.99),lv=TI(SI),qV=wI(lv),KV=r=>(r*=2)<1?.5*lv(r):.5*(2-Math.pow(2,-10*(r-1))),QV={linear:Dt,easeIn:zV,easeInOut:_I,easeOut:HV,circIn:av,circInOut:YV,circOut:EI,backIn:lv,backInOut:qV,backOut:SI,anticipate:KV},AT=r=>{if(Array.isArray(r)){ov(r.length===4);const[e,t,n,i]=r;return _c(e,t,n,i)}else if(typeof r=="string")return QV[r];return r},uv=(r,e)=>t=>!!(yc(t)&&GO.test(t)&&t.startsWith(r)||e&&Object.prototype.hasOwnProperty.call(t,e)),kI=(r,e,t)=>n=>{if(!yc(n))return n;const[i,o,l,c]=n.match(Lf);return{[r]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},GV=r=>Vs(0,255,r),Bm={...Yo,transform:r=>Math.round(GV(r))},Do={test:uv("rgb","red"),parse:kI("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+Bm.transform(r)+", "+Bm.transform(e)+", "+Bm.transform(t)+", "+Bu(ju.transform(n))+")"};function XV(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const bg={test:uv("#"),parse:XV,transform:Do.transform},Ka={test:uv("hsl","hue"),parse:kI("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Qr.transform(Bu(e))+", "+Qr.transform(Bu(t))+", "+Bu(ju.transform(n))+")"},gn={test:r=>Do.test(r)||bg.test(r)||Ka.test(r),parse:r=>Do.test(r)?Do.parse(r):Ka.test(r)?Ka.parse(r):bg.parse(r),transform:r=>yc(r)?r:r.hasOwnProperty("red")?Do.transform(r):Ka.transform(r)},yt=(r,e,t)=>-t*r+t*e+r;function Wm(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function JV({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,o=0,l=0;if(!e)i=o=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;i=Wm(d,c,r+1/3),o=Wm(d,c,r),l=Wm(d,c,r-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}const zm=(r,e,t)=>{const n=r*r;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},ZV=[bg,Do,Ka],eL=r=>ZV.find(e=>e.test(r));function bT(r){const e=eL(r);let t=e.parse(r);return e===Ka&&(t=JV(t)),t}const DI=(r,e)=>{const t=bT(r),n=bT(e),i={...t};return o=>(i.red=zm(t.red,n.red,o),i.green=zm(t.green,n.green,o),i.blue=zm(t.blue,n.blue,o),i.alpha=yt(t.alpha,n.alpha,o),Do.transform(i))};function tL(r){var e,t;return isNaN(r)&&yc(r)&&(((e=r.match(Lf))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(JD))===null||t===void 0?void 0:t.length)||0)>0}const II={regex:KO,countKey:"Vars",token:"${v}",parse:Dt},CI={regex:JD,countKey:"Colors",token:"${c}",parse:gn.parse},PI={regex:Lf,countKey:"Numbers",token:"${n}",parse:Yo.parse};function Hm(r,{regex:e,countKey:t,token:n,parse:i}){const o=r.tokenised.match(e);o&&(r["num"+t]=o.length,r.tokenised=r.tokenised.replace(e,n),r.values.push(...o.map(i)))}function Yh(r){const e=r.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Hm(t,II),Hm(t,CI),Hm(t,PI),t}function xI(r){return Yh(r).values}function AI(r){const{values:e,numColors:t,numVars:n,tokenised:i}=Yh(r),o=e.length;return l=>{let c=i;for(let d=0;d<o;d++)d<n?c=c.replace(II.token,l[d]):d<n+t?c=c.replace(CI.token,gn.transform(l[d])):c=c.replace(PI.token,Bu(l[d]));return c}}const nL=r=>typeof r=="number"?0:r;function rL(r){const e=xI(r);return AI(r)(e.map(nL))}const Ls={test:tL,parse:xI,createTransformer:AI,getAnimatableNone:rL},bI=(r,e)=>t=>`${t>0?e:r}`;function RI(r,e){return typeof r=="number"?t=>yt(r,e,t):gn.test(r)?DI(r,e):r.startsWith("var(")?bI(r,e):NI(r,e)}const MI=(r,e)=>{const t=[...r],n=t.length,i=r.map((o,l)=>RI(o,e[l]));return o=>{for(let l=0;l<n;l++)t[l]=i[l](o);return t}},iL=(r,e)=>{const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=RI(r[i],e[i]));return i=>{for(const o in n)t[o]=n[o](i);return t}},NI=(r,e)=>{const t=Ls.createTransformer(e),n=Yh(r),i=Yh(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Ds(MI(n.values,i.values),t):bI(r,e)},ec=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},RT=(r,e)=>t=>yt(r,e,t);function sL(r){return typeof r=="number"?RT:typeof r=="string"?gn.test(r)?DI:NI:Array.isArray(r)?MI:typeof r=="object"?iL:RT}function oL(r,e,t){const n=[],i=t||sL(r[0]),o=r.length-1;for(let l=0;l<o;l++){let c=i(r[l],r[l+1]);if(e){const d=Array.isArray(e)?e[l]||Dt:e;c=Ds(d,c)}n.push(c)}return n}function OI(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const o=r.length;if(ov(o===e.length),o===1)return()=>e[0];r[0]>r[o-1]&&(r=[...r].reverse(),e=[...e].reverse());const l=oL(e,n,i),c=l.length,d=p=>{let m=0;if(c>1)for(;m<r.length-2&&!(p<r[m+1]);m++);const y=ec(r[m],r[m+1],p);return l[m](y)};return t?p=>d(Vs(r[0],r[o-1],p)):d}function aL(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=ec(0,e,n);r.push(yt(t,1,i))}}function lL(r){const e=[0];return aL(e,r.length-1),e}function uL(r,e){return r.map(t=>t*e)}function cL(r,e){return r.map(()=>e||_I).splice(0,r.length-1)}function qh({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=$V(n)?n.map(AT):AT(n),o={done:!1,value:e[0]},l=uL(t&&t.length===e.length?t:lL(e),r),c=OI(l,e,{ease:Array.isArray(i)?i:cL(e,i)});return{calculatedDuration:r,next:d=>(o.value=c(d),o.done=d>=r,o)}}function VI(r,e){return e?r*(1e3/e):0}const dL=5;function LI(r,e,t){const n=Math.max(e-dL,0);return VI(t-r(n),e-n)}const MT=.001,hL=.01,fL=10,pL=.05,mL=1;function gL({duration:r=800,bounce:e=.25,velocity:t=0,mass:n=1}){let i,o,l=1-e;l=Vs(pL,mL,l),r=Vs(hL,fL,Ii(r)),l<1?(i=p=>{const m=p*l,y=m*r,w=m-t,E=Rg(p,l),D=Math.exp(-y);return MT-w/E*D},o=p=>{const y=p*l*r,w=y*t+t,E=Math.pow(l,2)*Math.pow(p,2)*r,D=Math.exp(-y),C=Rg(Math.pow(p,2),l);return(-i(p)+MT>0?-1:1)*((w-E)*D)/C}):(i=p=>{const m=Math.exp(-p*r),y=(p-t)*r+1;return-.001+m*y},o=p=>{const m=Math.exp(-p*r),y=(t-p)*(r*r);return m*y});const c=5/r,d=vL(i,o,c);if(r=Po(r),isNaN(d))return{stiffness:100,damping:10,duration:r};{const p=Math.pow(d,2)*n;return{stiffness:p,damping:l*2*Math.sqrt(n*p),duration:r}}}const yL=12;function vL(r,e,t){let n=t;for(let i=1;i<yL;i++)n=n-r(n)/e(n);return n}function Rg(r,e){return r*Math.sqrt(1-e*e)}const _L=["duration","bounce"],wL=["stiffness","damping","mass"];function NT(r,e){return e.some(t=>r[t]!==void 0)}function TL(r){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...r};if(!NT(r,wL)&&NT(r,_L)){const t=gL(r);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function FI({keyframes:r,restDelta:e,restSpeed:t,...n}){const i=r[0],o=r[r.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:p,duration:m,velocity:y,isResolvedFromDuration:w}=TL({...n,velocity:-Ii(n.velocity||0)}),E=y||0,D=d/(2*Math.sqrt(c*p)),C=o-i,x=Ii(Math.sqrt(c/p)),U=Math.abs(C)<5;t||(t=U?.01:2),e||(e=U?.005:.5);let B;if(D<1){const F=Rg(x,D);B=H=>{const J=Math.exp(-D*x*H);return o-J*((E+D*x*C)/F*Math.sin(F*H)+C*Math.cos(F*H))}}else if(D===1)B=F=>o-Math.exp(-x*F)*(C+(E+x*C)*F);else{const F=x*Math.sqrt(D*D-1);B=H=>{const J=Math.exp(-D*x*H),ne=Math.min(F*H,300);return o-J*((E+D*x*C)*Math.sinh(ne)+F*C*Math.cosh(ne))/F}}return{calculatedDuration:w&&m||null,next:F=>{const H=B(F);if(w)l.done=F>=m;else{let J=E;F!==0&&(D<1?J=LI(B,F,H):J=0);const ne=Math.abs(J)<=t,b=Math.abs(o-H)<=e;l.done=ne&&b}return l.value=l.done?o:H,l}}}function OT({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:m}){const y=r[0],w={done:!1,value:y},E=k=>c!==void 0&&k<c||d!==void 0&&k>d,D=k=>c===void 0?d:d===void 0||Math.abs(c-k)<Math.abs(d-k)?c:d;let C=t*e;const x=y+C,U=l===void 0?x:l(x);U!==x&&(C=U-y);const B=k=>-C*Math.exp(-k/n),F=k=>U+B(k),H=k=>{const P=B(k),M=F(k);w.done=Math.abs(P)<=p,w.value=w.done?U:M};let J,ne;const b=k=>{E(w.value)&&(J=k,ne=FI({keyframes:[w.value,D(w.value)],velocity:LI(F,k,w.value),damping:i,stiffness:o,restDelta:p,restSpeed:m}))};return b(0),{calculatedDuration:null,next:k=>{let P=!1;return!ne&&J===void 0&&(P=!0,H(k),b(k)),J!==void 0&&k>J?ne.next(k-J):(!P&&H(k),w)}}}const EL=r=>{const e=({timestamp:t})=>r(t);return{start:()=>ct.update(e,!0),stop:()=>Li(e),now:()=>an.isProcessing?an.timestamp:performance.now()}},VT=2e4;function LT(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<VT;)e+=t,n=r.next(e);return e>=VT?1/0:e}const SL={decay:OT,inertia:OT,tween:qh,keyframes:qh,spring:FI};function Kh({autoplay:r=!0,delay:e=0,driver:t=EL,keyframes:n,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",onPlay:d,onStop:p,onComplete:m,onUpdate:y,...w}){let E=1,D=!1,C,x;const U=()=>{x=new Promise(L=>{C=L})};U();let B;const F=SL[i]||qh;let H;F!==qh&&typeof n[0]!="number"&&(H=OI([0,100],n,{clamp:!1}),n=[0,100]);const J=F({...w,keyframes:n});let ne;c==="mirror"&&(ne=F({...w,keyframes:[...n].reverse(),velocity:-(w.velocity||0)}));let b="idle",k=null,P=null,M=null;J.calculatedDuration===null&&o&&(J.calculatedDuration=LT(J));const{calculatedDuration:N}=J;let O=1/0,A=1/0;N!==null&&(O=N+l,A=O*(o+1)-l);let pe=0;const De=L=>{if(P===null)return;E>0&&(P=Math.min(P,L)),E<0&&(P=Math.min(L-A/E,P)),k!==null?pe=k:pe=Math.round(L-P)*E;const Z=pe-e*(E>=0?1:-1),Se=E>=0?Z<0:Z>A;pe=Math.max(Z,0),b==="finished"&&k===null&&(pe=A);let Ne=pe,Oe=J;if(o){const Je=Math.min(pe,A)/O;let pt=Math.floor(Je),Yt=Je%1;!Yt&&Je>=1&&(Yt=1),Yt===1&&pt--,pt=Math.min(pt,o+1),!!(pt%2)&&(c==="reverse"?(Yt=1-Yt,l&&(Yt-=l/O)):c==="mirror"&&(Oe=ne)),Ne=Vs(0,1,Yt)*O}const Ve=Se?{done:!1,value:n[0]}:Oe.next(Ne);H&&(Ve.value=H(Ve.value));let{done:ze}=Ve;!Se&&N!==null&&(ze=E>=0?pe>=A:pe<=0);const Ye=k===null&&(b==="finished"||b==="running"&&ze);return y&&y(Ve.value),Ye&&X(),Ve},ue=()=>{B&&B.stop(),B=void 0},de=()=>{b="idle",ue(),C(),U(),P=M=null},X=()=>{b="finished",m&&m(),ue(),C()},ce=()=>{if(D)return;B||(B=t(De));const L=B.now();d&&d(),k!==null?P=L-k:(!P||b==="finished")&&(P=L),b==="finished"&&U(),M=P,k=null,b="running",B.start()};r&&ce();const ae={then(L,Z){return x.then(L,Z)},get time(){return Ii(pe)},set time(L){L=Po(L),pe=L,k!==null||!B||E===0?k=L:P=B.now()-L/E},get duration(){const L=J.calculatedDuration===null?LT(J):J.calculatedDuration;return Ii(L)},get speed(){return E},set speed(L){L===E||!B||(E=L,ae.time=Ii(pe))},get state(){return b},play:ce,pause:()=>{b="paused",k=pe},stop:()=>{D=!0,b!=="idle"&&(b="idle",p&&p(),de())},cancel:()=>{M!==null&&De(M),de()},complete:()=>{b="finished"},sample:L=>(P=0,De(L))};return ae}function kL(r){let e;return()=>(e===void 0&&(e=r()),e)}const DL=kL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),IL=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Qd=10,CL=2e4,PL=(r,e)=>e.type==="spring"||r==="backgroundColor"||!mI(e.ease);function xL(r,e,{onUpdate:t,onComplete:n,...i}){if(!(DL()&&IL.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,c,d,p=!1;const m=()=>{d=new Promise(F=>{c=F})};m();let{keyframes:y,duration:w=300,ease:E,times:D}=i;if(PL(e,i)){const F=Kh({...i,repeat:0,delay:0});let H={done:!1,value:y[0]};const J=[];let ne=0;for(;!H.done&&ne<CL;)H=F.sample(ne),J.push(H.value),ne+=Qd;D=void 0,y=J,w=ne-Qd,E="linear"}const C=FV(r.owner.current,e,y,{...i,duration:w,ease:E,times:D}),x=()=>{p=!1,C.cancel()},U=()=>{p=!0,ct.update(x),c(),m()};return C.onfinish=()=>{p||(r.set(UV(y,i)),n&&n(),U())},{then(F,H){return d.then(F,H)},attachTimeline(F){return C.timeline=F,C.onfinish=null,Dt},get time(){return Ii(C.currentTime||0)},set time(F){C.currentTime=Po(F)},get speed(){return C.playbackRate},set speed(F){C.playbackRate=F},get duration(){return Ii(w)},play:()=>{l||(C.play(),Li(x))},pause:()=>C.pause(),stop:()=>{if(l=!0,C.playState==="idle")return;const{currentTime:F}=C;if(F){const H=Kh({...i,autoplay:!1});r.setWithVelocity(H.sample(F-Qd).value,H.sample(F).value,Qd)}U()},complete:()=>{p||C.finish()},cancel:U}}function AL({keyframes:r,delay:e,onUpdate:t,onComplete:n}){const i=()=>(t&&t(r[r.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Dt,pause:Dt,stop:Dt,then:o=>(o(),Promise.resolve()),cancel:Dt,complete:Dt});return e?Kh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const bL={type:"spring",stiffness:500,damping:25,restSpeed:10},RL=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),ML={type:"keyframes",duration:.8},NL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OL=(r,{keyframes:e})=>e.length>2?ML:$o.has(r)?r.startsWith("scale")?RL(e[1]):bL:NL,Mg=(r,e)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ls.test(e)||e==="0")&&!e.startsWith("url(")),VL=new Set(["brightness","contrast","saturate","opacity"]);function LL(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(Lf)||[];if(!n)return r;const i=t.replace(n,"");let o=VL.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+i+")"}const FL=/([a-z-]*)\(.*?\)/g,Ng={...Ls,getAnimatableNone:r=>{const e=r.match(FL);return e?e.map(LL).join(" "):r}},UL={...ZD,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Ng,WebkitFilter:Ng},cv=r=>UL[r];function UI(r,e){let t=cv(r);return t!==Ng&&(t=Ls),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const jI=r=>/^0[^.\s]+$/.test(r);function jL(r){if(typeof r=="number")return r===0;if(r!==null)return r==="none"||r==="0"||jI(r)}function BL(r,e,t,n){const i=Mg(e,t);let o;Array.isArray(t)?o=[...t]:o=[null,t];const l=n.from!==void 0?n.from:r.get();let c;const d=[];for(let p=0;p<o.length;p++)o[p]===null&&(o[p]=p===0?l:o[p-1]),jL(o[p])&&d.push(p),typeof o[p]=="string"&&o[p]!=="none"&&o[p]!=="0"&&(c=o[p]);if(i&&d.length&&c)for(let p=0;p<d.length;p++){const m=d[p];o[m]=UI(e,c)}return o}function WL({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}function dv(r,e){return r[e]||r.default||r}const zL={skipAnimations:!1},hv=(r,e,t,n={})=>i=>{const o=dv(n,r)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Po(l);const d=BL(e,r,t,o),p=d[0],m=d[d.length-1],y=Mg(r,p),w=Mg(r,m);let E={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:D=>{e.set(D),o.onUpdate&&o.onUpdate(D)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(WL(o)||(E={...E,...OL(r,E)}),E.duration&&(E.duration=Po(E.duration)),E.repeatDelay&&(E.repeatDelay=Po(E.repeatDelay)),!y||!w||LV.current||o.type===!1||zL.skipAnimations)return AL(E);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const D=xL(e,r,E);if(D)return D}return Kh(E)};function Qh(r){return!!(Rn(r)&&r.add)}const BI=r=>/^\-?\d*\.?\d+$/.test(r);function fv(r,e){r.indexOf(e)===-1&&r.push(e)}function pv(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class mv{constructor(){this.subscriptions=[]}add(e){return fv(this.subscriptions,e),()=>pv(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const HL=r=>!isNaN(parseFloat(r));class $L{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:l}=an;this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l,ct.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ct.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=HL(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new mv);const n=this.events[e].add(t);return e==="change"?()=>{n(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?VI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dl(r,e){return new $L(r,e)}const WI=r=>e=>e.test(r),YL={test:r=>r==="auto",parse:r=>r},zI=[Yo,Pe,Qr,fs,JO,XO,YL],Eu=r=>zI.find(WI(r)),qL=[...zI,gn,Ls],KL=r=>qL.find(WI(r));function QL(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,dl(t))}function GL(r,e){const t=Uf(r,e);let{transitionEnd:n={},transition:i={},...o}=t?r.makeTargetAnimatable(t,!1):{};o={...o,...n};for(const l in o){const c=fV(o[l]);QL(r,l,c)}}function XL(r,e,t){var n,i;const o=Object.keys(e).filter(c=>!r.hasValue(c)),l=o.length;if(l)for(let c=0;c<l;c++){const d=o[c],p=e[d];let m=null;Array.isArray(p)&&(m=p[0]),m===null&&(m=(i=(n=t[d])!==null&&n!==void 0?n:r.readValue(d))!==null&&i!==void 0?i:e[d]),m!=null&&(typeof m=="string"&&(BI(m)||jI(m))?m=parseFloat(m):!KL(m)&&Ls.test(p)&&(m=UI(d,p)),r.addValue(d,dl(m,{owner:r})),t[d]===void 0&&(t[d]=m),m!==null&&r.setBaseTarget(d,m))}}function JL(r,e){return e?(e[r]||e.default||e).from:void 0}function ZL(r,e,t){const n={};for(const i in r){const o=JL(i,e);if(o!==void 0)n[i]=o;else{const l=t.getValue(i);l&&(n[i]=l.get())}}return n}function e2({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function t2(r,e){const t=r.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}else return t!==e}function HI(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:o=r.getDefaultTransition(),transitionEnd:l,...c}=r.makeTargetAnimatable(e);const d=r.getValue("willChange");n&&(o=n);const p=[],m=i&&r.animationState&&r.animationState.getState()[i];for(const y in c){const w=r.getValue(y),E=c[y];if(!w||E===void 0||m&&e2(m,y))continue;const D={delay:t,elapsed:0,...dv(o||{},y)};if(window.HandoffAppearAnimations){const U=r.getProps()[$D];if(U){const B=window.HandoffAppearAnimations(U,y,w,ct);B!==null&&(D.elapsed=B,D.isHandoff=!0)}}let C=!D.isHandoff&&!t2(w,E);if(D.type==="spring"&&(w.getVelocity()||D.velocity)&&(C=!1),w.animation&&(C=!1),C)continue;w.start(hv(y,w,E,r.shouldReduceMotion&&$o.has(y)?{type:!1}:D));const x=w.animation;Qh(d)&&(d.add(y),x.then(()=>d.remove(y))),p.push(x)}return l&&Promise.all(p).then(()=>{l&&GL(r,l)}),p}function Og(r,e,t={}){const n=Uf(r,e,t.custom);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const o=n?()=>Promise.all(HI(r,n,t)):()=>Promise.resolve(),l=r.variantChildren&&r.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:y}=i;return n2(r,e,p+d,m,y,t)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,p]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>p())}else return Promise.all([o(),l(t.delay)])}function n2(r,e,t=0,n=0,i=1,o){const l=[],c=(r.variantChildren.size-1)*n,d=i===1?(p=0)=>p*n:(p=0)=>c-p*n;return Array.from(r.variantChildren).sort(r2).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(Og(p,e,{...o,delay:t+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function r2(r,e){return r.sortNodePosition(e)}function i2(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(o=>Og(r,o,t));n=Promise.all(i)}else if(typeof e=="string")n=Og(r,e,t);else{const i=typeof e=="function"?Uf(r,e,t.custom):e;n=Promise.all(HI(r,i,t))}return n.then(()=>r.notify("AnimationComplete",e))}const s2=[...Xy].reverse(),o2=Xy.length;function a2(r){return e=>Promise.all(e.map(({animation:t,options:n})=>i2(r,t,n)))}function l2(r){let e=a2(r);const t=c2();let n=!0;const i=(d,p)=>{const m=Uf(r,p);if(m){const{transition:y,transitionEnd:w,...E}=m;d={...d,...E,...w}}return d};function o(d){e=d(r)}function l(d,p){const m=r.getProps(),y=r.getVariantContext(!0)||{},w=[],E=new Set;let D={},C=1/0;for(let U=0;U<o2;U++){const B=s2[U],F=t[B],H=m[B]!==void 0?m[B]:y[B],J=Ju(H),ne=B===p?F.isActive:null;ne===!1&&(C=U);let b=H===y[B]&&H!==m[B]&&J;if(b&&n&&r.manuallyAnimateOnMount&&(b=!1),F.protectedKeys={...D},!F.isActive&&ne===null||!H&&!F.prevProp||Of(H)||typeof H=="boolean")continue;let P=u2(F.prevProp,H)||B===p&&F.isActive&&!b&&J||U>C&&J,M=!1;const N=Array.isArray(H)?H:[H];let O=N.reduce(i,{});ne===!1&&(O={});const{prevResolvedValues:A={}}=F,pe={...A,...O},De=ue=>{P=!0,E.has(ue)&&(M=!0,E.delete(ue)),F.needsAnimating[ue]=!0};for(const ue in pe){const de=O[ue],X=A[ue];if(D.hasOwnProperty(ue))continue;let ce=!1;$h(de)&&$h(X)?ce=!fI(de,X):ce=de!==X,ce?de!==void 0?De(ue):E.add(ue):de!==void 0&&E.has(ue)?De(ue):F.protectedKeys[ue]=!0}F.prevProp=H,F.prevResolvedValues=O,F.isActive&&(D={...D,...O}),n&&r.blockInitialAnimation&&(P=!1),P&&(!b||M)&&w.push(...N.map(ue=>({animation:ue,options:{type:B,...d}})))}if(E.size){const U={};E.forEach(B=>{const F=r.getBaseTarget(B);F!==void 0&&(U[B]=F)}),w.push({animation:U})}let x=!!w.length;return n&&(m.initial===!1||m.initial===m.animate)&&!r.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(w):Promise.resolve()}function c(d,p,m){var y;if(t[d].isActive===p)return Promise.resolve();(y=r.variantChildren)===null||y===void 0||y.forEach(E=>{var D;return(D=E.animationState)===null||D===void 0?void 0:D.setActive(d,p)}),t[d].isActive=p;const w=l(m,d);for(const E in t)t[E].protectedKeys={};return w}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>t}}function u2(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!fI(e,r):!1}function _o(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function c2(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}class d2 extends Ws{constructor(e){super(e),e.animationState||(e.animationState=l2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Of(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let h2=0;class f2 extends Ws{constructor(){super(...arguments),this.id=h2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const p2={animation:{Feature:d2},exit:{Feature:f2}},FT=(r,e)=>Math.abs(r-e);function m2(r,e){const t=FT(r.x,e.x),n=FT(r.y,e.y);return Math.sqrt(t**2+n**2)}class $I{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ym(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=m2(y.offset,{x:0,y:0})>=3;if(!w&&!E)return;const{point:D}=y,{timestamp:C}=an;this.history.push({...D,timestamp:C});const{onStart:x,onMove:U}=this.handlers;w||(x&&x(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=$m(w,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:E,onSessionEnd:D,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ym(y.type==="pointercancel"?this.lastMoveEventInfo:$m(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,x),D&&D(y,x)},!lI(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const l=Ff(e),c=$m(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=an;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,Ym(c,this.history)),this.removeListeners=Ds(Di(this.contextWindow,"pointermove",this.handlePointerMove),Di(this.contextWindow,"pointerup",this.handlePointerUp),Di(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Li(this.updatePoint)}}function $m(r,e){return e?{point:e(r.point)}:r}function UT(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Ym({point:r},e){return{point:r,delta:UT(r,YI(e)),offset:UT(r,g2(e)),velocity:y2(e,.1)}}function g2(r){return r[0]}function YI(r){return r[r.length-1]}function y2(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=YI(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>Po(e)));)t--;if(!n)return{x:0,y:0};const o=Ii(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Wn(r){return r.max-r.min}function Vg(r,e=0,t=.01){return Math.abs(r-e)<=t}function jT(r,e,t,n=.5){r.origin=n,r.originPoint=yt(e.min,e.max,r.origin),r.scale=Wn(t)/Wn(e),(Vg(r.scale,1,1e-4)||isNaN(r.scale))&&(r.scale=1),r.translate=yt(t.min,t.max,r.origin)-r.originPoint,(Vg(r.translate)||isNaN(r.translate))&&(r.translate=0)}function Wu(r,e,t,n){jT(r.x,e.x,t.x,n?n.originX:void 0),jT(r.y,e.y,t.y,n?n.originY:void 0)}function BT(r,e,t){r.min=t.min+e.min,r.max=r.min+Wn(e)}function v2(r,e,t){BT(r.x,e.x,t.x),BT(r.y,e.y,t.y)}function WT(r,e,t){r.min=e.min-t.min,r.max=r.min+Wn(e)}function zu(r,e,t){WT(r.x,e.x,t.x),WT(r.y,e.y,t.y)}function _2(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?yt(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?yt(t,r,n.max):Math.min(r,t)),r}function zT(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function w2(r,{top:e,left:t,bottom:n,right:i}){return{x:zT(r.x,t,i),y:zT(r.y,e,n)}}function HT(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function T2(r,e){return{x:HT(r.x,e.x),y:HT(r.y,e.y)}}function E2(r,e){let t=.5;const n=Wn(r),i=Wn(e);return i>n?t=ec(e.min,e.max-n,r.min):n>i&&(t=ec(r.min,r.max-i,e.min)),Vs(0,1,t)}function S2(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const Lg=.35;function k2(r=Lg){return r===!1?r=0:r===!0&&(r=Lg),{x:$T(r,"left","right"),y:$T(r,"top","bottom")}}function $T(r,e,t){return{min:YT(r,e),max:YT(r,t)}}function YT(r,e){return typeof r=="number"?r:r[e]||0}const qT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:qT(),y:qT()}),KT=()=>({min:0,max:0}),bt=()=>({x:KT(),y:KT()});function er(r){return[r("x"),r("y")]}function qI({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function D2({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function I2(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function qm(r){return r===void 0||r===1}function Fg({scale:r,scaleX:e,scaleY:t}){return!qm(r)||!qm(e)||!qm(t)}function To(r){return Fg(r)||KI(r)||r.z||r.rotate||r.rotateX||r.rotateY}function KI(r){return QT(r.x)||QT(r.y)}function QT(r){return r&&r!=="0%"}function Gh(r,e,t){const n=r-t,i=e*n;return t+i}function GT(r,e,t,n,i){return i!==void 0&&(r=Gh(r,i,n)),Gh(r,t,n)+e}function Ug(r,e=0,t=1,n,i){r.min=GT(r.min,e,t,n,i),r.max=GT(r.max,e,t,n,i)}function QI(r,{x:e,y:t}){Ug(r.x,e.translate,e.scale,e.originPoint),Ug(r.y,t.translate,t.scale,t.originPoint)}function C2(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=t[c],l=o.projectionDelta;const d=o.instance;d&&d.style&&d.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ga(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,QI(r,l)),n&&To(o.latestValues)&&Ga(r,o.latestValues))}e.x=XT(e.x),e.y=XT(e.y)}function XT(r){return Number.isInteger(r)||r>1.0000000000001||r<.999999999999?r:1}function ps(r,e){r.min=r.min+e,r.max=r.max+e}function JT(r,e,[t,n,i]){const o=e[i]!==void 0?e[i]:.5,l=yt(r.min,r.max,o);Ug(r,e[t],e[n],l,e.scale)}const P2=["x","scaleX","originX"],x2=["y","scaleY","originY"];function Ga(r,e){JT(r.x,e,P2),JT(r.y,e,x2)}function GI(r,e){return qI(I2(r.getBoundingClientRect(),e))}function A2(r,e,t){const n=GI(r,t),{scroll:i}=e;return i&&(ps(n.x,i.offset.x),ps(n.y,i.offset.y)),n}const XI=({current:r})=>r?r.ownerDocument.defaultView:null,b2=new WeakMap;class R2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ff(m,"page").point)},o=(m,y)=>{const{drag:w,dragPropagation:E,onDragStart:D}=this.getProps();if(w&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cI(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(x=>{let U=this.getAxisMotionValue(x).get()||0;if(Qr.test(U)){const{projection:B}=this.visualElement;if(B&&B.layout){const F=B.layout.layoutBox[x];F&&(U=Wn(F)*(parseFloat(U)/100))}}this.originPoint[x]=U}),D&&ct.update(()=>D(m,y),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:D,onDrag:C}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:x}=y;if(E&&this.currentDirection===null){this.currentDirection=M2(x),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",y.point,x),this.updateAxis("y",y.point,x),this.visualElement.render(),C&&C(m,y)},c=(m,y)=>this.stop(m,y),d=()=>er(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new $I(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:XI(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ct.update(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Gd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=_2(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&qa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=w2(i.layoutBox,t):this.constraints=!1,this.elastic=k2(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&er(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=S2(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!qa(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=A2(n,i.root,this.visualElement.getTransformPagePoint());let l=T2(i.layout.layoutBox,o);if(t){const c=t(D2(l));this.hasMutatedConstraints=!!c,c&&(l=qI(c))}return l}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=er(m=>{if(!Gd(m,t,this.currentDirection))return;let y=d&&d[m]||{};l&&(y={min:0,max:0});const w=i?200:1e6,E=i?40:1e7,D={type:"inertia",velocity:n?e[m]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,D)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(hv(e,n,0,t))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){er(t=>{const{drag:n}=this.getProps();if(!Gd(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[t];o.set(e[t]-yt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!qa(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};er(l=>{const c=this.getAxisMotionValue(l);if(c){const d=c.get();i[l]=E2({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),er(l=>{if(!Gd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(yt(d,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;b2.set(this.visualElement,this);const e=this.visualElement.current,t=Di(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();qa(d)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const l=Si(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(er(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Lg,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Gd(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function M2(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class N2 extends Ws{constructor(e){super(e),this.removeGroupControls=Dt,this.removeListeners=Dt,this.controls=new R2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZT=r=>(e,t)=>{r&&ct.update(()=>r(e,t))};class O2 extends Ws{constructor(){super(...arguments),this.removePointerDownListener=Dt}onPointerDown(e){this.session=new $I(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ZT(e),onStart:ZT(t),onMove:n,onEnd:(o,l)=>{delete this.session,i&&ct.update(()=>i(o,l))}}}mount(){this.removePointerDownListener=Di(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function V2(){const r=Y.useContext(Qy);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=r,i=Y.useId();return Y.useEffect(()=>n(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eE(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const Su={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Pe.test(r))r=parseFloat(r);else return r;const t=eE(r,e.target.x),n=eE(r,e.target.y);return`${t}% ${n}%`}},L2={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=Ls.parse(r);if(i.length>5)return n;const o=Ls.createTransformer(r),l=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const p=yt(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),o(i)}};class F2 extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;HO(U2),o&&(t.group&&t.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:o}=this.props,l=n.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||ct.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JI(r){const[e,t]=V2(),n=Y.useContext(qD);return G.createElement(F2,{...r,layoutGroup:n,switchLayoutGroup:Y.useContext(KD),isPresent:e,safeToRemove:t})}const U2={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:L2},ZI=["TopLeft","TopRight","BottomLeft","BottomRight"],j2=ZI.length,tE=r=>typeof r=="string"?parseFloat(r):r,nE=r=>typeof r=="number"||Pe.test(r);function B2(r,e,t,n,i,o){i?(r.opacity=yt(0,t.opacity!==void 0?t.opacity:1,W2(n)),r.opacityExit=yt(e.opacity!==void 0?e.opacity:1,0,z2(n))):o&&(r.opacity=yt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let l=0;l<j2;l++){const c=`border${ZI[l]}Radius`;let d=rE(e,c),p=rE(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||nE(d)===nE(p)?(r[c]=Math.max(yt(tE(d),tE(p),n),0),(Qr.test(p)||Qr.test(d))&&(r[c]+="%")):r[c]=p}(e.rotate||t.rotate)&&(r.rotate=yt(e.rotate||0,t.rotate||0,n))}function rE(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const W2=eC(0,.5,EI),z2=eC(.5,.95,Dt);function eC(r,e,t){return n=>n<r?0:n>e?1:t(ec(r,e,n))}function iE(r,e){r.min=e.min,r.max=e.max}function Zn(r,e){iE(r.x,e.x),iE(r.y,e.y)}function sE(r,e,t,n,i){return r-=e,r=Gh(r,1/t,n),i!==void 0&&(r=Gh(r,1/i,n)),r}function H2(r,e=0,t=1,n=.5,i,o=r,l=r){if(Qr.test(e)&&(e=parseFloat(e),e=yt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=yt(o.min,o.max,n);r===o&&(c-=e),r.min=sE(r.min,e,t,c,i),r.max=sE(r.max,e,t,c,i)}function oE(r,e,[t,n,i],o,l){H2(r,e[t],e[n],e[i],e.scale,o,l)}const $2=["x","scaleX","originX"],Y2=["y","scaleY","originY"];function aE(r,e,t,n){oE(r.x,e,$2,t?t.x:void 0,n?n.x:void 0),oE(r.y,e,Y2,t?t.y:void 0,n?n.y:void 0)}function lE(r){return r.translate===0&&r.scale===1}function tC(r){return lE(r.x)&&lE(r.y)}function q2(r,e){return r.x.min===e.x.min&&r.x.max===e.x.max&&r.y.min===e.y.min&&r.y.max===e.y.max}function nC(r,e){return Math.round(r.x.min)===Math.round(e.x.min)&&Math.round(r.x.max)===Math.round(e.x.max)&&Math.round(r.y.min)===Math.round(e.y.min)&&Math.round(r.y.max)===Math.round(e.y.max)}function uE(r){return Wn(r.x)/Wn(r.y)}class K2{constructor(){this.members=[]}add(e){fv(this.members,e),e.scheduleRender()}remove(e){if(pv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cE(r,e,t){let n="";const i=r.x.translate/e.x,o=r.y.translate/e.y;if((i||o)&&(n=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:p,rotateY:m}=t;d&&(n+=`rotate(${d}deg) `),p&&(n+=`rotateX(${p}deg) `),m&&(n+=`rotateY(${m}deg) `)}const l=r.x.scale*e.x,c=r.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Q2=(r,e)=>r.depth-e.depth;class G2{constructor(){this.children=[],this.isDirty=!1}add(e){fv(this.children,e),this.isDirty=!0}remove(e){pv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q2),this.isDirty=!1,this.children.forEach(e)}}function X2(r,e){const t=performance.now(),n=({timestamp:i})=>{const o=i-t;o>=e&&(Li(n),r(o-e))};return ct.read(n,!0),()=>Li(n)}function J2(r){window.MotionDebug&&window.MotionDebug.record(r)}function Z2(r){return r instanceof SVGElement&&r.tagName!=="svg"}function eF(r,e,t){const n=Rn(r)?r:dl(r);return n.start(hv("",n,e,t)),n.animation}const dE=["","X","Y","Z"],tF={visibility:"hidden"},hE=1e3;let nF=0;const Eo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rC({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=nF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eo.totalNodes=Eo.resolvedTargetDeltas=Eo.recalculatedProjection=0,this.nodes.forEach(sF),this.nodes.forEach(cF),this.nodes.forEach(dF),this.nodes.forEach(oF),J2(Eo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new G2)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new mv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Z2(l),this.instance=l;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),r){let y;const w=()=>this.root.updateBlockedByResize=!1;r(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=X2(w,250),mh.hasAnimatedSinceResize&&(mh.hasAnimatedSinceResize=!1,this.nodes.forEach(pE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:E,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||gF,{onLayoutAnimationStart:x,onLayoutAnimationComplete:U}=m.getProps(),B=!this.targetLayout||!nC(this.targetLayout,D)||E,F=!w&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||w&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,F);const H={...dv(C,"layout"),onPlay:x,onComplete:U};(m.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else w||pE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fE);return}this.isUpdating||this.nodes.forEach(lF),this.isUpdating=!1,this.nodes.forEach(uF),this.nodes.forEach(rF),this.nodes.forEach(iF),this.clearAllSnapshots();const c=performance.now();an.delta=Vs(0,1e3/60,c-an.timestamp),an.timestamp=c,an.isProcessing=!0,Fm.update.process(an),Fm.preRender.process(an),Fm.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(aF),this.sharedNodes.forEach(fF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!tC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||To(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),yF(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return bt();const c=l.measureViewportBox(),{scroll:d}=this.root;return d&&(ps(c.x,d.offset.x),ps(c.y,d.offset.y)),c}removeElementScroll(l){const c=bt();Zn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:y}=p;if(p!==this.root&&m&&y.layoutScroll){if(m.isRoot){Zn(c,l);const{scroll:w}=this.root;w&&(ps(c.x,-w.offset.x),ps(c.y,-w.offset.y))}ps(c.x,m.offset.x),ps(c.y,m.offset.y)}}return c}applyTransform(l,c=!1){const d=bt();Zn(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ga(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),To(m.latestValues)&&Ga(d,m.latestValues)}return To(this.latestValues)&&Ga(d,this.latestValues),d}removeTransform(l){const c=bt();Zn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!To(p.latestValues))continue;Fg(p.latestValues)&&p.updateSnapshot();const m=bt(),y=p.measurePageBox();Zn(m,y),aE(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return To(this.latestValues)&&aE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),zu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),QI(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),zu(this.relativeTargetOrigin,this.target,E.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||KI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===an.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Zn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;C2(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:D}=c;if(!D){this.projectionTransform&&(this.projectionDelta=Qa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa());const C=this.projectionTransform;Wu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),this.projectionTransform=cE(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==w||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),Eo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},y=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=bt(),E=d?d.source:void 0,D=this.layout?this.layout.source:void 0,C=E!==D,x=this.getStack(),U=!x||x.members.length<=1,B=!!(C&&!U&&this.options.crossfade===!0&&!this.path.some(mF));this.animationProgress=0;let F;this.mixTargetDelta=H=>{const J=H/1e3;mE(y.x,l.x,J),mE(y.y,l.y,J),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pF(this.relativeTarget,this.relativeTargetOrigin,w,J),F&&q2(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=bt()),Zn(F,this.relativeTarget)),C&&(this.animationValues=m,B2(m,p,this.latestValues,J,B,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{mh.hasAnimatedSinceResize=!0,this.currentAnimation=eF(0,hE,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&iC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||bt();const y=Wn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=Wn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Zn(c,d),Ga(c,m),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new K2),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(c=!0),!c)return;const p={};for(let m=0;m<dE.length;m++){const y="rotate"+dE[m];d[y]&&(p[y]=d[y],l.setStaticValue(y,0))}l.render();for(const m in p)l.setStaticValue(m,p[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tF;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=ph(l==null?void 0:l.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=ph(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=cE(this.projectionDeltaWithTransform,this.treeScale,w),m&&(p.transform=m(w,p.transform));const{x:E,y:D}=this.projectionDelta;p.transformOrigin=`${E.origin*100}% ${D.origin*100}% 0`,y.animationValues?p.opacity=y===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const C in zh){if(w[C]===void 0)continue;const{correct:x,applyTo:U}=zh[C],B=p.transform==="none"?w[C]:x(w[C],y);if(U){const F=U.length;for(let H=0;H<F;H++)p[U[H]]=B}else p[C]=B}return this.options.layoutId&&(p.pointerEvents=y===this?ph(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(fE),this.root.sharedNodes.clear()}}}function rF(r){r.updateLayout()}function iF(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:o}=r.options,l=t.source!==r.layout.source;o==="size"?er(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],E=Wn(w);w.min=n[y].min,w.max=w.min+E}):iC(o,t.layoutBox,n)&&er(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],E=Wn(n[y]);w.max=w.min+E,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[y].max=r.relativeTarget[y].min+E)});const c=Qa();Wu(c,n,t.layoutBox);const d=Qa();l?Wu(d,r.applyTransform(i,!0),t.measuredBox):Wu(d,n,t.layoutBox);const p=!tC(c);let m=!1;if(!r.resumeFrom){const y=r.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:E}=y;if(w&&E){const D=bt();zu(D,t.layoutBox,w.layoutBox);const C=bt();zu(C,n,E.layoutBox),nC(D,C)||(m=!0),y.options.layoutRoot&&(r.relativeTarget=C,r.relativeTargetOrigin=D,r.relativeParent=y)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function sF(r){Eo.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function oF(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function aF(r){r.clearSnapshot()}function fE(r){r.clearMeasurements()}function lF(r){r.isLayoutDirty=!1}function uF(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function pE(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function cF(r){r.resolveTargetDelta()}function dF(r){r.calcProjection()}function hF(r){r.resetRotation()}function fF(r){r.removeLeadSnapshot()}function mE(r,e,t){r.translate=yt(e.translate,0,t),r.scale=yt(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function gE(r,e,t,n){r.min=yt(e.min,t.min,n),r.max=yt(e.max,t.max,n)}function pF(r,e,t,n){gE(r.x,e.x,t.x,n),gE(r.y,e.y,t.y,n)}function mF(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const gF={duration:.45,ease:[.4,0,.1,1]},yE=r=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(r),vE=yE("applewebkit/")&&!yE("chrome/")?Math.round:Dt;function _E(r){r.min=vE(r.min),r.max=vE(r.max)}function yF(r){_E(r.x),_E(r.y)}function iC(r,e,t){return r==="position"||r==="preserve-aspect"&&!Vg(uE(e),uE(t),.2)}const vF=rC({attachResizeListener:(r,e)=>Si(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Km={current:void 0},sC=rC({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Km.current){const r=new vF({});r.mount(window),r.setOptions({layoutScroll:!0}),Km.current=r}return Km.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),_F={pan:{Feature:O2},drag:{Feature:N2,ProjectionNode:sC,MeasureLayout:JI}},wF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TF(r){const e=wF.exec(r);if(!e)return[,];const[,t,n]=e;return[t,n]}function jg(r,e,t=1){const[n,i]=TF(r);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const l=o.trim();return BI(l)?parseFloat(l):l}else return xg(i)?jg(i,e,t+1):i}function EF(r,{...e},t){const n=r.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),r.values.forEach(i=>{const o=i.get();if(!xg(o))return;const l=jg(o,n);l&&i.set(l)});for(const i in e){const o=e[i];if(!xg(o))continue;const l=jg(o,n);l&&(e[i]=l,t||(t={}),t[i]===void 0&&(t[i]=o))}return{target:e,transitionEnd:t}}const SF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oC=r=>SF.has(r),kF=r=>Object.keys(r).some(oC),wE=r=>r===Yo||r===Pe,TE=(r,e)=>parseFloat(r.split(", ")[e]),EE=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return TE(i[1],e);{const o=n.match(/^matrix\((.+)\)$/);return o?TE(o[1],r):0}},DF=new Set(["x","y","z"]),IF=gc.filter(r=>!DF.has(r));function CF(r){const e=[];return IF.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&r.render(),e}const hl={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:EE(4,13),y:EE(5,14)};hl.translateX=hl.x;hl.translateY=hl.y;const PF=(r,e,t)=>{const n=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:l}=o,c={};l==="none"&&e.setStaticValue("display",r.display||"block"),t.forEach(p=>{c[p]=hl[p](n,o)}),e.render();const d=e.measureViewportBox();return t.forEach(p=>{const m=e.getValue(p);m&&m.jump(c[p]),r[p]=hl[p](d,o)}),r},xF=(r,e,t={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(oC);let o=[],l=!1;const c=[];if(i.forEach(d=>{const p=r.getValue(d);if(!r.hasValue(d))return;let m=t[d],y=Eu(m);const w=e[d];let E;if($h(w)){const D=w.length,C=w[0]===null?1:0;m=w[C],y=Eu(m);for(let x=C;x<D&&w[x]!==null;x++)E?ov(Eu(w[x])===E):E=Eu(w[x])}else E=Eu(w);if(y!==E)if(wE(y)&&wE(E)){const D=p.get();typeof D=="string"&&p.set(parseFloat(D)),typeof w=="string"?e[d]=parseFloat(w):Array.isArray(w)&&E===Pe&&(e[d]=w.map(parseFloat))}else y!=null&&y.transform&&(E!=null&&E.transform)&&(m===0||w===0)?m===0?p.set(E.transform(m)):e[d]=y.transform(w):(l||(o=CF(r),l=!0),c.push(d),n[d]=n[d]!==void 0?n[d]:e[d],p.jump(w))}),c.length){const d=c.indexOf("height")>=0?window.pageYOffset:null,p=PF(e,r,c);return o.length&&o.forEach(([m,y])=>{r.getValue(m).set(y)}),r.render(),Nf&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:n}}else return{target:e,transitionEnd:n}};function AF(r,e,t,n){return kF(e)?xF(r,e,t,n):{target:e,transitionEnd:n}}const bF=(r,e,t,n)=>{const i=EF(r,e,n);return e=i.target,n=i.transitionEnd,AF(r,e,t,n)},Bg={current:null},aC={current:!1};function RF(){if(aC.current=!0,!!Nf)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bg.current=r.matches;r.addListener(e),e()}else Bg.current=!1}function MF(r,e,t){const{willChange:n}=e;for(const i in e){const o=e[i],l=t[i];if(Rn(o))r.addValue(i,o),Qh(n)&&n.add(i);else if(Rn(l))r.addValue(i,dl(o,{owner:r})),Qh(n)&&n.remove(i);else if(l!==o)if(r.hasValue(i)){const c=r.getValue(i);!c.hasAnimated&&c.set(o)}else{const c=r.getStaticValue(i);r.addValue(i,dl(c!==void 0?c:o,{owner:r}))}}for(const i in t)e[i]===void 0&&r.removeValue(i);return e}const SE=new WeakMap,lC=Object.keys(Zu),NF=lC.length,kE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],OF=Jy.length;class VF{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ct.render(this.render,!1,!0);const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=Vf(t),this.isVariantNode=YD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(t,{});for(const y in m){const w=m[y];c[y]!==void 0&&Rn(w)&&(w.set(c[y],!1),Qh(p)&&p.add(y))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,SE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),aC.current||RF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SE.delete(this.current),this.projection&&this.projection.unmount(),Li(this.notifyUpdate),Li(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=$o.has(e),i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ct.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,i,o){let l,c;for(let d=0;d<NF;d++){const p=lC[d],{isEnabled:m,Feature:y,ProjectionNode:w,MeasureLayout:E}=Zu[p];w&&(l=w),m(t)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),E&&(c=E))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:m,dragConstraints:y,layoutScroll:w,layoutRoot:E}=t;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!m||y&&qa(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:o,layoutScroll:w,layoutRoot:E})}return c}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<kE.length;n++){const i=kE[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=MF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<OF;n++){const i=Jy[n],o=this.props[i];(Ju(o)||o===!1)&&(t[i]=o)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=dl(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(t=sv(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Rn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new mv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class uC extends VF{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:i},o){let l=ZL(n,e||{},this);if(i&&(t&&(t=i(t)),n&&(n=i(n)),l&&(l=i(l))),o){XL(this,n,l);const c=bF(this,n,l,t);t=c.transitionEnd,n=c.target}return{transition:e,transitionEnd:t,...n}}}function LF(r){return window.getComputedStyle(r)}class FF extends uC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if($o.has(t)){const n=cv(t);return n&&n.default||0}else{const n=LF(e),i=(XD(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return GI(e,t)}build(e,t,n,i){ev(e,t,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return iv(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,i){rI(e,t,n,i)}}class UF extends uC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($o.has(t)){const n=cv(t);return n&&n.default||0}return t=iI.has(t)?t:Gy(t),e.getAttribute(t)}measureInstanceViewportBox(){return bt()}scrapeMotionValuesFromProps(e,t){return oI(e,t)}build(e,t,n,i){nv(e,t,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,n,i){sI(e,t,n,i)}mount(e){this.isSVGTag=rv(e.tagName),super.mount(e)}}const jF=(r,e)=>Zy(r)?new UF(e,{enableHardwareAcceleration:!1}):new FF(e,{enableHardwareAcceleration:!0}),BF={layout:{ProjectionNode:sC,MeasureLayout:JI}},WF={...p2,...NV,..._F,...BF},DE=WO((r,e)=>TV(r,e,WF,jF)),IE=({employee:r})=>{const[e,t]=Y.useState([]),[n,i]=Y.useState(!0),o=async()=>{i(!0);try{const c=(await hc(Vo(bn,"classes"))).docs.map(d=>({id:d.id,...d.data()}));console.log("🎯 שיעורים נטענו ל-HomePage:",c),t(c)}catch(l){console.error("❌ שגיאה בטעינת שיעורים:",l)}i(!1)};return Y.useEffect(()=>{o()},[]),n?K.jsx("div",{className:"flex justify-center items-center min-h-screen",children:K.jsx("p",{children:"טוען שיעורים..."})}):K.jsxs(DE.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:[K.jsx(hS,{title:"ברוכים הבאים לסטודיו מילאן"}),K.jsxs("div",{className:"mt-4",children:[K.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[K.jsx("p",{className:"font-medium mb-2",children:"המלצת היום:"}),e.length>0?K.jsxs("p",{children:["שיעור ",e[0].name," עם ",e[0].instructor," ","ב-",e[0].time,"! מומלץ במיוחד למתחילים."]}):K.jsx("p",{children:"אין שיעורים זמינים להמלצה כרגע."})]}),K.jsx("h2",{className:"text-lg font-bold mb-3",children:"שיעורים קרובים"}),e.length===0?K.jsx("p",{className:"text-gray-500",children:"לא נמצאו שיעורים קרובים."}):e.map((l,c)=>K.jsx(DE.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:c*.1},children:K.jsx(WD,{classInfo:l,employee:r,isBooking:!1})},l.id))]})]})};var zF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HF=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qo=(r,e)=>{const t=Y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c,...d},p)=>Y.createElement("svg",{ref:p,...zF,width:i,height:i,stroke:n,strokeWidth:l?Number(o)*24/Number(i):o,className:`lucide lucide-${HF(r)}`,...d},[...e.map(([m,y])=>Y.createElement(m,y)),...(Array.isArray(c)?c:[c])||[]]));return t.displayName=`${r}`,t},CE=qo("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),$F=qo("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),YF=qo("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),qF=qo("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),KF=qo("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),QF=qo("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),GF=qo("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),XF=()=>{const r=new Date,e=C=>{const x=C.getDay(),U=C.getDate()-x;return new Date(C.getFullYear(),C.getMonth(),U)},[t,n]=Y.useState(e(r)),i=w(r),[o,l]=Y.useState(i),[c,d]=Y.useState([]),[p,m]=Y.useState(!0),y=async()=>{m(!0);try{const x=(await hc(Vo(bn,"classes"))).docs.map(U=>({id:U.id,...U.data()}));console.log("🎯 טענו שיעורים:",x),d(x)}catch(C){console.error("❌ שגיאה בטעינת השיעורים:",C)}m(!1)};Y.useEffect(()=>{y()},[]);function w(C){const x=C.getDate().toString().padStart(2,"0"),U=(C.getMonth()+1).toString().padStart(2,"0"),B=C.getFullYear();return`${x}/${U}/${B}`}const E=()=>{const C=new Date(t);C.setDate(C.getDate()-7),n(C),l(w(C))},D=()=>{const C=new Date(t);C.setDate(C.getDate()+7),n(C),l(w(C))};return p?K.jsx("div",{className:"flex justify-center items-center min-h-screen",children:K.jsx("p",{children:"טוען שיעורים..."})}):K.jsxs("div",{children:[K.jsx(hS,{title:"לוח שיעורים"}),K.jsxs("div",{className:"flex justify-between items-center p-4",children:[K.jsxs("button",{className:"flex items-center text-blue-600",onClick:E,children:[K.jsx(qF,{size:16,className:"ml-1"}),"הקודם"]}),K.jsx("h3",{className:"font-bold",children:o}),K.jsxs("button",{className:"flex items-center text-blue-600",onClick:D,children:["הבא",K.jsx(YF,{size:16,className:"mr-1"})]})]}),K.jsx("div",{className:"flex overflow-x-auto px-4 pb-4 no-scrollbar",children:Array.from({length:7}).map((C,x)=>{const U=new Date(t);U.setDate(t.getDate()+x);const B=w(U),F=o===B,H=["א","ב","ג","ד","ה","ו","ש"],J=U.getDay();return K.jsxs("div",{onClick:()=>l(B),className:`flex-shrink-0 mx-2 w-16 text-center py-3 px-1 rounded-lg shadow-sm cursor-pointer ${F?"bg-blue-500 text-white":"bg-white"}`,children:[K.jsx("p",{className:"text-xs mb-1",children:H[J]}),K.jsxs("p",{className:"font-bold",children:[U.getDate().toString().padStart(2,"0"),"/",(U.getMonth()+1).toString().padStart(2,"0")]})]},x)})}),K.jsxs("div",{className:"px-4",children:[c.filter(C=>C.date===o).map(C=>K.jsx(WD,{classInfo:C,isBooking:!1},C.id)),c.filter(C=>C.date===o).length===0&&K.jsx("p",{className:"text-center text-gray-500 mt-6",children:"אין שיעורים ליום זה"})]})]})},JF=({employee:r})=>{const[e,t]=Y.useState([]),[n,i]=Y.useState(!0),[o,l]=Y.useState(""),c=async()=>{i(!0);try{const p=Vo(bn,"bookings"),m=J1(p,Z1("userId","==",r.phone)),w=(await hc(m)).docs.map(E=>({id:E.id,...E.data()}));t(w)}catch(p){console.error("❌ שגיאה בטעינת ההזמנות:",p)}i(!1)};Y.useEffect(()=>{c()},[]);const d=async(p,m)=>{try{await Ly(Os(bn,"bookings",p));const y=Os(bn,"classes",m),E=(await Vy(y)).data();E&&await sD(y,{spots:E.spots+1}),l("ההזמנה בוטלה בהצלחה ✅"),c()}catch(y){console.error("❌ שגיאה בביטול ההזמנה:",y),l("שגיאה בביטול ההזמנה")}};return n?K.jsx("div",{className:"flex justify-center items-center h-full",children:K.jsx("p",{children:"טוען הזמנות..."})}):K.jsxs("div",{className:"p-4",children:[K.jsx("h1",{className:"text-2xl font-bold mb-4",children:"ההזמנות שלי"}),o&&K.jsx("p",{className:"text-green-600 mb-4",children:o}),e.length===0?K.jsx("p",{className:"text-muted",children:"אין לך הזמנות פעילות כרגע."}):K.jsx("ul",{className:"space-y-4",children:e.map(p=>K.jsxs("li",{className:"bg-white shadow p-4 rounded relative",children:[K.jsx("h2",{className:"text-lg font-bold mb-2",children:p.className}),K.jsxs("p",{children:["מדריך: ",p.instructor]}),K.jsxs("p",{children:["תאריך: ",p.date]}),K.jsxs("p",{children:["שעה: ",p.time]}),K.jsx("button",{onClick:()=>d(p.id,p.classId),className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"בטל הזמנה"})]},p.id))})]})},ZF=({onLogin:r})=>{const[e,t]=Y.useState(""),[n,i]=Y.useState(""),o=async()=>{i("");try{const l=Os(bn,"Users",e),c=await Vy(l);if(!c.exists()){i("מספר לא קיים במערכת. פנה למנהל.");return}const d=c.data(),p=d.isAdmin?"מנהל":"עובד";localStorage.setItem("employeePhone",d.phone),localStorage.setItem("employeeRole",p),r({phone:d.phone,role:p}),console.log(`✅ התחברות ${p}:`,d)}catch(l){console.error("❌ שגיאה בהתחברות:",l),i("שגיאה בהתחברות")}};return K.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[K.jsx("h1",{className:"text-2xl font-bold mb-6",children:"התחברות עובדים"}),K.jsx("input",{type:"tel",placeholder:"מספר טלפון (ללא +972)",value:e,onChange:l=>t(l.target.value),className:"w-full max-w-xs p-2 mb-3 border rounded text-black"}),n&&K.jsx("p",{className:"text-red-500 mb-3",children:n}),K.jsx("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"התחבר"})]})},e4=({employee:r})=>{const[e,t]=Y.useState([]),[n,i]=Y.useState(""),[o,l]=Y.useState(""),[c,d]=Y.useState(""),p=async()=>{try{const E=(await hc(Vo(bn,"employees"))).docs.map(D=>({id:D.id,...D.data()}));t(E)}catch(w){console.error("❌ שגיאה בטעינת העובדים:",w)}};Y.useEffect(()=>{p()},[]);const m=async()=>{if(!n||!o){d("נא להזין שם ומספר טלפון");return}try{const w=Os(bn,"employees",n);await rM(w,{name:o,phone:n,role:"עובד",createdAt:new Date}),d("✔️ עובד נוסף בהצלחה!"),i(""),l(""),p()}catch(w){console.error("❌ שגיאה בהוספת עובד:",w),d("שגיאה בהוספת עובד")}},y=async w=>{try{await Ly(Os(bn,"employees",w)),d("🗑️ עובד נמחק"),p()}catch(E){console.error("❌ שגיאה במחיקת עובד:",E),d("שגיאה במחיקה")}};return(r==null?void 0:r.role)!=="מנהל"?K.jsxs("div",{className:"p-6",children:[K.jsx("h1",{className:"text-xl font-bold",children:"גישה מוגבלת"}),K.jsx("p",{children:"עמוד זה זמין רק למנהלי מערכת."})]}):K.jsxs("div",{className:"p-6",children:[K.jsx("h1",{className:"text-2xl font-bold mb-6",children:"פאנל ניהול עובדים"}),K.jsxs("div",{className:"mb-6",children:[K.jsx("input",{type:"tel",placeholder:"מספר טלפון (+972...)",value:n,onChange:w=>i(w.target.value),className:"block w-full p-2 mb-3 border rounded text-black"}),K.jsx("input",{type:"text",placeholder:"שם העובד",value:o,onChange:w=>l(w.target.value),className:"block w-full p-2 mb-3 border rounded text-black"}),K.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"הוסף עובד"}),c&&K.jsx("p",{className:"mt-3 text-green-600",children:c})]}),K.jsxs("div",{children:[K.jsx("h2",{className:"text-lg font-bold mb-2",children:"רשימת עובדים"}),K.jsx("ul",{children:e.map(w=>K.jsxs("li",{className:"flex justify-between items-center p-2 border-b",children:[K.jsxs("span",{children:[w.name," (",w.phone,")"]}),K.jsx("button",{onClick:()=>y(w.phone),className:"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 text-sm",children:"מחק"})]},w.phone))})]})]})};function cC(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=cC(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Zt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=cC(r))&&(n&&(n+=" "),n+=e);return n}const dC=6048e5,t4=864e5,jf=6e4,Bf=36e5,n4=1e3,PE=Symbol.for("constructDateFrom");function rt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&PE in r?r[PE](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ee(r,e){return rt(e||r,r)}function Sr(r,e,t){const n=Ee(r,t==null?void 0:t.in);return isNaN(e)?rt((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ir(r,e,t){const n=Ee(r,t==null?void 0:t.in);if(isNaN(e))return rt(r,NaN);if(!e)return n;const i=n.getDate(),o=rt(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const l=o.getDate();return i>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function hC(r,e,t){return rt(r,+Ee(r)+e)}function r4(r,e,t){return hC(r,e*Bf)}let i4={};function Ko(){return i4}function Fi(r,e){var c,d,p,m;const t=Ko(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=Ee(r,e==null?void 0:e.in),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function fl(r,e){return Fi(r,{...e,weekStartsOn:1})}function fC(r,e){const t=Ee(r,e==null?void 0:e.in),n=t.getFullYear(),i=rt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=fl(i),l=rt(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=fl(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Xh(r){const e=Ee(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ui(r,...e){const t=rt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Fo(r,e){const t=Ee(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function pl(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e),o=Fo(n),l=Fo(i),c=+o-Xh(o),d=+l-Xh(l);return Math.round((c-d)/t4)}function s4(r,e){const t=fC(r,e),n=rt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),fl(n)}function Wg(r,e,t){const n=Ee(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*jf),n}function gv(r,e,t){return Ir(r,e*3,t)}function o4(r,e,t){return hC(r,e*1e3)}function Jh(r,e,t){return Sr(r,e*7,t)}function Ci(r,e,t){return Ir(r,e*12,t)}function xE(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=rt.bind(null,i));const o=Ee(i,n);(!t||t<o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function AE(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=rt.bind(null,i));const o=Ee(i,n);(!t||t>o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function a4(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e);return+Fo(n)==+Fo(i)}function Pi(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Zh(r){return!(!Pi(r)&&typeof r!="number"||isNaN(+Ee(r)))}function ef(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e),o=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return o*12+l}function xo(r,e){const t=Ee(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function tf(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e),o=n.getFullYear()-i.getFullYear(),l=xo(n)-xo(i);return o*4+l}function nf(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e);return n.getFullYear()-i.getFullYear()}function l4(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e),o=bE(n,i),l=Math.abs(pl(n,i));n.setDate(n.getDate()-o*l);const c=+(bE(n,i)===-o),d=o*(l-c);return d===0?0:d}function bE(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function pC(r,e){const t=Ee(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function mC(r,e){const t=Ee(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function zg(r,e){const t=Ee(r,e==null?void 0:e.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function gC(r,e){const t=Ee(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function yC(r,e){const t=Ee(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Wf(r,e){const t=Ee(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function u4(r,e){var c,d;const t=Ko(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ee(r,e==null?void 0:e.in),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const c4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d4=(r,e,t)=>{let n;const i=c4[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Qm(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const h4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},p4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m4={date:Qm({formats:h4,defaultWidth:"full"}),time:Qm({formats:f4,defaultWidth:"full"}),dateTime:Qm({formats:p4,defaultWidth:"full"})},g4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y4=(r,e,t,n)=>g4[r];function ku(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const v4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k4=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},D4={ordinalNumber:k4,era:ku({values:v4,defaultWidth:"wide"}),quarter:ku({values:_4,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ku({values:w4,defaultWidth:"wide"}),day:ku({values:T4,defaultWidth:"wide"}),dayPeriod:ku({values:E4,defaultWidth:"wide",formattingValues:S4,defaultFormattingWidth:"wide"})};function Du(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?C4(c,y=>y.test(l)):I4(c,y=>y.test(l));let p;p=r.valueCallback?r.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function I4(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function C4(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function P4(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const x4=/^(\d+)(th|st|nd|rd)?/i,A4=/\d+/i,b4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R4={any:[/^b/i,/^(a|c)/i]},M4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N4={any:[/1/i,/2/i,/3/i,/4/i]},O4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},L4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B4={ordinalNumber:P4({matchPattern:x4,parsePattern:A4,valueCallback:r=>parseInt(r,10)}),era:Du({matchPatterns:b4,defaultMatchWidth:"wide",parsePatterns:R4,defaultParseWidth:"any"}),quarter:Du({matchPatterns:M4,defaultMatchWidth:"wide",parsePatterns:N4,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Du({matchPatterns:O4,defaultMatchWidth:"wide",parsePatterns:V4,defaultParseWidth:"any"}),day:Du({matchPatterns:L4,defaultMatchWidth:"wide",parsePatterns:F4,defaultParseWidth:"any"}),dayPeriod:Du({matchPatterns:U4,defaultMatchWidth:"any",parsePatterns:j4,defaultParseWidth:"any"})},vC={code:"en-US",formatDistance:d4,formatLong:m4,formatRelative:y4,localize:D4,match:B4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function W4(r,e){const t=Ee(r,e==null?void 0:e.in);return pl(t,Wf(t))+1}function yv(r,e){const t=Ee(r,e==null?void 0:e.in),n=+fl(t)-+s4(t);return Math.round(n/dC)+1}function vv(r,e){var m,y,w,E;const t=Ee(r,e==null?void 0:e.in),n=t.getFullYear(),i=Ko(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(w=i.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??1,l=rt((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=Fi(l,e),d=rt((e==null?void 0:e.in)||r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const p=Fi(d,e);return+t>=+c?n+1:+t>=+p?n:n-1}function z4(r,e){var c,d,p,m;const t=Ko(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=vv(r,e),o=rt((e==null?void 0:e.in)||r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Fi(o,e)}function _C(r,e){const t=Ee(r,e==null?void 0:e.in),n=+Fi(t,e)-+z4(t,e);return Math.round(n/dC)+1}function nt(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const hs={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return nt(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):nt(t+1,2)},d(r,e){return nt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return nt(r.getHours()%12||12,e.length)},H(r,e){return nt(r.getHours(),e.length)},m(r,e){return nt(r.getMinutes(),e.length)},s(r,e){return nt(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return nt(i,e.length)}},ja={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RE={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return hs.y(r,e)},Y:function(r,e,t,n){const i=vv(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return nt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):nt(o,e.length)},R:function(r,e){const t=fC(r);return nt(t,e.length)},u:function(r,e){const t=r.getFullYear();return nt(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return nt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return nt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return hs.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return nt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=_C(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):nt(i,e.length)},I:function(r,e,t){const n=yv(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):nt(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):hs.d(r,e)},D:function(r,e,t){const n=W4(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):nt(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return nt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return nt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return nt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=ja.noon:n===0?i=ja.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=ja.evening:n>=12?i=ja.afternoon:n>=4?i=ja.morning:i=ja.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return hs.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):hs.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):hs.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):hs.s(r,e)},S:function(r,e){return hs.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return NE(n);case"XXXX":case"XX":return So(n);case"XXXXX":case"XXX":default:return So(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return NE(n);case"xxxx":case"xx":return So(n);case"xxxxx":case"xxx":default:return So(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ME(n,":");case"OOOO":default:return"GMT"+So(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ME(n,":");case"zzzz":default:return"GMT"+So(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return nt(n,e.length)},T:function(r,e,t){return nt(+r,e.length)}};function ME(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+nt(o,2)}function NE(r,e){return r%60===0?(r>0?"-":"+")+nt(Math.abs(r)/60,2):So(r,e)}function So(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=nt(Math.trunc(n/60),2),o=nt(n%60,2);return t+i+e+o}const OE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wC=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},H4=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return OE(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",OE(n,e)).replace("{{time}}",wC(i,e))},Hg={p:wC,P:H4},$4=/^D+$/,Y4=/^Y+$/,q4=["D","DD","YY","YYYY"];function K4(r){return $4.test(r)}function Q4(r){return Y4.test(r)}function G4(r,e,t){const n=X4(r,e,t);if(console.warn(n),q4.includes(r))throw new RangeError(n)}function X4(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const J4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eU=/^'([^]*?)'?$/,tU=/''/g,nU=/[a-zA-Z]/;function $g(r,e,t){var m,y,w,E,D,C,x,U;const n=Ko(),i=(t==null?void 0:t.locale)??n.locale??vC,o=(t==null?void 0:t.firstWeekContainsDate)??((y=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(w=n.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((C=(D=t==null?void 0:t.locale)==null?void 0:D.options)==null?void 0:C.weekStartsOn)??n.weekStartsOn??((U=(x=n.locale)==null?void 0:x.options)==null?void 0:U.weekStartsOn)??0,c=Ee(r,t==null?void 0:t.in);if(!Zh(c))throw new RangeError("Invalid time value");let d=e.match(Z4).map(B=>{const F=B[0];if(F==="p"||F==="P"){const H=Hg[F];return H(B,i.formatLong)}return B}).join("").match(J4).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const F=B[0];if(F==="'")return{isToken:!1,value:rU(B)};if(RE[F])return{isToken:!0,value:B};if(F.match(nU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:B}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(B=>{if(!B.isToken)return B.value;const F=B.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Q4(F)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&K4(F))&&G4(F,e,String(r));const H=RE[F[0]];return H(c,F,i.localize,p)}).join("")}function rU(r){const e=r.match(eU);return e?e[1].replace(tU,"'"):r}function VE(r,e){return Ee(r,e==null?void 0:e.in).getDate()}function iU(r,e){return Ee(r,e==null?void 0:e.in).getDay()}function sU(r,e){const t=Ee(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),o=rt(t,0);return o.setFullYear(n,i+1,0),o.setHours(0,0,0,0),o.getDate()}function oU(){return Object.assign({},Ko())}function xi(r,e){return Ee(r,e==null?void 0:e.in).getHours()}function aU(r,e){const t=Ee(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Ai(r,e){return Ee(r,e==null?void 0:e.in).getMinutes()}function vn(r,e){return Ee(r,e==null?void 0:e.in).getMonth()}function Is(r){return Ee(r).getSeconds()}function Yg(r){return+Ee(r)}function Fe(r,e){return Ee(r,e==null?void 0:e.in).getFullYear()}function Fs(r,e){return+Ee(r)>+Ee(e)}function Uo(r,e){return+Ee(r)<+Ee(e)}function lU(r,e){return+Ee(r)==+Ee(e)}function uU(r,e){const t=cU(e)?new e(0):rt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function cU(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const dU=10;class TC{constructor(){me(this,"subPriority",0)}validate(e,t){return!0}}class hU extends TC{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class fU extends TC{constructor(t,n){super();me(this,"priority",dU);me(this,"subPriority",-1);this.context=t||(i=>rt(n,i))}set(t,n){return n.timestampIsSet?t:rt(t,uU(t,this.context))}}class Xe{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new hU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class pU extends Xe{constructor(){super(...arguments);me(this,"priority",140);me(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Br={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ct(r,e){return r&&{value:e(r.value),rest:r.rest}}function vt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Wr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*Bf+o*jf+l*n4),rest:e.slice(t[0].length)}}function EC(r){return vt(It.anyDigitsSigned,r)}function Tt(r,e){switch(r){case 1:return vt(It.singleDigit,e);case 2:return vt(It.twoDigits,e);case 3:return vt(It.threeDigits,e);case 4:return vt(It.fourDigits,e);default:return vt(new RegExp("^\\d{1,"+r+"}"),e)}}function rf(r,e){switch(r){case 1:return vt(It.singleDigitSigned,e);case 2:return vt(It.twoDigitsSigned,e);case 3:return vt(It.threeDigitsSigned,e);case 4:return vt(It.fourDigitsSigned,e);default:return vt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function _v(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function SC(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,c=r>=o%100;i=r+l-(c?100:0)}return t?i:1-i}function kC(r){return r%400===0||r%4===0&&r%100!==0}class mU extends Xe{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ct(Tt(4,t),o);case"yo":return Ct(i.ordinalNumber(t,{unit:"year"}),o);default:return Ct(Tt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const c=SC(i.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class gU extends Xe{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ct(Tt(4,t),o);case"Yo":return Ct(i.ordinalNumber(t,{unit:"year"}),o);default:return Ct(Tt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=vv(t,o);if(i.isTwoDigitYear){const d=SC(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Fi(t,o)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Fi(t,o)}}class yU extends Xe{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return rf(n==="R"?4:n.length,t)}set(t,n,i){const o=rt(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),fl(o)}}class vU extends Xe{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return rf(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class _U extends Xe{constructor(){super(...arguments);me(this,"priority",120);me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return Tt(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class wU extends Xe{constructor(){super(...arguments);me(this,"priority",120);me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return Tt(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class TU extends Xe{constructor(){super(...arguments);me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);me(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return Ct(vt(It.month,t),o);case"MM":return Ct(Tt(2,t),o);case"Mo":return Ct(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class EU extends Xe{constructor(){super(...arguments);me(this,"priority",110);me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return Ct(vt(It.month,t),o);case"LL":return Ct(Tt(2,t),o);case"Lo":return Ct(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function SU(r,e,t){const n=Ee(r,t==null?void 0:t.in),i=_C(n,t)-e;return n.setDate(n.getDate()-i*7),Ee(n,t==null?void 0:t.in)}class kU extends Xe{constructor(){super(...arguments);me(this,"priority",100);me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return vt(It.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Tt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return Fi(SU(t,i,o),o)}}function DU(r,e,t){const n=Ee(r,t==null?void 0:t.in),i=yv(n,t)-e;return n.setDate(n.getDate()-i*7),n}class IU extends Xe{constructor(){super(...arguments);me(this,"priority",100);me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return vt(It.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Tt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return fl(DU(t,i))}}const CU=[31,28,31,30,31,30,31,31,30,31,30,31],PU=[31,29,31,30,31,30,31,31,30,31,30,31];class xU extends Xe{constructor(){super(...arguments);me(this,"priority",90);me(this,"subPriority",1);me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return vt(It.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Tt(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=kC(i),l=t.getMonth();return o?n>=1&&n<=PU[l]:n>=1&&n<=CU[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class AU extends Xe{constructor(){super(...arguments);me(this,"priority",90);me(this,"subpriority",1);me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return vt(It.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Tt(n.length,t)}}validate(t,n){const i=t.getFullYear();return kC(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function wv(r,e,t){var y,w,E,D;const n=Ko(),i=(t==null?void 0:t.weekStartsOn)??((w=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((D=(E=n.locale)==null?void 0:E.options)==null?void 0:D.weekStartsOn)??0,o=Ee(r,t==null?void 0:t.in),l=o.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(l+p)%7:(d+p)%7-(l+p)%7;return Sr(o,m,t)}class bU extends Xe{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=wv(t,i,o),t.setHours(0,0,0,0),t}}class RU extends Xe{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return Ct(Tt(n.length,t),l);case"eo":return Ct(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=wv(t,i,o),t.setHours(0,0,0,0),t}}class MU extends Xe{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return Ct(Tt(n.length,t),l);case"co":return Ct(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=wv(t,i,o),t.setHours(0,0,0,0),t}}function NU(r,e,t){const n=Ee(r,t==null?void 0:t.in),i=aU(n,t),o=e-i;return Sr(n,o,t)}class OU extends Xe{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return Tt(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Ct(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ct(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ct(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Ct(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=NU(t,i),t.setHours(0,0,0,0),t}}class VU extends Xe{constructor(){super(...arguments);me(this,"priority",80);me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(_v(i),0,0,0),t}}class LU extends Xe{constructor(){super(...arguments);me(this,"priority",80);me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(_v(i),0,0,0),t}}class FU extends Xe{constructor(){super(...arguments);me(this,"priority",80);me(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(_v(i),0,0,0),t}}class UU extends Xe{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return vt(It.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Tt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class jU extends Xe{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return vt(It.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Tt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class BU extends Xe{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return vt(It.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Tt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class WU extends Xe{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return vt(It.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Tt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class zU extends Xe{constructor(){super(...arguments);me(this,"priority",60);me(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return vt(It.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Tt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class HU extends Xe{constructor(){super(...arguments);me(this,"priority",50);me(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return vt(It.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Tt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class $U extends Xe{constructor(){super(...arguments);me(this,"priority",30);me(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Ct(Tt(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class YU extends Xe{constructor(){super(...arguments);me(this,"priority",10);me(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Wr(Br.basicOptionalMinutes,t);case"XX":return Wr(Br.basic,t);case"XXXX":return Wr(Br.basicOptionalSeconds,t);case"XXXXX":return Wr(Br.extendedOptionalSeconds,t);case"XXX":default:return Wr(Br.extended,t)}}set(t,n,i){return n.timestampIsSet?t:rt(t,t.getTime()-Xh(t)-i)}}class qU extends Xe{constructor(){super(...arguments);me(this,"priority",10);me(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Wr(Br.basicOptionalMinutes,t);case"xx":return Wr(Br.basic,t);case"xxxx":return Wr(Br.basicOptionalSeconds,t);case"xxxxx":return Wr(Br.extendedOptionalSeconds,t);case"xxx":default:return Wr(Br.extended,t)}}set(t,n,i){return n.timestampIsSet?t:rt(t,t.getTime()-Xh(t)-i)}}class KU extends Xe{constructor(){super(...arguments);me(this,"priority",40);me(this,"incompatibleTokens","*")}parse(t){return EC(t)}set(t,n,i){return[rt(t,i*1e3),{timestampIsSet:!0}]}}class QU extends Xe{constructor(){super(...arguments);me(this,"priority",20);me(this,"incompatibleTokens","*")}parse(t){return EC(t)}set(t,n,i){return[rt(t,i),{timestampIsSet:!0}]}}const GU={G:new pU,y:new mU,Y:new gU,R:new yU,u:new vU,Q:new _U,q:new wU,M:new TU,L:new EU,w:new kU,I:new IU,d:new xU,D:new AU,E:new bU,e:new RU,c:new MU,i:new OU,a:new VU,b:new LU,B:new FU,h:new UU,H:new jU,K:new BU,k:new WU,m:new zU,s:new HU,S:new $U,X:new YU,x:new qU,t:new KU,T:new QU},XU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZU=/^'([^]*?)'?$/,ej=/''/g,tj=/\S/,nj=/[a-zA-Z]/;function rj(r,e,t,n){var x,U,B,F,H,J,ne,b;const i=()=>rt((n==null?void 0:n.in)||t,NaN),o=oU(),l=(n==null?void 0:n.locale)??o.locale??vC,c=(n==null?void 0:n.firstWeekContainsDate)??((U=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:U.firstWeekContainsDate)??o.firstWeekContainsDate??((F=(B=o.locale)==null?void 0:B.options)==null?void 0:F.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((J=(H=n==null?void 0:n.locale)==null?void 0:H.options)==null?void 0:J.weekStartsOn)??o.weekStartsOn??((b=(ne=o.locale)==null?void 0:ne.options)==null?void 0:b.weekStartsOn)??0;if(!e)return r?i():Ee(t,n==null?void 0:n.in);const p={firstWeekContainsDate:c,weekStartsOn:d,locale:l},m=[new fU(n==null?void 0:n.in,t)],y=e.match(JU).map(k=>{const P=k[0];if(P in Hg){const M=Hg[P];return M(k,l.formatLong)}return k}).join("").match(XU),w=[];for(let k of y){const P=k[0],M=GU[P];if(M){const{incompatibleTokens:N}=M;if(Array.isArray(N)){const A=w.find(pe=>N.includes(pe.token)||pe.token===P);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${k}\` at the same time`)}else if(M.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);w.push({token:P,fullToken:k});const O=M.run(r,k,l.match,p);if(!O)return i();m.push(O.setter),r=O.rest}else{if(P.match(nj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");if(k==="''"?k="'":P==="'"&&(k=ij(k)),r.indexOf(k)===0)r=r.slice(k.length);else return i()}}if(r.length>0&&tj.test(r))return i();const E=m.map(k=>k.priority).sort((k,P)=>P-k).filter((k,P,M)=>M.indexOf(k)===P).map(k=>m.filter(P=>P.priority===k).sort((P,M)=>M.subPriority-P.subPriority)).map(k=>k[0]);let D=Ee(t,n==null?void 0:n.in);if(isNaN(+D))return i();const C={};for(const k of E){if(!k.validate(D,p))return i();const P=k.set(D,C,p);Array.isArray(P)?(D=P[0],Object.assign(C,P[1])):D=P}return D}function ij(r){return r.match(ZU)[1].replace(ej,"'")}function sj(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function oj(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e);return+zg(n)==+zg(i)}function aj(r,e,t){const[n,i]=Ui(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function tc(r,e,t){const n=+Ee(r,t==null?void 0:t.in),[i,o]=[+Ee(e.start,t==null?void 0:t.in),+Ee(e.end,t==null?void 0:t.in)].sort((l,c)=>l-c);return n>=i&&n<=o}function lj(r,e,t){return Sr(r,-1,t)}function uj(r,e){const t=()=>rt(e==null?void 0:e.in,NaN),i=fj(r);let o;if(i.date){const p=pj(i.date,2);o=mj(p.restDateString,p.year)}if(!o||isNaN(+o))return t();const l=+o;let c=0,d;if(i.time&&(c=gj(i.time),isNaN(c)))return t();if(i.timezone){if(d=yj(i.timezone),isNaN(d))return t()}else{const p=new Date(l+c),m=Ee(0,e==null?void 0:e.in);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return Ee(l+c+d,e==null?void 0:e.in)}const Xd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fj(r){const e={},t=r.split(Xd.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Xd.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Xd.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Xd.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function pj(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function mj(r,e){if(e===null)return new Date(NaN);const t=r.match(cj);if(!t)return new Date(NaN);const n=!!t[4],i=Iu(t[1]),o=Iu(t[2])-1,l=Iu(t[3]),c=Iu(t[4]),d=Iu(t[5])-1;if(n)return Ej(e,c,d)?vj(e,c,d):new Date(NaN);{const p=new Date(0);return!wj(e,o,l)||!Tj(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,l)),p)}}function Iu(r){return r?parseInt(r):1}function gj(r){const e=r.match(dj);if(!e)return NaN;const t=Gm(e[1]),n=Gm(e[2]),i=Gm(e[3]);return Sj(t,n,i)?t*Bf+n*jf+i*1e3:NaN}function Gm(r){return r&&parseFloat(r.replace(",","."))||0}function yj(r){if(r==="Z")return 0;const e=r.match(hj);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return kj(n,i)?t*(n*Bf+i*jf):NaN}function vj(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const _j=[31,null,31,30,31,30,31,31,30,31,30,31];function DC(r){return r%400===0||r%4===0&&r%100!==0}function wj(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(_j[e]||(DC(r)?29:28))}function Tj(r,e){return e>=1&&e<=(DC(r)?366:365)}function Ej(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Sj(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function kj(r,e){return e>=0&&e<=59}function nr(r,e,t){const n=Ee(r,t==null?void 0:t.in),i=n.getFullYear(),o=n.getDate(),l=rt(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const c=sU(l);return n.setMonth(e,Math.min(o,c)),n}function gh(r,e,t){const n=Ee(r,t==null?void 0:t.in);return n.setHours(e),n}function yh(r,e,t){const n=Ee(r,t==null?void 0:t.in);return n.setMinutes(e),n}function $a(r,e,t){const n=Ee(r,t==null?void 0:t.in),i=Math.trunc(n.getMonth()/3)+1,o=e-i;return nr(n,n.getMonth()+o*3)}function vh(r,e,t){const n=Ee(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Ur(r,e,t){const n=Ee(r,t==null?void 0:t.in);return isNaN(+n)?rt(r,NaN):(n.setFullYear(e),n)}function Ao(r,e,t){return Ir(r,-e,t)}function IC(r,e,t){return gv(r,-1,t)}function LE(r,e,t){return Jh(r,-1,t)}function ml(r,e,t){return Ci(r,-e,t)}function zf(){return typeof window<"u"}function Il(r){return CC(r)?(r.nodeName||"").toLowerCase():"#document"}function Bn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function ni(r){var e;return(e=(CC(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function CC(r){return zf()?r instanceof Node||r instanceof Bn(r).Node:!1}function _n(r){return zf()?r instanceof Element||r instanceof Bn(r).Element:!1}function Zr(r){return zf()?r instanceof HTMLElement||r instanceof Bn(r).HTMLElement:!1}function FE(r){return!zf()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Bn(r).ShadowRoot}function wc(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=sr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function Dj(r){return["table","td","th"].includes(Il(r))}function Hf(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Tv(r){const e=Ev(),t=_n(r)?sr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function Ij(r){let e=Us(r);for(;Zr(e)&&!gl(e);){if(Tv(e))return e;if(Hf(e))return null;e=Us(e)}return null}function Ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gl(r){return["html","body","#document"].includes(Il(r))}function sr(r){return Bn(r).getComputedStyle(r)}function $f(r){return _n(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Us(r){if(Il(r)==="html")return r;const e=r.assignedSlot||r.parentNode||FE(r)&&r.host||ni(r);return FE(e)?e.host:e}function PC(r){const e=Us(r);return gl(e)?r.ownerDocument?r.ownerDocument.body:r.body:Zr(e)&&wc(e)?e:PC(e)}function nc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=PC(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Bn(i);if(o){const c=qg(l);return e.concat(l,l.visualViewport||[],wc(i)?i:[],c&&t?nc(c):[])}return e.concat(i,nc(i,[],t))}function qg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const yl=Math.min,bo=Math.max,sf=Math.round,Jd=Math.floor,Gr=r=>({x:r,y:r}),Cj={left:"right",right:"left",bottom:"top",top:"bottom"},Pj={start:"end",end:"start"};function xj(r,e,t){return bo(r,yl(e,t))}function Yf(r,e){return typeof r=="function"?r(e):r}function vl(r){return r.split("-")[0]}function Tc(r){return r.split("-")[1]}function Aj(r){return r==="x"?"y":"x"}function Sv(r){return r==="y"?"height":"width"}function rc(r){return["top","bottom"].includes(vl(r))?"y":"x"}function kv(r){return Aj(rc(r))}function bj(r,e,t){t===void 0&&(t=!1);const n=Tc(r),i=kv(r),o=Sv(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=of(l)),[l,of(l)]}function Rj(r){const e=of(r);return[Kg(r),e,Kg(e)]}function Kg(r){return r.replace(/start|end/g,e=>Pj[e])}function Mj(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function Nj(r,e,t,n){const i=Tc(r);let o=Mj(vl(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Kg)))),o}function of(r){return r.replace(/left|right|bottom|top/g,e=>Cj[e])}function Oj(r){return{top:0,right:0,bottom:0,left:0,...r}}function xC(r){return typeof r!="number"?Oj(r):{top:r,right:r,bottom:r,left:r}}function af(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var AC=cS();const Vj=Gg(AC);function UE(r,e,t){let{reference:n,floating:i}=r;const o=rc(e),l=kv(e),c=Sv(l),d=vl(e),p=o==="y",m=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,w=n[c]/2-i[c]/2;let E;switch(d){case"top":E={x:m,y:n.y-i.height};break;case"bottom":E={x:m,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y};break;case"left":E={x:n.x-i.width,y};break;default:E={x:n.x,y:n.y}}switch(Tc(e)){case"start":E[l]-=w*(t&&p?-1:1);break;case"end":E[l]+=w*(t&&p?-1:1);break}return E}const Lj=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:m,y}=UE(p,n,d),w=n,E={},D=0;for(let C=0;C<c.length;C++){const{name:x,fn:U}=c[C],{x:B,y:F,data:H,reset:J}=await U({x:m,y,initialPlacement:n,placement:w,strategy:i,middlewareData:E,rects:p,platform:l,elements:{reference:r,floating:e}});m=B??m,y=F??y,E={...E,[x]:{...E[x],...H}},J&&D<=50&&(D++,typeof J=="object"&&(J.placement&&(w=J.placement),J.rects&&(p=J.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):J.rects),{x:m,y}=UE(p,w,d)),C=-1)}return{x:m,y,placement:w,strategy:i,middlewareData:E}};async function Fj(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:c,strategy:d}=r,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:w=!1,padding:E=0}=Yf(e,r),D=xC(E),x=c[w?y==="floating"?"reference":"floating":y],U=af(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(x)))==null||t?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:d})),B=y==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),H=await(o.isElement==null?void 0:o.isElement(F))?await(o.getScale==null?void 0:o.getScale(F))||{x:1,y:1}:{x:1,y:1},J=af(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:B,offsetParent:F,strategy:d}):B);return{top:(U.top-J.top+D.top)/H.y,bottom:(J.bottom-U.bottom+D.bottom)/H.y,left:(U.left-J.left+D.left)/H.x,right:(J.right-U.right+D.right)/H.x}}const Uj=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:m=0}=Yf(r,e)||{};if(p==null)return{};const y=xC(m),w={x:t,y:n},E=kv(i),D=Sv(E),C=await l.getDimensions(p),x=E==="y",U=x?"top":"left",B=x?"bottom":"right",F=x?"clientHeight":"clientWidth",H=o.reference[D]+o.reference[E]-w[E]-o.floating[D],J=w[E]-o.reference[E],ne=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let b=ne?ne[F]:0;(!b||!await(l.isElement==null?void 0:l.isElement(ne)))&&(b=c.floating[F]||o.floating[D]);const k=H/2-J/2,P=b/2-C[D]/2-1,M=yl(y[U],P),N=yl(y[B],P),O=M,A=b-C[D]-N,pe=b/2-C[D]/2+k,De=xj(O,pe,A),ue=!d.arrow&&Tc(i)!=null&&pe!==De&&o.reference[D]/2-(pe<O?M:N)-C[D]/2<0,de=ue?pe<O?pe-O:pe-A:0;return{[E]:w[E]+de,data:{[E]:De,centerOffset:pe-De-de,...ue&&{alignmentOffset:de}},reset:ue}}}),jj=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:C=!0,...x}=Yf(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const U=vl(i),B=rc(c),F=vl(c)===c,H=await(d.isRTL==null?void 0:d.isRTL(p.floating)),J=w||(F||!C?[of(c)]:Rj(c)),ne=D!=="none";!w&&ne&&J.push(...Nj(c,C,D,H));const b=[c,...J],k=await Fj(e,x),P=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&P.push(k[U]),y){const pe=bj(i,l,H);P.push(k[pe[0]],k[pe[1]])}if(M=[...M,{placement:i,overflows:P}],!P.every(pe=>pe<=0)){var N,O;const pe=(((N=o.flip)==null?void 0:N.index)||0)+1,De=b[pe];if(De)return{data:{index:pe,overflows:M},reset:{placement:De}};let ue=(O=M.filter(de=>de.overflows[0]<=0).sort((de,X)=>de.overflows[1]-X.overflows[1])[0])==null?void 0:O.placement;if(!ue)switch(E){case"bestFit":{var A;const de=(A=M.filter(X=>{if(ne){const ce=rc(X.placement);return ce===B||ce==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ce=>ce>0).reduce((ce,ae)=>ce+ae,0)]).sort((X,ce)=>X[1]-ce[1])[0])==null?void 0:A[0];de&&(ue=de);break}case"initialPlacement":ue=c;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};async function Bj(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=vl(t),c=Tc(t),d=rc(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,y=Yf(e,r);let{mainAxis:w,crossAxis:E,alignmentAxis:D}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof D=="number"&&(E=c==="end"?D*-1:D),d?{x:E*m,y:w*p}:{x:w*p,y:E*m}}const Wj=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await Bj(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function bC(r){const e=sr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Zr(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=sf(t)!==o||sf(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function Dv(r){return _n(r)?r:r.contextElement}function tl(r){const e=Dv(r);if(!Zr(e))return Gr(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=bC(e);let l=(o?sf(t.width):t.width)/n,c=(o?sf(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const zj=Gr(0);function RC(r){const e=Bn(r);return!Ev()||!e.visualViewport?zj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Hj(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Bn(r)?!1:e}function jo(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=Dv(r);let l=Gr(1);e&&(n?_n(n)&&(l=tl(n)):l=tl(r));const c=Hj(o,t,n)?RC(o):Gr(0);let d=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,y=i.height/l.y;if(o){const w=Bn(o),E=n&&_n(n)?Bn(n):n;let D=w,C=qg(D);for(;C&&n&&E!==D;){const x=tl(C),U=C.getBoundingClientRect(),B=sr(C),F=U.left+(C.clientLeft+parseFloat(B.paddingLeft))*x.x,H=U.top+(C.clientTop+parseFloat(B.paddingTop))*x.y;d*=x.x,p*=x.y,m*=x.x,y*=x.y,d+=F,p+=H,D=Bn(C),C=qg(D)}}return af({width:m,height:y,x:d,y:p})}function Iv(r,e){const t=$f(r).scrollLeft;return e?e.left+t:jo(ni(r)).left+t}function MC(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:Iv(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function $j(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=ni(n),c=e?Hf(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},p=Gr(1);const m=Gr(0),y=Zr(n);if((y||!y&&!o)&&((Il(n)!=="body"||wc(l))&&(d=$f(n)),Zr(n))){const E=jo(n);p=tl(n),m.x=E.x+n.clientLeft,m.y=E.y+n.clientTop}const w=l&&!y&&!o?MC(l,d,!0):Gr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+w.x,y:t.y*p.y-d.scrollTop*p.y+m.y+w.y}}function Yj(r){return Array.from(r.getClientRects())}function qj(r){const e=ni(r),t=$f(r),n=r.ownerDocument.body,i=bo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=bo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+Iv(r);const c=-t.scrollTop;return sr(n).direction==="rtl"&&(l+=bo(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:c}}function Kj(r,e){const t=Bn(r),n=ni(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const p=Ev();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function Qj(r,e){const t=jo(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=Zr(r)?tl(r):Gr(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,d=i*o.x,p=n*o.y;return{width:l,height:c,x:d,y:p}}function jE(r,e,t){let n;if(e==="viewport")n=Kj(r,t);else if(e==="document")n=qj(ni(r));else if(_n(e))n=Qj(e,t);else{const i=RC(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return af(n)}function NC(r,e){const t=Us(r);return t===e||!_n(t)||gl(t)?!1:sr(t).position==="fixed"||NC(t,e)}function Gj(r,e){const t=e.get(r);if(t)return t;let n=nc(r,[],!1).filter(c=>_n(c)&&Il(c)!=="body"),i=null;const o=sr(r).position==="fixed";let l=o?Us(r):r;for(;_n(l)&&!gl(l);){const c=sr(l),d=Tv(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||wc(l)&&!d&&NC(r,l))?n=n.filter(m=>m!==l):i=c,l=Us(l)}return e.set(r,n),n}function Xj(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?Hf(e)?[]:Gj(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((p,m)=>{const y=jE(e,m,i);return p.top=bo(y.top,p.top),p.right=yl(y.right,p.right),p.bottom=yl(y.bottom,p.bottom),p.left=bo(y.left,p.left),p},jE(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Jj(r){const{width:e,height:t}=bC(r);return{width:e,height:t}}function Zj(r,e,t){const n=Zr(e),i=ni(e),o=t==="fixed",l=jo(r,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Gr(0);if(n||!n&&!o)if((Il(e)!=="body"||wc(i))&&(c=$f(e)),n){const w=jo(e,!0,o,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else i&&(d.x=Iv(i));const p=i&&!n&&!o?MC(i,c):Gr(0),m=l.left+c.scrollLeft-d.x-p.x,y=l.top+c.scrollTop-d.y-p.y;return{x:m,y,width:l.width,height:l.height}}function Xm(r){return sr(r).position==="static"}function BE(r,e){if(!Zr(r)||sr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return ni(r)===t&&(t=t.ownerDocument.body),t}function OC(r,e){const t=Bn(r);if(Hf(r))return t;if(!Zr(r)){let i=Us(r);for(;i&&!gl(i);){if(_n(i)&&!Xm(i))return i;i=Us(i)}return t}let n=BE(r,e);for(;n&&Dj(n)&&Xm(n);)n=BE(n,e);return n&&gl(n)&&Xm(n)&&!Tv(n)?t:n||Ij(r)||t}const e3=async function(r){const e=this.getOffsetParent||OC,t=this.getDimensions,n=await t(r.floating);return{reference:Zj(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function t3(r){return sr(r).direction==="rtl"}const n3={convertOffsetParentRelativeRectToViewportRelativeRect:$j,getDocumentElement:ni,getClippingRect:Xj,getOffsetParent:OC,getElementRects:e3,getClientRects:Yj,getDimensions:Jj,getScale:tl,isElement:_n,isRTL:t3};function VC(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function r3(r,e){let t=null,n;const i=ni(r);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const p=r.getBoundingClientRect(),{left:m,top:y,width:w,height:E}=p;if(c||e(),!w||!E)return;const D=Jd(y),C=Jd(i.clientWidth-(m+w)),x=Jd(i.clientHeight-(y+E)),U=Jd(m),F={rootMargin:-D+"px "+-C+"px "+-x+"px "+-U+"px",threshold:bo(0,yl(1,d))||1};let H=!0;function J(ne){const b=ne[0].intersectionRatio;if(b!==d){if(!H)return l();b?l(!1,b):n=setTimeout(()=>{l(!1,1e-7)},1e3)}b===1&&!VC(p,r.getBoundingClientRect())&&l(),H=!1}try{t=new IntersectionObserver(J,{...F,root:i.ownerDocument})}catch{t=new IntersectionObserver(J,F)}t.observe(r)}return l(!0),o}function i3(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=Dv(r),m=i||o?[...p?nc(p):[],...nc(e)]:[];m.forEach(U=>{i&&U.addEventListener("scroll",t,{passive:!0}),o&&U.addEventListener("resize",t)});const y=p&&c?r3(p,t):null;let w=-1,E=null;l&&(E=new ResizeObserver(U=>{let[B]=U;B&&B.target===p&&E&&(E.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var F;(F=E)==null||F.observe(e)})),t()}),p&&!d&&E.observe(p),E.observe(e));let D,C=d?jo(r):null;d&&x();function x(){const U=jo(r);C&&!VC(C,U)&&t(),C=U,D=requestAnimationFrame(x)}return t(),()=>{var U;m.forEach(B=>{i&&B.removeEventListener("scroll",t),o&&B.removeEventListener("resize",t)}),y==null||y(),(U=E)==null||U.disconnect(),E=null,d&&cancelAnimationFrame(D)}}const s3=Wj,o3=jj,WE=Uj,a3=(r,e,t)=>{const n=new Map,i={platform:n3,...t},o={...i.platform,_c:n};return Lj(r,e,{...i,platform:o})};var _h=typeof document<"u"?Y.useLayoutEffect:Y.useEffect;function lf(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!lf(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!lf(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function LC(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function zE(r,e){const t=LC(r);return Math.round(e*t)/t}function Jm(r){const e=Y.useRef(r);return _h(()=>{e.current=r}),e}function l3(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=r,[m,y]=Y.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,E]=Y.useState(n);lf(w,n)||E(n);const[D,C]=Y.useState(null),[x,U]=Y.useState(null),B=Y.useCallback(X=>{X!==ne.current&&(ne.current=X,C(X))},[]),F=Y.useCallback(X=>{X!==b.current&&(b.current=X,U(X))},[]),H=o||D,J=l||x,ne=Y.useRef(null),b=Y.useRef(null),k=Y.useRef(m),P=d!=null,M=Jm(d),N=Jm(i),O=Jm(p),A=Y.useCallback(()=>{if(!ne.current||!b.current)return;const X={placement:e,strategy:t,middleware:w};N.current&&(X.platform=N.current),a3(ne.current,b.current,X).then(ce=>{const ae={...ce,isPositioned:O.current!==!1};pe.current&&!lf(k.current,ae)&&(k.current=ae,AC.flushSync(()=>{y(ae)}))})},[w,e,t,N,O]);_h(()=>{p===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,y(X=>({...X,isPositioned:!1})))},[p]);const pe=Y.useRef(!1);_h(()=>(pe.current=!0,()=>{pe.current=!1}),[]),_h(()=>{if(H&&(ne.current=H),J&&(b.current=J),H&&J){if(M.current)return M.current(H,J,A);A()}},[H,J,A,M,P]);const De=Y.useMemo(()=>({reference:ne,floating:b,setReference:B,setFloating:F}),[B,F]),ue=Y.useMemo(()=>({reference:H,floating:J}),[H,J]),de=Y.useMemo(()=>{const X={position:t,left:0,top:0};if(!ue.floating)return X;const ce=zE(ue.floating,m.x),ae=zE(ue.floating,m.y);return c?{...X,transform:"translate("+ce+"px, "+ae+"px)",...LC(ue.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:ae}},[t,c,ue.floating,m.x,m.y]);return Y.useMemo(()=>({...m,update:A,refs:De,elements:ue,floatingStyles:de}),[m,A,De,ue,de])}const u3=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?WE({element:n.current,padding:i}).fn(t):{}:n?WE({element:n,padding:i}).fn(t):{}}}},c3=(r,e)=>({...s3(r),options:[r,e]}),d3=(r,e)=>({...o3(r),options:[r,e]}),h3=(r,e)=>({...u3(r),options:[r,e]}),FC={...rx},f3=FC.useInsertionEffect,p3=f3||(r=>r());function m3(r){const e=Y.useRef(()=>{});return p3(()=>{e.current=r}),Y.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var uf=typeof document<"u"?Y.useLayoutEffect:Y.useEffect;let HE=!1,g3=0;const $E=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+g3++;function y3(){const[r,e]=Y.useState(()=>HE?$E():void 0);return uf(()=>{r==null&&e($E())},[]),Y.useEffect(()=>{HE=!0},[]),r}const v3=FC.useId,UC=v3||y3,_3=Y.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:c=14,height:d=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:y,stroke:w,d:E,style:{transform:D,...C}={},...x}=e,U=UC(),[B,F]=Y.useState(!1);if(uf(()=>{if(!i)return;sr(i).direction==="rtl"&&F(!0)},[i]),!i)return null;const[H,J]=n.split("-"),ne=H==="top"||H==="bottom";let b=y;(ne&&l!=null&&l.x||!ne&&l!=null&&l.y)&&(b=null);const k=m*2,P=k/2,M=c/2*(p/-8+1),N=d/2*p/4,O=!!E,A=b&&J==="end"?"bottom":"top";let pe=b&&J==="end"?"right":"left";b&&B&&(pe=J==="end"?"left":"right");const De=(o==null?void 0:o.x)!=null?b||o.x:"",ue=(o==null?void 0:o.y)!=null?b||o.y:"",de=E||"M0,0"+(" H"+c)+(" L"+(c-M)+","+(d-N))+(" Q"+c/2+","+d+" "+M+","+(d-N))+" Z",X={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[H];return K.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:O?c:c+k,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[pe]:De,[A]:ue,[H]:ne||O?"100%":"calc(100% - "+k/2+"px)",transform:[X,D].filter(ce=>!!ce).join(" "),...C},children:[k>0&&K.jsx("path",{clipPath:"url(#"+U+")",fill:"none",stroke:w,strokeWidth:k+(E?0:1),d:de}),K.jsx("path",{stroke:k&&!E?x.fill:"none",d:de}),K.jsx("clipPath",{id:U,children:K.jsx("rect",{x:-P,y:P*(O?-1:1),width:c+k,height:c})})]})});function w3(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const T3=Y.createContext(null),E3=Y.createContext(null),S3=()=>{var r;return((r=Y.useContext(T3))==null?void 0:r.id)||null},k3=()=>Y.useContext(E3);function D3(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=UC(),o=Y.useRef({}),[l]=Y.useState(()=>w3()),c=S3()!=null,[d,p]=Y.useState(n.reference),m=m3((E,D,C)=>{o.current.openEvent=E?D:void 0,l.emit("openchange",{open:E,event:D,reason:C,nested:c}),t==null||t(E,D,C)}),y=Y.useMemo(()=>({setPositionReference:p}),[]),w=Y.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return Y.useMemo(()=>({dataRef:o,open:e,onOpenChange:m,elements:w,events:l,floatingId:i,refs:y}),[e,m,w,l,i,y])}function I3(r){r===void 0&&(r={});const{nodeId:e}=r,t=D3({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=Y.useState(null),[c,d]=Y.useState(null),m=(i==null?void 0:i.domReference)||o,y=Y.useRef(null),w=k3();uf(()=>{m&&(y.current=m)},[m]);const E=l3({...r,elements:{...i,...c&&{reference:c}}}),D=Y.useCallback(F=>{const H=_n(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),contextElement:F}:F;d(H),E.refs.setReference(H)},[E.refs]),C=Y.useCallback(F=>{(_n(F)||F===null)&&(y.current=F,l(F)),(_n(E.refs.reference.current)||E.refs.reference.current===null||F!==null&&!_n(F))&&E.refs.setReference(F)},[E.refs]),x=Y.useMemo(()=>({...E.refs,setReference:C,setPositionReference:D,domReference:y}),[E.refs,C,D]),U=Y.useMemo(()=>({...E.elements,domReference:m}),[E.elements,m]),B=Y.useMemo(()=>({...E,...n,refs:x,elements:U,nodeId:e}),[E,x,U,e,n]);return uf(()=>{n.dataRef.current.floatingContext=B;const F=w==null?void 0:w.nodesRef.current.find(H=>H.id===e);F&&(F.context=B)}),Y.useMemo(()=>({...E,context:B,refs:x,elements:U}),[E,x,U,B])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Qg=function(e,t){return Qg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Qg(e,t)};function $t(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qe=function(){return Qe=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Qe.apply(this,arguments)};function zr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var C3=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return G.createElement("div",{className:o,role:"dialog","aria-label":c,"aria-modal":"true"},l)},P3=function(r,e){var t=Y.useRef(null),n=Y.useRef(r);n.current=r;var i=Y.useCallback(function(o){var l,c=o.composed&&o.composedPath&&o.composedPath().find(function(d){return d instanceof Node})||o.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return Y.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},qf=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,c=P3(t,l);return G.createElement("div",{className:n,style:o,ref:function(d){c.current=d,i&&(i.current=d)}},e)},he;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(he||(he={}));function jC(){var r=typeof window<"u"?window:globalThis;return r}var Ec=12;function Ze(r){if(r==null)return new Date;var e=typeof r=="string"?uj(r):Ee(r);return Kf(e)?e:new Date}function Zm(r,e,t,n,i){i===void 0&&(i=Ze());for(var o=_l(t)||_l(Cv()),l=Array.isArray(e)?e:[e],c=0,d=l;c<d.length;c++){var p=d[c],m=rj(r,p,i,{locale:o});if(Kf(m)&&(!n||r===ft(m,p,t)))return m}return null}function Kf(r,e){return Zh(r)&&!Uo(r,new Date("1/1/1800"))}function ft(r,e,t){if(t==="en")return $g(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?_l(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||_l(Cv()),$g(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function tr(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&ft(r,i,n)||""}function x3(r,e,t){if(!r)return"";var n=tr(r,t),i=e?tr(e,t):"";return"".concat(n," - ").concat(i)}function A3(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?tr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=tr(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function eg(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return gh(yh(vh(r,c),o),n)}function b3(r){return yv(r)}function R3(r,e){return ft(r,"ddd",e)}function wh(r){return Fo(r)}function Cs(r,e,t){var n=_l(e||Cv());return Fi(r,{locale:n,weekStartsOn:t})}function bi(r){return gC(r)}function Mu(r){return Wf(r)}function YE(r){return zg(r)}function qE(){return Fo(Ze())}function KE(r){return pC(r)}function M3(r){return u4(r)}function N3(r){return mC(r)}function jr(r,e){return r&&e?aj(r,e):!r&&!e}function yn(r,e){return r&&e?sj(r,e):!r&&!e}function cf(r,e){return r&&e?oj(r,e):!r&&!e}function Ke(r,e){return r&&e?a4(r,e):!r&&!e}function Io(r,e){return r&&e?lU(r,e):!r&&!e}function Nu(r,e,t){var n,i=Fo(e),o=pC(t);try{n=tc(r,{start:i,end:o})}catch{n=!1}return n}function Cv(){var r=jC();return r.__localeId__}function _l(r){if(typeof r=="string"){var e=jC();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function O3(r,e,t){return e(ft(r,"EEEE",t))}function V3(r,e){return ft(r,"EEEEEE",e)}function L3(r,e){return ft(r,"EEE",e)}function Pv(r,e){return ft(nr(Ze(),r),"LLLL",e)}function BC(r,e){return ft(nr(Ze(),r),"LLL",e)}function F3(r,e){return ft($a(Ze(),r),"QQQ",e)}function rr(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,p=t.filterDate;return Sc(r,{minDate:n,maxDate:i})||o&&o.some(function(m){return m instanceof Date?Ke(r,m):Ke(r,m.date)})||l&&l.some(function(m){var y=m.start,w=m.end;return tc(r,{start:y,end:w})})||c&&!c.some(function(m){return Ke(r,m)})||d&&!d.some(function(m){var y=m.start,w=m.end;return tc(r,{start:y,end:w})})||p&&!p(Ze(r))||!1}function xv(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,c=o.end;return tc(r,{start:l,end:c})}):n&&n.some(function(o){var l;return o instanceof Date?Ke(r,o):Ke(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function WC(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Sc(r,{minDate:n?gC(n):void 0,maxDate:i?mC(i):void 0})||(o==null?void 0:o.some(function(d){return yn(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return yn(r,d)})||c&&!c(Ze(r))||!1}function Zd(r,e,t,n){var i=Fe(r),o=vn(r),l=Fe(e),c=vn(e),d=Fe(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function U3(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return Sc(r,{minDate:n,maxDate:i})||o&&o.some(function(c){return yn(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return yn(c,r)})||!1}function eh(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return Sc(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return cf(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return cf(r,d)})||c&&!c(Ze(r))||!1}function th(r,e,t){if(!e||!t||!Zh(e)||!Zh(t))return!1;var n=Fe(e),i=Fe(t);return n<=r&&i>=r}function Th(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return Sc(d,{minDate:n?Wf(n):void 0,maxDate:i?yC(i):void 0})||(o==null?void 0:o.some(function(p){return jr(d,p instanceof Date?p:p.date)}))||l&&!l.some(function(p){return jr(d,p)})||c&&!c(Ze(d))||!1}function nh(r,e,t,n){var i=Fe(r),o=xo(r),l=Fe(e),c=xo(e),d=Fe(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function Sc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&pl(r,i)<0||o&&pl(r,o)>0)!==null&&t!==void 0?t:!1}function QE(r,e){return e.some(function(t){return xi(t)===xi(r)&&Ai(t)===Ai(r)&&Is(t)===Is(r)})}function GE(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&QE(r,n)||i&&!QE(r,i)||o&&!o(r)||!1}function XE(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=Ze();i=gh(i,xi(r)),i=yh(i,Ai(r)),i=vh(i,Is(r));var o=Ze();o=gh(o,xi(t)),o=yh(o,Ai(t)),o=vh(o,Is(t));var l=Ze();l=gh(l,xi(n)),l=yh(l,Ai(n)),l=vh(l,Is(n));var c;try{c=!tc(i,{start:o,end:l})}catch{c=!1}return c}function JE(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Ao(r,1);return n&&ef(n,o)>0||i&&i.every(function(l){return ef(l,o)>0})||!1}function ZE(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Ir(r,1);return n&&ef(o,n)>0||i&&i.every(function(l){return ef(o,l)>0})||!1}function j3(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Wf(r),l=IC(o);return n&&tf(n,l)>0||i&&i.every(function(c){return tf(c,l)>0})||!1}function B3(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=yC(r),l=gv(o,1);return n&&tf(l,n)>0||i&&i.every(function(c){return tf(l,c)>0})||!1}function eS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=ml(r,1);return n&&nf(n,o)>0||i&&i.every(function(l){return nf(l,o)>0})||!1}function W3(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?Ec:i,l=Mu(ml(r,o)),c=ws(l,o).endPeriod,d=n&&Fe(n);return d&&d>c||!1}function tS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Ci(r,1);return n&&nf(o,n)>0||i&&i.every(function(l){return nf(o,l)>0})||!1}function z3(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?Ec:i,l=Ci(r,o),c=ws(l,o).startPeriod,d=n&&Fe(n);return d&&d<c||!1}function zC(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return pl(i,e)>=0});return AE(n)}else return t?AE(t):e}function HC(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return pl(i,e)<=0});return xE(n)}else return t?xE(t):e}function nS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(Pi(l)){var c=ft(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",y=l[m];if(typeof m=="string"&&Array.isArray(y))for(var w=0,E=y.length;w<E;w++){var D=y[w];if(D){var c=ft(D,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(m)||(d.push(m),n.set(c,d))}}}}return n}function H3(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function $3(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(Pi(i)){var l=ft(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&H3(c.holidayNames,[o]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?zr(zr([],d,!0),[o],!1):[o],t.set(l,c)}}}),t}function Y3(r,e,t,n,i){for(var o=i.length,l=[],c=0;c<o;c++){var d=r,p=i[c];p&&(d=r4(d,xi(p)),d=Wg(d,Ai(p)),d=o4(d,Is(p)));var m=Wg(r,(t+1)*n);Fs(d,e)&&Uo(d,m)&&p!=null&&l.push(p)}return l}function rS(r){return r<10?"0".concat(r):"".concat(r)}function ws(r,e){e===void 0&&(e=Ec);var t=Math.ceil(Fe(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function q3(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function iS(r){var e=r.getSeconds(),t=r.getMilliseconds();return Ee(r.getTime()-e*1e3-t)}function K3(r,e){return iS(r).getTime()===iS(e).getTime()}function sS(r){if(!Pi(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function oS(r,e){if(!Pi(r)||!Pi(e))throw new Error("Invalid date received");var t=sS(r),n=sS(e);return Uo(t,n)}function $C(r){return r.key===he.Space}var Q3=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=G.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),p=d?c:new Date;if(i!=null&&i.includes(":")){var m=i.split(":"),y=m[0],w=m[1];p.setHours(Number(y)),p.setMinutes(Number(w))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,p)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,c=o.timeString,d=o.customTimeInput;return d?Y.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):G.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var p;(p=n.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:i,onChange:function(p){n.onTimeChange(p.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return G.createElement("div",{className:"react-datepicker__input-time-container"},G.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),G.createElement("div",{className:"react-datepicker-time__input-container"},G.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(Y.Component),G3=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=Y.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return Ke(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),rr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return xv(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ke(t.props.day,Cs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Ke(n,Cs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=ft(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var c=ft(o,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Nu(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,p=i.selectsDisabledDaysInRange,m=i.startDate,y=i.endDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!w||!p&&t.isDisabled()?!1:l&&y&&(Uo(w,y)||Io(w,y))?Nu(o,w,y):c&&m&&(Fs(w,m)||Io(w,m))||d&&m&&!y&&(Fs(w,m)||Io(w,m))?Nu(o,m,w):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Ke(o,d):Ke(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?Ke(o,p):Ke(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Ke(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Ke(l,i)},t.isWeekend=function(){var n=iU(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===vn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(vn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Ze())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Zt("react-datepicker__day",i,"react-datepicker__day--"+R3(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,p=t.isDisabled()||t.isExcluded()?d:l;return"".concat(p," ").concat(ft(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,c=n.excludeDates,d=ft(i,"MM.dd.yyyy"),p=[];return l.has(d)&&p.push.apply(p,l.get(d).holidayNames),t.isExcluded()&&p.push(c==null?void 0:c.filter(function(m){return m instanceof Date?Ke(m,i):Ke(m==null?void 0:m.date,i)}).map(function(m){if(!(m instanceof Date))return m==null?void 0:m.message})),p.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Ke(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(VE(t.props.day),t.props.day):VE(t.props.day)},t.render=function(){return G.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&G.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(Y.Component),X3=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=Y.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.props.date,t.props.selected)&&Ke(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ke(t.props.date,t.props.selected)&&Ke(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Ke(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Ke(this.props.date,this.props.selected)};return G.createElement("div",{ref:this.weekNumberEl,className:Zt(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(Y.Component),J3=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return rr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,c,d,p=new Date(n),m=0;m<7;m++){var y=new Date(n);y.setDate(y.getDate()+m);var w=!t.isDisabled(y);if(w){p=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,i,o),t.props.showWeekPicker&&t.handleDayClick(p,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):b3(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Sr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=Sr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(G.createElement(X3,Qe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=Sr(n,c);return G.createElement(G3,Qe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Cs(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.startOfWeek(),t.props.selected)&&Ke(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ke(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return G.createElement("div",{className:Zt(t)},this.renderDays())},e}(Y.Component),Cu,Z3=6,nl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},tg=(Cu={},Cu[nl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Cu[nl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Cu[nl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Cu),rh=1;function aS(r,e){return r?nl.FOUR_COLUMNS:e?nl.TWO_COLUMNS:nl.THREE_COLUMNS}var eB=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=zr([],Array(12),!0).map(function(){return Y.createRef()}),t.QUARTER_REFS=zr([],Array(4),!0).map(function(){return Y.createRef()}),t.isDisabled=function(n){return rr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return xv(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:yn(nr(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:cf($a(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:yn(nr(o,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:cf($a(o,n),c)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!w?!1:c&&y?Zd(w,y,n,l):d&&m||p&&m&&!y?Zd(m,w,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.startDate,d=o.selectsStart,p=nr(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?yn(p,m):yn(p,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.endDate,d=o.selectsEnd,p=o.selectsRange,m=nr(l,n),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||p?yn(m,y):yn(m,c)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!w?!1:c&&y?nh(w,y,n,l):d&&m||p&&m&&!y?nh(m,w,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=Sr(n,6);return yn(n,i)||yn(o,i)},t.isCurrentMonth=function(n,i){return Fe(n)===Fe(Ze())&&i===vn(Ze())},t.isCurrentQuarter=function(n,i){return Fe(n)===Fe(Ze())&&i===xo(Ze())},t.isSelectedMonth=function(n,i,o){return vn(o)===i&&Fe(n)===Fe(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return xo(n)===i&&Fe(n)===Fe(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,c=Cs(bi(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(D){return t.props.showWeekPicker?Cs(D,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(D){return t.props.showWeekPicker?Cs(D,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,y=t.props.preSelection?d(t.props.preSelection):void 0;n.push(G.createElement(J3,Qe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:c,month:vn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,c=Jh(c,1);var w=i&&o>=Z3,E=!i&&!t.isWeekInMonth(c);if(w||E)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,c=o.labelDate;l||t.handleDayClick(bi(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter(bi(l))},t.handleMonthNavigation=function(n,i){var o,l,c,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,c=t.props,d=c.selected,p=c.preSelection,m=c.setPreSelection,y=c.minDate,w=c.maxDate,E=c.showFourColumnMonthYearPicker,D=c.showTwoColumnMonthYearPicker;if(p){var C=aS(E,D),x=t.getVerticalOffset(C),U=(l=tg[C])===null||l===void 0?void 0:l.grid,B=function(b,k,P){var M,N,O=k,A=P;switch(b){case he.ArrowRight:O=Ir(k,rh),A=P===11?0:P+rh;break;case he.ArrowLeft:O=Ao(k,rh),A=P===0?11:P-rh;break;case he.ArrowUp:O=Ao(k,x),A=!((M=U==null?void 0:U[0])===null||M===void 0)&&M.includes(P)?P+12-x:P-x;break;case he.ArrowDown:O=Ir(k,x),A=!((N=U==null?void 0:U[U.length-1])===null||N===void 0)&&N.includes(P)?P-12+x:P+x;break}return{newCalculatedDate:O,newCalculatedMonth:A}},F=function(b,k,P){for(var M=40,N=b,O=!1,A=0,pe=B(N,k,P),De=pe.newCalculatedDate,ue=pe.newCalculatedMonth;!O;){if(A>=M){De=k,ue=P;break}if(y&&De<y){N=he.ArrowRight;var de=B(N,De,ue);De=de.newCalculatedDate,ue=de.newCalculatedMonth}if(w&&De>w){N=he.ArrowLeft;var de=B(N,De,ue);De=de.newCalculatedDate,ue=de.newCalculatedMonth}if(U3(De,t.props)){var de=B(N,De,ue);De=de.newCalculatedDate,ue=de.newCalculatedMonth}else O=!0;A++}return{newCalculatedDate:De,newCalculatedMonth:ue}};if(i===he.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),m==null||m(d));return}var H=F(i,p,o),J=H.newCalculatedDate,ne=H.newCalculatedMonth;switch(i){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:t.handleMonthNavigation(ne,J);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=tg[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,c=o.handleOnMonthKeyDown,d=n.key;d!==he.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var o=$a(t.props.day,i);eh(o,t.props)||t.handleDayClick(YE(o),n)},t.onQuarterMouseEnter=function(n){var i=$a(t.props.day,n);eh(i,t.props)||t.handleDayMouseEnter(YE(i))},t.handleQuarterNavigation=function(n,i){var o,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case he.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case he.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,gv(t.props.preSelection,1));break;case he.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,IC(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,c=o.minDate,d=o.maxDate,p=o.excludeDates,m=o.includeDates,y=nr(l,n);return{isDisabled:(i=(c||d||p||m)&&WC(y,t.props))!==null&&i!==void 0?i:!1,labelDate:y}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,p=i.monthClassName,m=p?p(nr(o,n)):void 0,y=t.getSelection();return Zt("react-datepicker__month-text","react-datepicker__month-".concat(n),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(o,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?Zd(l,c,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=vn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=xo(t.props.preSelection),o=eh(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,p=i.day,m=i.locale,y=nr(p,n),w=t.isDisabled(y)||t.isExcluded(y)?d:l;return"".concat(w," ").concat(ft(y,"MMMM yyyy",m))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.selected,p=i.minDate,m=i.maxDate,y=i.excludeDates,w=i.includeDates,E=i.filterDate,D=i.preSelection,C=i.disabledKeyboardNavigation,x=(p||m||y||w||E)&&eh($a(o,n),t.props);return Zt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!C&&D&&t.isSelectedQuarter(o,n,D)&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?nh(l,c,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,p=BC(n,c),m=Pv(n,c);return l?l(n,p,m,d):o?m:p},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,c=o.locale,d=F3(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,p=(n=tg[aS(l,o)])===null||n===void 0?void 0:n.grid;return p==null?void 0:p.map(function(m,y){return G.createElement("div",{className:"react-datepicker__month-wrapper",key:y},m.map(function(w,E){return G.createElement("div",{ref:t.MONTH_REFS[w],key:E,onClick:function(D){t.onMonthClick(D,w)},onKeyDown:function(D){$C(D)&&(D.preventDefault(),D.key=he.Enter),t.onMonthKeyDown(D,w)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(w)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(w)}:void 0,tabIndex:Number(t.getTabIndex(w)),className:t.getMonthClassNames(w),"aria-disabled":t.isMonthDisabled(w),role:"option","aria-label":t.getAriaLabel(w),"aria-current":t.isCurrentMonth(c,w)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,w,d):void 0},t.getMonthContent(w))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return G.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return G.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(p){t.onQuarterClick(p,c)},onKeyDown:function(p){t.onQuarterKeyDown(p,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":o?t.isSelectedQuarter(i,c,o):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,p=n.showWeekPicker;return Zt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return G.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(ft(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(Y.Component),tB=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return G.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?G.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return G.createElement(qf,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Y.Component),nB=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return G.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return G.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return G.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},G.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),G.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return G.createElement(tB,Qe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return BC(o,t.props.locale)}:function(o){return Pv(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return G.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(Y.Component);function rB(r,e){for(var t=[],n=bi(r),i=bi(e);!Fs(n,i);)t.push(Ze(n)),n=Ir(n,1);return t}var iB=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=Yg(i),l=jr(n.props.date,i)&&yn(n.props.date,i);return G.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?G.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",ft(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:rB(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Zt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return G.createElement(qf,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Y.Component),sB=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=bi(t.props.minDate),i=bi(t.props.maxDate),o=[];!Fs(n,i);){var l=Yg(n);o.push(G.createElement("option",{key:l,value:l},ft(n,t.props.dateFormat,t.props.locale))),n=Ir(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return G.createElement("select",{value:Yg(bi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=ft(t.props.date,t.props.dateFormat,t.props.locale);return G.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},G.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),G.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return G.createElement(iB,Qe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=Ze(n);jr(t.props.date,i)&&yn(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return G.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Y.Component),oB=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&XE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&GE(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&K3(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&XE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&GE(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(xi(n)*3600+Ai(n)*60+Is(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===he.Space&&(n.preventDefault(),n.key=he.Enter),(n.key===he.ArrowUp||n.key===he.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===he.ArrowDown||n.key===he.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===he.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||Ze(),d=wh(c),p=t.props.injectTimes&&t.props.injectTimes.sort(function(x,U){return x.getTime()-U.getTime()}),m=60*q3(c),y=m/l,w=0;w<y;w++){var E=Wg(d,w*l);if(i.push(E),p){var D=Y3(d,E,w,l,p);i=i.concat(D)}}var C=i.reduce(function(x,U){return U.getTime()<=c.getTime()?U:x},i[0]);return i.map(function(x){return G.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(U){x===C&&(t.centerLi=U)},onKeyDown:function(U){t.handleOnKeyDown(U,x)},tabIndex:x===C?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},ft(x,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?G.createElement(G.Fragment,null):G.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},G.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return G.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),G.createElement("div",{className:"react-datepicker__time"},G.createElement("div",{className:"react-datepicker__time-box"},G.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(Y.Component),lS=3,aB=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=zr([],Array(n.props.yearItemNumber),!0).map(function(){return Y.createRef()}),n.isDisabled=function(i){return rr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return xv(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,c,d,p,m=n.props,y=m.date,w=m.yearItemNumber;if(!(y===void 0||w===void 0)){var E=ws(y,w).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,o),i-E<0?n.updateFocusOnPaginate(w-(E-i)):i-E>=w?n.updateFocusOnPaginate(Math.abs(w-(i-E))):(p=(d=n.YEAR_REFS[i-E])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())}},n.isSameDay=function(i,o){return Ke(i,o)},n.isCurrentYear=function(i){return i===Fe(Ze())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&jr(Ur(Ze(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&jr(Ur(Ze(),i),n.props.endDate)},n.isInRange=function(i){return th(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,p=o.startDate,m=o.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&m?th(i,n.selectingDate(),m):c&&p||d&&p&&!m?th(i,p,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,p=Ur(Ze(),i);return d?jr(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):jr(p,c??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,p=l.selectsRange,m=Ur(Ze(),i);return d||p?jr(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):jr(m,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,c=o.maxDate,d=o.excludeDates,p=o.includeDates,m=o.filterDate,y=Mu(Ur(n.props.date,i)),w=(l||c||d||p||m)&&Th(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ke(y,Mu(n.props.selected))&&Ke(y,Mu(n.props.preSelection))&&!w}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(Mu(Ur(l,o)),i)},n.onYearKeyDown=function(i,o){var l,c,d=i.key,p=n.props,m=p.date,y=p.yearItemNumber,w=p.handleOnKeyDown;if(d!==he.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case he.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case he.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Ci(n.props.preSelection,1));break;case he.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,ml(n.props.preSelection,1));break;case he.ArrowUp:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var E=ws(m,y).startPeriod,D=lS,C=o-D;if(C<E){var x=y%D;o>=E&&o<E+x?D=x:D+=x,C=o-D}n.handleYearNavigation(C,ml(n.props.preSelection,D));break}case he.ArrowDown:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var U=ws(m,y).endPeriod,D=lS,C=o+D;if(C>U){var x=y%D;o<=U&&o>U-x?D=x:D+=x,C=o+D}n.handleYearNavigation(C,Ci(n.props.preSelection,D));break}}w&&w(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,c=o.minDate,d=o.maxDate,p=o.selected,m=o.excludeDates,y=o.includeDates,w=o.filterDate,E=o.yearClassName;return Zt("react-datepicker__year-text","react-datepicker__year-".concat(i),l?E==null?void 0:E(Ur(l,i)):void 0,{"react-datepicker__year-text--selected":p?i===Fe(p):void 0,"react-datepicker__year-text--disabled":(c||d||m||y||w)&&Th(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Fe(n.props.preSelection),l=Th(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var p=ws(o,l),m=p.startPeriod,y=p.endPeriod,w=function(C){n.push(G.createElement("div",{ref:E.YEAR_REFS[C-m],onClick:function(x){t.onYearClick(x,C)},onKeyDown:function(x){$C(x)&&(x.preventDefault(),x.key=he.Enter),t.onYearKeyDown(x,C)},tabIndex:Number(E.getYearTabIndex(C)),className:E.getYearClassNames(C),onMouseEnter:E.props.usePointerEvent?void 0:function(x){return c(x,C)},onPointerEnter:E.props.usePointerEvent?function(x){return c(x,C)}:void 0,onMouseLeave:E.props.usePointerEvent?void 0:function(x){return d(x,C)},onPointerLeave:E.props.usePointerEvent?function(x){return d(x,C)}:void 0,key:C,"aria-current":E.isCurrentYear(C)?"date":void 0},E.getYearContent(C)))},E=this,D=m;D<=y;D++)w(D);return G.createElement("div",{className:"react-datepicker__year"},G.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(Y.Component);function lB(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,c=!0;t&&(c=Fe(t)<=l),n&&c&&(c=Fe(n)>=l),c&&i.push(l)}return i}var uB=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(y){return G.createElement("div",{className:c===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":c===y?"true":void 0},c===y?G.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",y)}),p=n.props.minDate?Fe(n.props.minDate):null,m=n.props.maxDate?Fe(n.props.maxDate):null;return(!m||!n.state.yearsList.find(function(y){return y===m}))&&d.unshift(G.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},G.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!n.state.yearsList.find(function(y){return y===p}))&&d.push(G.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},G.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(p){return p+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:lB(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=Y.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Zt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return G.createElement(qf,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Y.Component),cB=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Fe(t.props.minDate):1900,i=t.props.maxDate?Fe(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(G.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return G.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return G.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},G.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),G.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return G.createElement(uB,Qe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return G.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Y.Component),dB=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],hB=function(r){var e=(r.className||"").split(/\s+/);return dB.some(function(t){return e.indexOf(t)>=0})},fB=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;hB(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,c=i.openToDate,d=zC(n.props),p=HC(n.props),m=Ze(),y=c||l||o;return y||(d&&Uo(m,d)?d:p&&Fs(m,p)?p:m)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Ir(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Ao(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:Ur(Ze(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,c,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!rr(i,n.props))return i;for(var o=bi(i),l=N3(i),c=l4(l,o),d=null,p=0;p<=c;p++){var m=Sr(o,p);if(!rr(m,n.props)){d=m;break}}return d},n.handleMonthChange=function(i){var o,l,c,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:Ur(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:nr(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:Ur(nr(l,vn(i)),Fe(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=Cs(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(G.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=Sr(o,c),p=n.formatWeekday(d,n.props.locale),m=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return G.createElement("div",{key:c,"aria-label":ft(d,"EEEE",n.props.locale),className:Zt("react-datepicker__day-name",m)},p)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?O3(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?L3(i,o):V3(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:ml(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=Ao(n.state.date,p),y;switch(!0){case n.props.showMonthYearPicker:y=eS(n.state.date,n.props);break;case n.props.showYearPicker:y=W3(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=j3(n.state.date,n.props);break;default:y=JE(m,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],E=["react-datepicker__navigation","react-datepicker__navigation--previous"],D=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(D=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(E.push("react-datepicker__navigation--previous--disabled"),D=void 0);var C=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,U=x.previousMonthButtonLabel,B=U===void 0?e.defaultProps.previousMonthButtonLabel:U,F=x.previousYearButtonLabel,H=F===void 0?e.defaultProps.previousYearButtonLabel:F,J=n.props,ne=J.previousMonthAriaLabel,b=ne===void 0?typeof B=="string"?B:"Previous Month":ne,k=J.previousYearAriaLabel,P=k===void 0?typeof H=="string"?H:"Previous Year":k;return G.createElement("button",{type:"button",className:E.join(" "),onClick:D,onKeyDown:n.props.handleOnKeyDown,"aria-label":C?P:b},G.createElement("span",{className:w.join(" ")},C?H:B))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:Ci(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=tS(n.state.date,n.props);break;case n.props.showYearPicker:o=z3(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=B3(n.state.date,n.props);break;default:o=ZE(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,m=n.props,y=m.nextMonthButtonLabel,w=y===void 0?e.defaultProps.nextMonthButtonLabel:y,E=m.nextYearButtonLabel,D=E===void 0?e.defaultProps.nextYearButtonLabel:E,C=n.props,x=C.nextMonthAriaLabel,U=x===void 0?typeof w=="string"?w:"Next Month":x,B=C.nextYearAriaLabel,F=B===void 0?typeof D=="string"?D:"Next Year":B;return G.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":p?F:U},G.createElement("span",{className:c.join(" ")},p?D:w))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),G.createElement("h2",{className:o.join(" ")},ft(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return G.createElement(cB,Qe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Fe(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return G.createElement(nB,Qe({},e.defaultProps,n.props,{month:vn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return G.createElement(sB,Qe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(qE(),i),n.props.setPreSelection&&n.props.setPreSelection(qE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return G.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return G.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),G.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),G.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var p=JE(n.state.date,n.props),m=ZE(n.state.date,n.props),y=eS(n.state.date,n.props),w=tS(n.state.date,n.props),E=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return G.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Qe(Qe({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:p,nextMonthButtonDisabled:m,prevYearButtonDisabled:y,nextYearButtonDisabled:w})),E&&G.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,p=d===void 0?e.defaultProps.yearItemNumber:d,m=ws(o,p),y=m.startPeriod,w=m.endPeriod;return G.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(y," - ").concat(w):Fe(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:o,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ci(n.state.date,d):Ao(n.state.date,d),m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,y=0;y<c;++y){var w=y-m+d,E=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ci(p,w):Ir(p,w),D="month-".concat(y),C=y<c-1,x=y>0;l.push(G.createElement("div",{key:D,ref:function(U){n.monthContainer=U??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:E,i:y}),G.createElement(eB,Qe({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:E,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:x}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return G.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),G.createElement(aB,Qe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return G.createElement(oB,Qe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Kf(i)&&!!n.props.selected,l=o?"".concat(rS(i.getHours()),":").concat(rS(i.getMinutes())):"";if(n.props.showTimeInput)return G.createElement(Q3,Qe({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=ws(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,c=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Fe(n.state.date):d="".concat(Pv(vn(n.state.date),n.props.locale)," ").concat(Fe(n.state.date)),G.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return G.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=Y.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ec}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Ke(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!yn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ke(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||C3;return G.createElement(qf,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},G.createElement("div",{style:{display:"contents"},ref:this.containerRef},G.createElement(t,{className:Zt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(Y.Component),pB=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return G.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(G.isValidElement(e)){var l=e;return G.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(n),onClick:function(c){typeof l.props.onClick=="function"&&l.props.onClick(c),typeof i=="function"&&i(c)}})}return G.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},G.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},YC=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Vj.createPortal(this.props.children,this.el)},e}(Y.Component),mB="[tabindex], a, button, input, select, textarea",gB=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},qC=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(mB),1,-1).filter(gB)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=Y.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?G.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},G.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,G.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(Y.Component);function yB(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=Y.useRef(null),l=I3(Qe({open:!i,whileElementsMounted:i3,placement:t.popperPlacement,middleware:zr([d3({padding:15}),c3(10),h3({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Qe(Qe({},t),{hidePopper:i,popperProps:Qe(Qe({},l),{arrowRef:o})});return G.createElement(r,Qe({},c))};return e}var vB=function(r){$t(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,c=t.popperComponent,d=t.targetComponent,p=t.enableTabLoop,m=t.popperOnKeyDown,y=t.portalId,w=t.portalHost,E=t.popperProps,D=t.showArrow,C=void 0;if(!l){var x=Zt("react-datepicker-popper",n);C=G.createElement(qC,{enableTabLoop:p},G.createElement("div",{ref:E.refs.setFloating,style:E.floatingStyles,className:x,"data-placement":E.placement,onKeyDown:m},c,D&&G.createElement(_3,{ref:E.arrowRef,context:E.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(C=Y.createElement(this.props.popperContainer,{},C)),y&&!l&&(C=G.createElement(YC,{portalId:y,portalHost:w},C));var U=Zt("react-datepicker-wrapper",i);return G.createElement(G.Fragment,null,G.createElement("div",{ref:E.refs.setReference,className:U},d),C)},e}(Y.Component),_B=yB(vB),uS="react-datepicker-ignore-onclickoutside";function wB(r,e){return r&&e?vn(r)!==vn(e)||Fe(r)!==Fe(e):r!==e}var ng="Date input not valid.",TB=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Ze()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var c=new Date(l.date);return Kf(c)?zr(zr([],o,!0),[Qe(Qe({},l),{date:c})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=zC(n.props),c=HC(n.props),d=l&&Uo(o,wh(l))?l:c&&Fs(o,KE(c))?c:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:nS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Qe(Qe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Qe(Qe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},n.setBlur=function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:rg},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Pi(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l,c,d,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var y=p[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,p),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){n.setState({inputValue:(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:EB});var w=n.props,E=w.selectsRange,D=w.startDate,C=w.endDate,x=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,U=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,B=(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:"";if(E){var F=B.split("-",2).map(function(N){return N.trim()}),H=F[0],J=F[1],ne=Zm(H??"",x,n.props.locale,U),b=Zm(J??"",x,n.props.locale,U),k=(D==null?void 0:D.getTime())!==(ne==null?void 0:ne.getTime()),P=(C==null?void 0:C.getTime())!==(b==null?void 0:b.getTime());if(!k&&!P||ne&&rr(ne,n.props)||b&&rr(b,n.props))return;(c=(l=n.props).onChange)===null||c===void 0||c.call(l,[ne,b],y)}else{var M=Zm(B,x,n.props.locale,U,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(M||!B)&&n.setSelected(M,y,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,p=c.endDate;d&&!p&&(n.props.swapRange||!oS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,c){var d,p,m=i;if(n.props.showYearPicker){if(m!==null&&Th(Fe(m),n.props))return}else if(n.props.showMonthYearPicker){if(m!==null&&WC(m,n.props))return}else if(m!==null&&rr(m,n.props))return;var y=n.props,w=y.onChange,E=y.selectsRange,D=y.startDate,C=y.endDate,x=y.selectsMultiple,U=y.selectedDates,B=y.minTime,F=y.swapRange;if(!Io(n.props.selected,m)||n.props.allowSameDay||E||x)if(m!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(m=eg(m,{hour:xi(n.props.selected),minute:Ai(n.props.selected),second:Is(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&B&&(m=eg(m,{hour:B.getHours(),minute:B.getMinutes(),second:B.getSeconds()})),n.props.inline||n.setState({preSelection:m}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),E){var H=!D&&!C,J=D&&!C,ne=D&&C;H?w==null||w([m,null],o):J&&(m===null?w==null||w([null,null],o):oS(m,D)?F?w==null||w([m,D],o):w==null||w([m,null],o):w==null||w([D,m],o)),ne&&(w==null||w([m,null],o))}else if(x){if(m!==null)if(!(U!=null&&U.length))w==null||w([m],o);else{var b=U.some(function(P){return Ke(P,m)});if(b){var k=U.filter(function(P){return!Ke(P,m)});w==null||w(k,o)}else w==null||w(zr(zr([],U,!0),[m],!1),o)}}else w==null||w(m,o);l||((p=(d=n.props).onSelect)===null||p===void 0||p.call(d,m,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=Pi(n.props.minDate),l=Pi(n.props.maxDate),c=!0;if(i){var d=wh(i);if(o&&l)c=Nu(i,n.props.minDate,n.props.maxDate);else if(o){var p=wh(n.props.minDate);c=Fs(i,p)||Io(d,p)}else if(l){var m=KE(n.props.maxDate);c=Uo(i,m)||Io(d,m)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:eg(c,{hour:xi(i),minute:Ai(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,c,d,p,m;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var y=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===he.ArrowDown||y===he.ArrowUp||y===he.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(y===he.ArrowDown||y===he.ArrowUp){i.preventDefault();var w=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',E=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(w);E instanceof HTMLElement&&E.focus({preventScroll:!0});return}var D=Ze(n.state.preSelection);y===he.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===rg?(n.handleSelect(D,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(D)):n.setOpen(!1)):y===he.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===he.Tab&&n.setOpen(!1),n.inputOk()||(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:ng})}},n.onPortalKeyDown=function(i){var o=i.key;o===he.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,c,d,p,m,y=n.props,w=y.minDate,E=y.maxDate,D=y.disabledKeyboardNavigation,C=y.showWeekPicker,x=y.shouldCloseOnSelect,U=y.locale,B=y.calendarStartDay,F=y.adjustDateOnChange,H=y.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!D){var J=i.key,ne=i.shiftKey,b=Ze(n.state.preSelection),k=function(De,ue){var de=ue;switch(De){case he.ArrowRight:de=C?Jh(ue,1):Sr(ue,1);break;case he.ArrowLeft:de=C?LE(ue):lj(ue);break;case he.ArrowUp:de=LE(ue);break;case he.ArrowDown:de=Jh(ue,1);break;case he.PageUp:de=ne?ml(ue,1):Ao(ue,1);break;case he.PageDown:de=ne?Ci(ue,1):Ir(ue,1);break;case he.Home:de=Cs(ue,U,B);break;case he.End:de=M3(ue);break}return de},P=function(De,ue){for(var de=40,X=De,ce=!1,ae=0,L=k(De,ue);!ce;){if(ae>=de){L=ue;break}w&&L<w&&(X=he.ArrowRight,L=rr(w,n.props)?k(X,L):w),E&&L>E&&(X=he.ArrowLeft,L=rr(E,n.props)?k(X,L):E),rr(L,n.props)?((X===he.PageUp||X===he.Home)&&(X=he.ArrowRight),(X===he.PageDown||X===he.End)&&(X=he.ArrowLeft),L=k(X,L)):ce=!0,ae++}return L};if(J===he.Enter){i.preventDefault(),n.handleSelect(b,i),!x&&n.setPreSelection(b);return}else if(J===he.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:ng});return}var M=null;switch(J){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:M=P(J,b);break}if(!M){(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:ng});return}if(i.preventDefault(),n.setState({lastPreSelectChange:rg}),F&&n.setSelected(M),n.setPreSelection(M),H){var N=vn(b),O=vn(M),A=Fe(b),pe=Fe(M);N!==O||A!==pe?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===he.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,c=o.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:G.createElement(fB,Qe({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:$3(n.modifyHolidays()),outsideClickIgnoreClass:uS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(tr(n.props.startDate,{dateFormat:p,locale:c}),". ").concat(n.props.endDate?"End date: "+tr(n.props.endDate,{dateFormat:p,locale:c}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(tr(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?m="Selected year: ".concat(tr(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?m="Selected month: ".concat(tr(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(tr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):m="Selected date: ".concat(tr(n.props.selected,{dateFormat:p,locale:c})),G.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,l,c=Zt(n.props.className,(i={},i[uS]=n.state.open,i)),d=n.props.customInput||G.createElement("input",{type:"text"}),p=n.props.customInputRef||"ref",m=n.props,y=m.dateFormat,w=y===void 0?e.defaultProps.dateFormat:y,E=m.locale,D=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?x3(n.props.startDate,n.props.endDate,{dateFormat:w,locale:E}):n.props.selectsMultiple?A3((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:w,locale:E}):tr(n.props.selected,{dateFormat:w,locale:E});return Y.cloneElement(d,(o={},o[p]=function(C){n.input=C},o.value=D,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=Zt(d.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,p=i.endDate,m=i.clearButtonTitle,y=i.clearButtonClassName,w=y===void 0?"":y,E=i.ariaLabelClose,D=E===void 0?"Close":E,C=i.selectedDates;return o&&(c!=null||d!=null||p!=null||C!=null&&C.length)?G.createElement("button",{type:"button",className:Zt("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":D,onClick:n.onClearClick,title:m,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ec,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,c;t.inline&&wB(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:nS(this.props.highlightDates)}),!n.focused&&!Io(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),G.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&G.createElement(pB,Qe({icon:i,className:Zt(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?G.createElement(qC,{enableTabLoop:this.props.enableTabLoop},G.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=G.createElement(YC,Qe({portalId:this.props.portalId},this.props),n)),G.createElement("div",null,this.renderInputContainer(),n)}return G.createElement(_B,Qe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(Y.Component),EB="input",rg="navigate";const SB=({employee:r})=>{const[e,t]=Y.useState([]),[n,i]=Y.useState({name:"",instructor:"",date:"",time:"",spots:0}),[o,l]=Y.useState(""),[c,d]=Y.useState(null),p=async()=>{try{const E=(await hc(Vo(bn,"classes"))).docs.map(D=>({id:D.id,...D.data()}));t(E)}catch(w){console.error("❌ שגיאה בטעינת השיעורים:",w)}};Y.useEffect(()=>{p()},[]);const m=async()=>{const{name:w,instructor:E,date:D,time:C,spots:x}=n;if(!w||!E||!D||!C||x<=0){l("נא למלא את כל השדות");return}try{const U=D.split("-").reverse().join("/");await oD(Vo(bn,"classes"),{name:w,instructor:E,date:U,time:C,spots:parseInt(x),createdAt:new Date}),l("✔️ שיעור נוסף בהצלחה!"),i({name:"",instructor:"",date:"",time:"",spots:0}),p()}catch(U){console.error("❌ שגיאה בהוספת שיעור:",U),l("שגיאה בהוספת שיעור")}},y=async w=>{try{await Ly(Os(bn,"classes",w)),l("🗑️ שיעור נמחק"),p()}catch(E){console.error("❌ שגיאה במחיקת שיעור:",E),l("שגיאה במחיקה")}};return(r==null?void 0:r.role)!=="מנהל"?K.jsxs("div",{className:"p-6",children:[K.jsx("h1",{className:"text-xl font-bold",children:"גישה מוגבלת"}),K.jsx("p",{children:"עמוד זה זמין רק למנהלי מערכת."})]}):K.jsxs("div",{className:"p-6",children:[K.jsx("h1",{className:"text-2xl font-bold mb-6",children:"ניהול שיעורים"}),K.jsxs("div",{className:"mb-6",children:[K.jsx("input",{type:"text",placeholder:"שם השיעור",value:n.name,onChange:w=>i({...n,name:w.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),K.jsx("input",{type:"text",placeholder:"שם המדריך",value:n.instructor,onChange:w=>i({...n,instructor:w.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),K.jsx(TB,{selected:c,onChange:w=>{d(w),i({...n,date:$g(w,"dd/MM/yyyy")})},dateFormat:"dd/MM/yyyy",placeholderText:"בחר תאריך",className:"block w-full p-2 mb-3 border rounded text-black"}),K.jsx("input",{type:"time",value:n.time,onChange:w=>i({...n,time:w.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),K.jsx("input",{type:"number",placeholder:"כמות מקומות פנויים",value:n.spots,onChange:w=>i({...n,spots:w.target.value}),className:"block w-full p-2 mb-3 border rounded text-black"}),K.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"הוסף שיעור"}),o&&K.jsx("p",{className:"mt-3 text-green-600",children:o})]}),K.jsxs("div",{children:[K.jsx("h2",{className:"text-lg font-bold mb-2",children:"רשימת שיעורים"}),K.jsx("ul",{children:e.map(w=>K.jsxs("li",{className:"flex justify-between items-center p-2 border-b",children:[K.jsxs("div",{children:[K.jsxs("p",{children:[K.jsx("strong",{children:w.name})," עם ",w.instructor]}),K.jsxs("p",{children:[w.date," בשעה ",w.time," | מקומות פנויים: ",w.spots]})]}),K.jsx("button",{onClick:()=>y(w.id),className:"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 text-sm",children:"מחק"})]},w.id))})]})]})},kB=()=>{const[r,e]=Y.useState(!0),[t,n]=Y.useState("home"),[i,o]=Y.useState(null);if(Y.useEffect(()=>{const d=setTimeout(()=>{console.log("✅ טעינה הסתיימה - הצגת אפליקציה"),e(!1)},2e3);return()=>clearTimeout(d)},[]),Y.useEffect(()=>{const d=localStorage.getItem("employeePhone"),p=localStorage.getItem("employeeRole");d&&p&&(console.log("📲 התחברות אוטומטית:",d),o({phone:d,role:p}))},[]),r)return K.jsx(cx,{});const l=()=>{localStorage.removeItem("employeePhone"),localStorage.removeItem("employeeRole"),o(null),n("home")},c=()=>{if(!i)return K.jsx(ZF,{onLogin:d=>{localStorage.setItem("employeePhone",d.phone),localStorage.setItem("employeeRole",d.role),o(d)}});switch(t){case"home":return K.jsx(IE,{employee:i});case"schedule":return K.jsx(XF,{employee:i});case"bookings":return K.jsx(JF,{employee:i});case"admin":return K.jsx(e4,{employee:i});case"adminClasses":return K.jsx(SB,{employee:i});default:return K.jsx(IE,{employee:i})}};return K.jsxs("div",{className:"min-h-screen bg-background text-text",dir:"rtl",children:[K.jsxs("header",{className:"flex justify-center items-center bg-white shadow-md py-4",children:[K.jsx("img",{src:dS,alt:"Milan Pilates Logo",className:"h-16 mr-4"}),K.jsx("h1",{className:"text-xl font-bold text-primary",children:"Milan Pilates"})]}),K.jsx("main",{className:"pb-20 p-4",children:c()}),i&&K.jsx("nav",{className:"fixed bottom-0 right-0 left-0 bg-white shadow-md z-10",children:K.jsxs("div",{className:"flex justify-around",children:[K.jsxs("button",{onClick:()=>n("home"),className:`p-3 flex flex-col items-center ${t==="home"?"text-primary":"text-muted"}`,children:[K.jsx(KF,{size:20}),K.jsx("span",{className:"text-xs mt-1",children:"בית"})]}),K.jsxs("button",{onClick:()=>n("schedule"),className:`p-3 flex flex-col items-center ${t==="schedule"?"text-primary":"text-muted"}`,children:[K.jsx($F,{size:20}),K.jsx("span",{className:"text-xs mt-1",children:"לוח שיעורים"})]}),K.jsxs("button",{onClick:()=>n("bookings"),className:`p-3 flex flex-col items-center ${t==="bookings"?"text-primary":"text-muted"}`,children:[K.jsx(CE,{size:20}),K.jsx("span",{className:"text-xs mt-1",children:"ההזמנות שלי"})]}),(i==null?void 0:i.role)==="מנהל"&&K.jsxs(K.Fragment,{children:[K.jsxs("button",{onClick:()=>n("admin"),className:`p-3 flex flex-col items-center ${t==="admin"?"text-secondary":"text-muted"}`,children:[K.jsx(GF,{size:20}),K.jsx("span",{className:"text-xs mt-1",children:"ניהול"})]}),K.jsxs("button",{onClick:()=>n("adminClasses"),className:`p-3 flex flex-col items-center ${t==="adminClasses"?"text-secondary":"text-muted"}`,children:[K.jsx(CE,{size:20}),K.jsx("span",{className:"text-xs mt-1",children:"שיעורים"})]})]}),K.jsxs("button",{onClick:l,className:"p-3 flex flex-col items-center text-red-500",children:[K.jsx(QF,{size:20}),K.jsx("span",{className:"text-xs mt-1",children:"התנתק"})]})]})})]})};ux.createRoot(document.getElementById("root")).render(K.jsx(G.StrictMode,{children:K.jsx(kB,{})}));
